window.__require=function e(t,o,n){function i(a,c){if(!o[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!c&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){return i(t[a][1][e]||e)},u,u.exports,e,t,o,n)}return o[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AdsMgr:[function(e,t,o){"use strict";cc._RF.push(t,"cf5c5NSFepPaaGFotmQ9lK8","AdsMgr");var n=e("AdsParam"),i=cc.Class({statics:{platform:"tt",bannerId_baidu:"6305713",bannerId_wx:"adunit-0af2758a3a73a316",bannerId_tt:"9o6309o85nl3do5rrr",bdVideoId_1:"6305753",bdVideoId_2:"6305781",bdVideoId_3:"6305782",bdVideoId_4:"6305784",bdVideoId_5:"6305786",bdVideoId_6:"6305788",bdVideoId_7:"6305753",bdVideoId_8:"6305753",bdVideoId_9:"6305753",bdVideoId_10:"6305753",wxVideoId_1:"adunit-5a1ac64d3f7b048a",wxVideoId_2:"adunit-df6320802d3c6696",wxVideoId_3:"adunit-3039544ac02a8058",wxVideoId_4:"adunit-b30de8489f3a4078",wxVideoId_5:"adunit-827d9d0f6f67011c",wxVideoId_6:"adunit-503baddcdc515459",wxVideoId_7:"adunit-503baddcdc515459",wxVideoId_8:"adunit-503baddcdc515459",wxVideoId_9:"adunit-503baddcdc515459",wxVideoId_10:"adunit-503baddcdc515459",ttVideoId_1:"i5bg2m952105hg462j",ttVideoId_2:"ajuql6h6dpeuxic0i6",ttVideoId_3:"g5a49ga6ckdc1e438f",ttVideoId_4:"1cs3207h4ibb1u4owg",ttVideoId_5:"1qd9nqd808f8cg30ii",ttVideoId_6:"985p022qpns38dbr45",ttVideoId_7:"",ttVideoId_8:"",ttVideoId_9:"",ttVideoId_10:"",allScreen:!1,hasReSizeBanner:!1,resizeTime:0,Init:function(){window.wx||window.tt||window.swan||(this.platform="pc"),this.allScreen=!1},getBannerAdId:function(){return"wx"==this.platform?this.bannerId_wx:"baidu"==this.platform?this.bannerId_baidu:"tt"==this.platform?this.bannerId_tt:null},getVideoAdId:function(e){var t="";if("wx"==this.platform)switch(e){case n.PointA:t=this.wxVideoId_1;break;case n.PointB:t=this.wxVideoId_2;break;case n.PointC:t=this.wxVideoId_3;break;case n.PointD:t=this.wxVideoId_4;break;case n.PointE:t=this.wxVideoId_5;break;case n.PointF:t=this.wxVideoId_6;break;case n.PointG:t=this.wxVideoId_7;break;case n.PointH:t=this.wxVideoId_8;break;case n.PointI:t=this.wxVideoId_9;break;case n.PointJ:t=this.wxVideoId_10}else if("baidu"==this.platform)switch(e){case n.PointA:t=this.bdVideoId_1;break;case n.PointB:t=this.bdVideoId_2;break;case n.PointC:t=this.bdVideoId_3;break;case n.PointD:t=this.bdVideoId_4;break;case n.PointE:t=this.bdVideoId_5;break;case n.PointF:t=this.bdVideoId_6;break;case n.PointG:t=this.bdVideoId_7;break;case n.PointH:t=this.bdVideoId_8;break;case n.PointI:t=this.bdVideoId_9;break;case n.PointJ:t=this.bdVideoId_10}else if("tt"==this.platform)switch(e){case n.PointA:t=this.ttVideoId_1;break;case n.PointB:t=this.ttVideoId_2;break;case n.PointC:t=this.ttVideoId_3;break;case n.PointD:t=this.ttVideoId_4;break;case n.PointE:t=this.ttVideoId_5;break;case n.PointF:t=this.ttVideoId_6;break;case n.PointG:t=this.ttVideoId_7;break;case n.PointH:t=this.ttVideoId_8;break;case n.PointI:t=this.ttVideoId_9;break;case n.PointJ:t=this.ttVideoId_10}return t},ShowBannerAds:function(){var e=this;if(this.resizeTime=0,null==this.bannerAdShowNum&&(this.bannerAdShowNum=0),this.bannerAdShowNum++,"wx"==this.platform){if(null!=this.bannerAdCtrl&&this.bannerAdShowNum%5!=0)return;this.bannerAdShowNum=0,null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var t={};t.W=wx.getSystemInfoSync().windowWidth,t.H=wx.getSystemInfoSync().windowHeight;var o=0;o=this.allScreen?t.W:300,this.bannerAdCtrl=wx.createBannerAd({adUnitId:e.getBannerAdId(),style:{left:0,top:0,width:o}}),this.bannerAdCtrl.onResize(function(o){console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "+t.H+" , "+e.bannerAdCtrl.style.realHeight),e.bannerAdCtrl.style.top=t.H-e.bannerAdCtrl.style.realHeight,e.bannerAdCtrl.style.left=(t.W-e.bannerAdCtrl.style.realWidth)/2,e.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("baidu"==this.platform){if("ios"==swan.getSystemInfoSync().platform)return;null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var n={};n.W=swan.getSystemInfoSync().windowWidth,n.H=swan.getSystemInfoSync().windowHeight,console.log("\u767e\u5ea6\u7684 bannerId = "+this.getBannerAdId()),this.bannerAdCtrl=swan.createBannerAd({adUnitId:e.getBannerAdId(),appSid:"f06bda59",style:{left:0,top:0,width:321}}),this.allScreen?e.bannerAdCtrl.style.width=n.H:e.bannerAdCtrl.style.width=300,this.bannerAdCtrl.onResize(function(t){console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "),e.bannerAdCtrl.style.top=n.H-t.height,e.bannerAdCtrl.style.left=(n.W-t.width)/2,e.bannerAdCtrl.show()}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),e.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("tt"==this.platform){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var i={};i.W=tt.getSystemInfoSync().windowWidth,i.H=tt.getSystemInfoSync().windowHeight,console.log("\u5934\u6761 bannerId = "+this.getBannerAdId()),this.bannerAdCtrl=tt.createBannerAd({adUnitId:e.getBannerAdId(),style:{left:0,top:0,width:321}}),this.allScreen?e.bannerAdCtrl.style.width=i.H:e.bannerAdCtrl.style.width=300,this.bannerAdCtrl.onResize(function(t){e.resizeTime<=5&&(console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "),e.bannerAdCtrl.style.top=i.H-t.height,e.bannerAdCtrl.style.left=(i.W-t.width)/2,e.bannerAdCtrl.show(),e.resizeTime+=1)}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),e.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}},HideBannerAd:function(){console.log("\u9690\u85cfbanner"),null!=this.bannerAdCtrl&&this.bannerAdCtrl.hide()},RecoverShowBanner:function(){console.log("\u91cd\u5f00banner"),null!=this.bannerAdCtrl?this.bannerAdCtrl.show():this.ShowBannerAds()},DestroyBanner:function(){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy()},ShowVideoAds:function(e,t){var o=this,n=this;if(this.cb=null,this.cb=t,"wx"==this.platform){var i=wx.createRewardedVideoAd({adUnitId:n.getVideoAdId(e)});i.load().then(function(){return i.show()}).catch(function(e){return console.log(e.errMsg)}),i.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),i.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),i.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1),i.offLoad(),i.offError(),i.offClose()})}else if("baidu"==this.platform){console.log("\u767e\u5ea6\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(e));var s=swan.createRewardedVideoAd({adUnitId:n.getVideoAdId(e),appSid:"f06bda59"});s.load().then(function(){return s.show()}).catch(function(e){return console.log(e.errMsg)}),s.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),s.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),s.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),n.cb(e.isEnded?0:1),s.offLoad(),s.offError(),s.offClose()})}else if("tt"==this.platform){console.log("\u5934\u6761\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(e));var a=tt.createRewardedVideoAd({adUnitId:n.getVideoAdId(e)});a.load().then(function(){return a.show()}).catch(function(e){return console.log(e.errMsg)}),a.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),a.onLoad(function(){console.log("\u5934\u6761\u89c6\u9891\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),a.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1),a.offLoad(),a.offError(),a.offClose()})}else this.cb(0)}}});t.exports=i,cc._RF.pop()},{AdsParam:"AdsParam"}],AdsParam:[function(e,t,o){"use strict";cc._RF.push(t,"6ebac4YHD5OeI8LYh2tSbEw","AdsParam");var n=cc.Enum({PointA:1,PointB:2,PointC:3,PointD:4,PointE:5,PointF:6,PointG:7,PointH:8,PointI:9,PointJ:10});t.exports=n,cc._RF.pop()},{}],AppStart:[function(e,t,o){"use strict";function n(){cc.Mgr={},cc.Mgr.OpenAds=!1,cc.Mgr.Parse=!1,cc.Mgr.preLoadingScene=!1,cc.director.getCollisionManager().enabled=!0,cc.Mgr.Utils=e("Utils");var t=e("MapDataMgr");cc.Mgr.MapDataMgr=new t,cc.Mgr.MapDataMgr.initMaps(),cc.Mgr.ShareInfos=e("ShareInfos"),cc.Mgr.ShareInfos.init(),cc.Mgr.userData=e("userDataMgr"),cc.Mgr.userData.init();var o=e("AudioMgr");cc.Mgr.AudioMgr=new o,cc.Mgr.AudioMgr.init(),cc.Mgr.PlatformController=e("PlatformController"),cc.Mgr.PlatformController.Init(),cc.Mgr.AdsMgr=e("AdsMgr"),cc.Mgr.AdsMgr.Init(),cc.Mgr.common=e("common")}cc._RF.push(t,"1cf38SJwplCd4hwNI2W5Xsx","AppStart"),cc.director.initMgr=!1;var i=e("RankPanel"),s=e("StartPanel"),a=e("PlanePanel");cc.Class({extends:cc.Component,properties:{planePanel:a,rankPanel:i,startPanel:s},onLoad:function(){if(cc.director.GlobalEvent.clear(),cc.director.getCollisionManager().enabled=!0,0==cc.director.initMgr){n(),cc.director.initMgr=!0,cc.Mgr.Utils.Scene=0;var e=cc.Mgr.userData.getTopScore("topScore");cc.Mgr.PlatformController.setUserCloudStorage(e),cc.Mgr.AdsMgr.ShowBannerAds(),cc.Mgr.Utils.ReSetData()}cc.Mgr.Utils.Scene=0,cc.Mgr.AudioMgr.playBGM("game_music")},start:function(){this.scheduleOnce(function(){this.startPanel.ShowPanel()},.1)},ShareFriend:function(){cc.Mgr.AudioMgr.playSFX("click");var e=Math.floor(4*Math.random());cc.Mgr.ShareInfos.getShareInfos(e);cc.Mgr.PlatformController.ShareToFriend(e)},OpenRankPanel:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.PlatformController.showToast("\u8be5\u529f\u80fd\u6682\u672a\u5f00\u653e")},OpenPlanePanel:function(){cc.Mgr.AudioMgr.playSFX("click"),this.planePanel.node.active=!0,this.planePanel.ShowPanel(cc.Mgr.userData.getPlaneId())}}),cc._RF.pop()},{AdsMgr:"AdsMgr",AudioMgr:"AudioMgr",MapDataMgr:"MapDataMgr",PlanePanel:"PlanePanel",PlatformController:"PlatformController",RankPanel:"RankPanel",ShareInfos:"ShareInfos",StartPanel:"StartPanel",Utils:"Utils",common:"common",userDataMgr:"userDataMgr"}],AudioMgr:[function(e,t,o){"use strict";cc._RF.push(t,"a86b9qyKIFALLfD9fjVmT9m","AudioMgr");var n=cc.Class({extends:cc.Component,properties:{bgmVolume:.5,sfxVolume:.5,bgmAudioID:-1,sfxAudioID:-1,musicState:1,voiceState:1},init:function(){var e;cc.Mgr.loadSound=!1,null!=(e=cc.sys.localStorage.getItem("bgmVolume"))&&(this.bgmVolume=parseFloat(e)),null!=(e=cc.sys.localStorage.getItem("sfxVolume"))&&(this.sfxVolume=parseFloat(e)),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("cc.audioEngine.pauseAll"),cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("cc.audioEngine.resumeAll"),cc.audioEngine.resumeAll()})},getUrl:function(e){return cc.url.raw("resources/sound/"+e+".mp3")},playBGM:function(e){var t=this.getUrl(e);this.bgmAudioID>=0&&cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=cc.audioEngine.play(t,!0,this.bgmVolume)},playSFX:function(e){var t=this.getUrl(e);cc.audioEngine.play(t,!1,this.sfxVolume)},setSFXVolume:function(e){this.sfxVolume!=e&&(cc.sys.localStorage.setItem("sfxVolume",e),this.sfxVolume=e)},setBGMVolume:function(e,t){this.bgmAudioID>=0&&(e>0?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID)),(this.bgmVolume!=e||t)&&(cc.sys.localStorage.setItem("bgmVolume",e),this.bgmVolume=e,cc.audioEngine.setVolume(this.bgmAudioID,e))},pauseAll:function(){this.musicState=0,this.voiceState=0,this.bgmVolume=0,this.sfxVolume=0,cc.audioEngine.pauseAll()},resumeAll:function(){this.musicState=1,this.voiceState=1,this.bgmVolume=1,this.sfxVolume=.5,cc.audioEngine.resumeAll()},pauseMusic:function(){this.musicState=0,this.bgmVolume=0,this.bgmAudioID>=0&&cc.audioEngine.pause(this.bgmAudioID)},resumeMusic:function(){this.musicState=1,this.bgmVolume=.5,this.bgmAudioID>=0&&cc.audioEngine.resume(this.bgmAudioID)},pauseVoice:function(){this.voiceState=0,this.sfxVolume=0},resumeVoice:function(){this.voiceState=1,this.sfxVolume=.8},getMusicState:function(){return this.musicState},getVoiceState:function(){return this.voiceState}});t.exports=n,cc._RF.pop()},{}],BulletType:[function(e,t,o){"use strict";cc._RF.push(t,"1a97dxIl1lNFLmeZrn8svPp","BulletType");var n=cc.Enum({Big:1,Small:2});t.exports=n,cc._RF.pop()},{}],ChooseFeiJi:[function(e,t,o){"use strict";cc._RF.push(t,"7936c4yatNMdKl30RXXJgVE","ChooseFeiJi");var n=cc.Class({extends:cc.Component,properties:{AdsNode:cc.Node,ChooseObj:{default:null,type:e("ChooseObj")},Id:0,main:{default:null,type:e("GameCtrl")}},start:function(){0==this.Id?1==cc.Mgr.userData.isUnLock_0?this.AdsNode.active=!1:this.AdsNode.active=!0:1==this.Id?1==cc.Mgr.userData.isUnLock_1?this.AdsNode.active=!1:this.AdsNode.active=!0:2==this.Id?1==cc.Mgr.userData.isUnLock_2?this.AdsNode.active=!1:this.AdsNode.active=!0:3==this.Id?1==cc.Mgr.userData.isUnLock_3?this.AdsNode.active=!1:this.AdsNode.active=!0:4==this.Id&&(1==cc.Mgr.userData.isUnLock_4?this.AdsNode.active=!1:this.AdsNode.active=!0)},ClickChoose:function(){0==this.Id?(1==cc.Mgr.userData.isUnLock_0&&(this.AdsNode.active=!1),cc.Mgr.userData.ChooseFeiJi=0,this.ChooseObj.setSpActive(),this.main.ChooseHeroPlane()):cc.Mgr.PlatformController.showToast("\u89c6\u9891\u5956\u52b1\u80fd\u5c1a\u672a\u5f00\u653e")}});t.exports=n,cc._RF.pop()},{ChooseObj:"ChooseObj",GameCtrl:"GameCtrl"}],ChooseObj:[function(e,t,o){"use strict";cc._RF.push(t,"40ae90YeZhAVoB69EsmypQc","ChooseObj");var n=cc.Class({extends:cc.Component,properties:{spList:[cc.Node]},setSpActive:function(){this.spList[0].active=0==cc.Mgr.userData.ChooseFeiJi,this.spList[1].active=1==cc.Mgr.userData.ChooseFeiJi,this.spList[2].active=2==cc.Mgr.userData.ChooseFeiJi,this.spList[3].active=3==cc.Mgr.userData.ChooseFeiJi,this.spList[4].active=4==cc.Mgr.userData.ChooseFeiJi}});t.exports=n,cc._RF.pop()},{}],DataType:[function(e,t,o){"use strict";cc._RF.push(t,"42b8cjOejpA5oAuG1QuL5OB","DataType");var n=cc.Enum({Plane:1});t.exports=n,cc._RF.pop()},{}],GameBgCtrl:[function(e,t,o){"use strict";cc._RF.push(t,"e40b20IJJdC8pZB33C1uuN3","GameBgCtrl");cc.Class({extends:cc.Component,properties:{bg:cc.Sprite,bgList:[cc.SpriteFrame]},start:function(){var e=cc.Mgr.Utils.PlaneIdToTypes(cc.Mgr.userData.getPlaneId());this.bg.spriteFrame=this.bgList[e.mType-1]}});cc._RF.pop()},{}],GameCtrl:[function(e,t,o){"use strict";cc._RF.push(t,"6afa0phF7dPka/zlZtFFHow","GameCtrl");var n=e("gameState"),i=null,s=cc.Class({extends:cc.Component,properties:function(){return{pause:cc.Button,pauseSp:cc.Sprite,btnSprite:{default:[],type:cc.SpriteFrame,tooltip:"\u6682\u505c\u6309\u94ae\u4e0d\u540c\u72b6\u6001\u7684\u56fe\u7247"},bomb:cc.Node,useBombClip:cc.AudioClip,dunClip:cc.AudioClip,enemyGroup:{default:null,type:e("enemyGroup")},hero:{default:null,type:e("hero")},ufoGroup:{default:null,type:e("ufoGroup")},bulletGroup:{default:null,type:e("bulletGroup")},scoreDisplay:cc.Label,bombNoDisplay:cc.Label,dunNoDisplay:cc.Label,eState:n.none,castleHp:100,castleHpBar:cc.ProgressBar,Atlas:cc.SpriteAtlas,screenSpA:cc.Sprite,upOne:!1,upTwo:!1,upThree:!1,bePause:!1}},start:function(){cc.director.GlobalEvent.on("ScreenB",function(e){this.SetScreenSps(),this.PauseGame()},this),cc.director.GlobalEvent.on("ShareVideoOver",function(e){1==e.resumeNow?this.ResumeGame():this.scheduleOnce(function(){this.ResumeGame()},2.75)},this)},onLoad:function(){cc.Mgr.Utils.Scene=1,this.bePause=!1,i=this,this.score=0,this.RefreshCastleHp(),this.setProgressBar(),this.bombNo=cc.Mgr.userData.boomNum,this.dunNo=cc.Mgr.userData.dunNum,this.scoreDisplay.string=this.score,this.bombNoDisplay.string=this.bombNo,this.dunNoDisplay.string=this.dunNo,this.eState=n.start,this.enemyGroup.startAction(),this.bulletGroup.startAction(),this.ufoGroup.startAction(),cc.director.preloadScene("end"),this.SetScreenSps()},ScreenRecord:function(){cc.Mgr.AudioMgr.playSFX("dong"),0==cc.Mgr.PlatformController.IsScreenRecord?(cc.Mgr.PlatformController.StartRecordScreen(),this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_on")):(cc.Mgr.PlatformController.StopRecordScreen(),this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_off"))},SetScreenSps:function(){0==cc.Mgr.PlatformController.IsScreenRecord?this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_off"):this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_on")},setProgressBar:function(){this.castleHpBar.progress=this.castleHp/100},AdsAddBoomNum:function(){0==this.bePause&&this.PauseGame(),cc.Mgr.AdsMgr.ShowVideoAds(3,function(e){i.scheduleOnce(function(){0==i.bePause&&i.ResumeGame()},.5),0==e&&(cc.Mgr.PlatformController.showToast("\u70b8\u5f39+5"),i.bombNo+=5,i.bombNoDisplay.string=i.bombNo)})},AdsAddDunNum:function(){0==this.bePause&&this.PauseGame(),cc.Mgr.AdsMgr.ShowVideoAds(6,function(e){i.scheduleOnce(function(){0==i.bePause&&i.ResumeGame()},.5),0==e&&(cc.Mgr.PlatformController.showToast("\u62a4\u76fe+5"),i.dunNo+=5,i.dunNoDisplay.string=i.dunNo)})},RefreshCastleHp:function(){this.castleHp=100},SubCastleHp:function(){this.castleHp>0&&(this.castleHp-=1),this.setProgressBar(),this.castleHp<=0&&this.hero.heroToDie()},ChooseHeroPlane:function(){this.hero.ChoosePlaneNode(!0)},RecoverHp:function(){this.hero.IsHpFull()?cc.Mgr.PlatformController.showToast("\u6ee1\u8840\u72b6\u6001,\u65e0\u9700\u6062\u590d"):(0==this.bePause&&this.PauseGame(),cc.Mgr.AdsMgr.ShowVideoAds(4,function(e){i.scheduleOnce(function(){0==i.bePause&&i.ResumeGame()},.5),0==e&&(cc.Mgr.PlatformController.showToast("\u6218\u673a\u6062\u590d\u6ee1\u8840"),i.hero.RecoverHp())}))},bombOnclick:function(){this.bombNo>0?(this.bombNo-=1,this.bombNoDisplay.string=this.bombNo,this.removeAllEnemy(),cc.audioEngine.playEffect(this.useBombClip,!1)):console.log("\u6ca1\u6709\u5b50\u5f39")},dunOnclick:function(){this.dunNo>0?(this.dunNo-=1,this.dunNoDisplay.string=this.dunNo,this.hero.UseDunDefine(),cc.audioEngine.playEffect(this.dunClip,!1)):console.log("\u6ca1\u6709dun")},pauseClick:function(){this.eState==n.pause?(this.resumeAllAction(),this.bePause=!1,this.eState=n.start,this.pauseSp.spriteFrame=this.btnSprite[0]):this.eState==n.start&&(this.pauseAllAction(),this.bePause=!0,this.eState=n.pause,this.pauseSp.spriteFrame=this.btnSprite[1])},PauseGame:function(){this.pauseAllAction(),this.eState=n.pause,this.pauseSp.spriteFrame=this.btnSprite[1]},ResumeGame:function(){this.resumeAllAction(),this.eState=n.start,this.pauseSp.spriteFrame=this.btnSprite[0]},resumeAllAction:function(){this.enemyGroup.resumeAction(),this.bulletGroup.resumeAction(),this.ufoGroup.resumeAction(),this.hero.onDrag()},pauseAllAction:function(){this.enemyGroup.pauseAction(),this.bulletGroup.pauseAction(),this.hero.offDrag(),this.ufoGroup.pauseAction()},gainScore:function(e){this.score+=e,this.UpdatePlane(),cc.Mgr.userData.addScore(e),this.scoreDisplay.string=""+this.score.toString()},UpdatePlane:function(){this.score>1e4&&0==this.upThree?(this.upThree=!0,cc.Mgr.userData.ChangePlaneTempId(cc.Mgr.userData.getPlaneId()+1),this.ChooseHeroPlane(),cc.log("+++++++++++++++++++++++ 3")):this.score>5e3&&0==this.upTwo?(this.upTwo=!0,cc.Mgr.userData.ChangePlaneTempId(cc.Mgr.userData.getPlaneId()+1),this.ChooseHeroPlane(),cc.log("+++++++++++++++++++++++ 2")):this.score>2e3&&0==this.upOne&&(this.upOne=!0,cc.Mgr.userData.ChangePlaneTempId(cc.Mgr.userData.getPlaneId()+1),this.ChooseHeroPlane(),cc.log("+++++++++++++++++++++++ 1"))},getScore:function(){return parseInt(this.scoreDisplay.string)},updateScore:function(){cc.Mgr.userData.SaveData()},removeAllEnemy:function(){cc.log("this.enemyGroup.node.children.length = "+this.enemyGroup.node.children.length);for(var e=this.enemyGroup.node.children.length-1;e>=0;e--){var t=this.enemyGroup.node.children[e].getComponent("enemy");null!=t&&t.hasUseBoom()}},getUfoBomb:function(){this.bombNo+=1,this.bombNoDisplay.string=this.bombNo},getUfoDun:function(){this.dunNo+=1,this.dunNoDisplay.string=this.dunNo},gameOver:function(){this.pauseAllAction(),this.updateScore();var e=cc.Mgr.userData.getTopScore();cc.Mgr.PlatformController.setUserCloudStorage(e),this.scheduleOnce(function(){cc.Mgr.PlatformController.SendMessageToSubView("GetRankList"),cc.director.loadScene("end")},.7)}});t.exports=s,cc._RF.pop()},{bulletGroup:"bulletGroup",enemyGroup:"enemyGroup",gameState:"gameState",hero:"hero",ufoGroup:"ufoGroup"}],GlobalEvent:[function(e,t,o){"use strict";cc._RF.push(t,"50e1a7bUj9FlY9Lz9z5vfPE","GlobalEvent"),cc.director.GlobalEvent={handles_:{},emit:function(e,t){var o=[];for(var n in t.eventName=e,this.handles_)if(n==e)for(var i=0;i<this.handles_[n].length;i++)if(this.handles_[n][i]){var s=this.handles_[n][i](t);o.push(s)}return o},on:function(e,t,o){this.handles_[e]=this.handles_[e]||[],this.handles_[e].push(t.bind(o))},off:function(e){if(this.handles_[e])for(var t=0;t<this.handles_[e].length;t++)this.handles_[e][t]=null},clear:function(){for(var e in this.handles_)for(var t=0;t<this.handles_[e].length;t++)this.handles_[e][t]=null}},cc._RF.pop()},{}],MapDataMgr:[function(e,t,o){"use strict";cc._RF.push(t,"c9c72wKBLRHIa0KTDV+NMCX","MapDataMgr");var n=e("PlaneMapDecoder"),i=e("DataType"),s=cc.Class({extends:cc.Component,properties:{planesMap:null,decodeAll:0},checkInitMapSuc:function(){this.decodeAll},initMaps:function(){cc.Mgr.Parse=!1,this.planesMap=new n;var e=this;this.decodeAll=0,this.planesMap.DecodeJson(function(t){t&&(e.decodeAll+=100,100==e.decodeAll&&(cc.Mgr.Parse=!0,cc.director.emit("ParseAll",{})))})},getDataByDataTypeAndId:function(e,t){var o=null;switch(e){case i.Plane:o=this.planesMap.getDataById(t)}return o}});t.exports=s,cc._RF.pop()},{DataType:"DataType",PlaneMapDecoder:"PlaneMapDecoder"}],PlaneData:[function(e,t,o){"use strict";cc._RF.push(t,"994d1FZHRNAm6FqtQ2a0dhe","PlaneData");var n=cc.Class({name:"PlaneData",properties:{Id:1,bullet:1,Hp:3,price:5e3,coinBunus:5,planeName:""}});t.exports=n,cc._RF.pop()},{}],PlaneMapDecoder:[function(e,t,o){"use strict";cc._RF.push(t,"5b8f966iQRK/r1N7mI/EelV","PlaneMapDecoder");var n=e("PlaneData"),i=cc.Class({extends:cc.Component,properties:{jsonName:"plane",planeList:{default:[],type:[n]}},DecodeJson:function(e){var t=this;t.reCb=e,cc.loader.loadRes("json/"+t.jsonName,function(e,o){if(e)t.reCb(!1);else{for(var i=o.json.plane,s=0;s<i.length;s++){var a=new n;a.Id=i[s].Id,a.bullet=i[s].bullet,a.price=i[s].price,a.coinBunus=i[s].coinBunus,a.planeName=i[s].planeName,a.Hp=i[s].Hp,t.planeList[s]=a}cc.log("\u89e3\u6790\u5b8c\u6210"),t.reCb(!0)}})},getDataById:function(e){for(var t=null,o=this.planeList.length-1;o>=0;o--)if(e==this.planeList[o].Id){t=this.planeList[o];break}return t},getJsonLength:function(){return this.planeList.length},getDataList:function(){return this.planeList}});t.exports=i,cc._RF.pop()},{PlaneData:"PlaneData"}],PlanePanel:[function(e,t,o){"use strict";cc._RF.push(t,"eb687VdInxH55FvroVf94Jq","PlanePanel");var n=e("TipPanel"),i=e("StartPanel"),s=cc.Class({extends:cc.Component,properties:{startPanel:i,tipPanel:n,DesLbl:cc.Label,BtnDes:cc.Label,starNum:cc.Label,checkNodes:[cc.Node],mType:1,ChooseId:1},ShowPanel:function(e){this.RefreshShow(e),this.RefreshStarNum()},RefreshStarNum:function(){this.starNum.string=cc.Mgr.userData.getCoinNum()},RefreshShow:function(e){this.ChooseId=e;var t=cc.Mgr.Utils.PlaneIdToTypes(e);this.mType=t.mType,cc.log("===================== "+this.mType);for(var o=0;o<=this.checkNodes.length-1;o++){var n=o+1;cc.log(this.mType+"======================== "+n),this.checkNodes[o].active=this.mType==n}var i=cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,this.ChooseId),s=i.planeName;1==cc.Mgr.userData.getPlaneIsUnLock(this.mType)?(s=(s=s+"\n\u57fa\u7840\u8840\u91cf:"+i.Hp)+"\n\u8363\u8000\u52a0\u6301:"+i.coinBunus+"%",this.BtnDes.string="\u4e0a \u9635"):(s=(s=(s=s+"\n\u57fa\u7840\u8840\u91cf:"+i.Hp)+"\n\u96c7\u4f63\u82b1\u8d39\u8363\u8000:"+i.price)+"\n\u8363\u8000\u52a0\u6301:"+i.coinBunus+"%",this.BtnDes.string="\u96c7 \u4f63"),this.DesLbl.string=s},ClosePanel:function(){cc.Mgr.AudioMgr.playSFX("click"),this.node.active=!1},ChooseIdA:function(){cc.Mgr.AudioMgr.playSFX("click"),this.ChooseId=1,this.RefreshShow(this.ChooseId)},ChooseIdB:function(){cc.Mgr.AudioMgr.playSFX("click"),this.ChooseId=5,this.RefreshShow(this.ChooseId)},ChooseIdC:function(){cc.Mgr.AudioMgr.playSFX("click"),this.ChooseId=9,this.RefreshShow(this.ChooseId)},ChooseIdD:function(){cc.Mgr.AudioMgr.playSFX("click"),this.ChooseId=13,this.RefreshShow(this.ChooseId)},BuyOrUse:function(){var e=cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,this.ChooseId);if(1==cc.Mgr.userData.getPlaneIsUnLock(this.mType)){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.userData.ChangePlaneId(this.ChooseId);var t=e.planeName+"\u5df2\u51c6\u5907\u5b8c\u6bd5,\u8bf7\u957f\u5b98\u4e0b\u8fbe\u51fa\u6218\u547d\u4ee4\uff01";return this.tipPanel.node.active=!0,void this.tipPanel.ShowPanel(t)}if(cc.Mgr.userData.getCoinNum()>=e.price){cc.Mgr.AudioMgr.playSFX("buy"),cc.Mgr.userData.addCoinNum(-e.price),cc.Mgr.userData.updatePlaneIsUnLock(this.mType),cc.Mgr.userData.ChangePlaneId(this.ChooseId);t=e.planeName+"\u524d\u6765\u62a5\u9053,\u8bf7\u957f\u5b98\u4e0b\u8fbe\u51fa\u6218\u547d\u4ee4\uff01";this.tipPanel.node.active=!0,this.BtnDes.string="\u4e0a \u9635",this.tipPanel.ShowPanel(t),this.startPanel.ShowPanel()}else{cc.Mgr.AudioMgr.playSFX("click");t="\u8363\u8000\u503c\u4e0d\u591f\u65e0\u6cd5\u96c7\u4f63";this.tipPanel.node.active=!0,this.tipPanel.ShowPanel(t)}this.RefreshStarNum()}});t.exports=s,cc._RF.pop()},{StartPanel:"StartPanel",TipPanel:"TipPanel"}],PlaneTypeNode:[function(e,t,o){"use strict";cc._RF.push(t,"d2f7c25vy1He7kdwvxaurUU","PlaneTypeNode");var n=cc.Class({extends:cc.Component,properties:{FourPlane:[cc.Node]},ChooseSubType:function(e){this.FourPlane[0].active=1==e||0,this.FourPlane[1].active=2==e||0,this.FourPlane[2].active=3==e||0,this.FourPlane[3].active=4==e||0}});t.exports=n,cc._RF.pop()},{}],PlatformController:[function(e,t,o){"use strict";cc._RF.push(t,"14759KM7UND6qDYXLeSI+QE","PlatformController");var n=cc.Class({statics:{IsScreenRecord:!1,wxSubContextViewLock:0,platform:"tt",Init:function(){window.wx||window.tt||window.swan||(this.platform="pc")},IsLoginSync:function(){return"baidu"!=this.platform||!!swan.isLoginSync().isLogin&&(console.log("\u5df2\u7ecf\u6709\u767b\u9646\u4e86"),!0)},CheckTTSession:function(e){tt.checkSession({success:function(t){e(!0),console.log("session\u672a\u8fc7\u671f")},fail:function(t){console.log("session\u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55"),e(!1)}})},Login:function(){var e=this;"baidu"==this.platform?swan.login({success:function(){e.setUserCloudStorage(cc.Mgr.UserData.getHighScore())},fail:function(){swan.showModal({title:"\u767b\u5f55\u5931\u8d25",content:"\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f",cancelText:"\u9000\u51fa\u6e38\u620f",success:function(t){t.confirm?(console.log("\u70b9\u51fb\u4e86\u786e\u5b9a"),e.Login()):t.cancel&&(console.log("\u70b9\u51fb\u4e86\u53d6\u6d88"),swan.exit())}})}}):"tt"==this.platform&&tt.login({success:function(){e.setUserCloudStorage(cc.Mgr.UserDataMgr.HistoryHighAssets)},fail:function(){tt.showModal({title:"\u767b\u5f55\u5931\u8d25",content:"\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f",cancelText:"\u9000\u51fa\u6e38\u620f",success:function(t){t.confirm?(console.log("\u70b9\u51fb\u4e86\u786e\u5b9a"),e.Login()):t.cancel&&(console.log("\u70b9\u51fb\u4e86\u53d6\u6d88"),tt.exitMiniProgram({}))}})}})},ShareTopNav:function(){var e=Math.floor(4*Math.random()),t=cc.Mgr.ShareInfos.getShareInfos(e);"wx"==this.platform?(wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:t.text,imageUrl:t.url}})):"tt"==this.platform?(tt.showShareMenu(!1),tt.onShareAppMessage(function(){return{title:t.text,imageUrl:t.url}})):"baidu"==this.platform&&(swan.showShareMenu(!1),swan.onShareAppMessage(function(){return{title:t.text,imageUrl:t.url}}))},ShareToFriendTxt:function(e){"wx"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),wx.shareAppMessage({title:e})):"tt"==this.platform?tt.shareAppMessage({title:e}):"baidu"==this.platform&&(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),swan.shareAppMessage({title:e}))},ShareToFriend:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cb=null;var o=this;this.cb=t;var n=cc.Mgr.ShareInfos.getShareInfos(e);"wx"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),wx.shareAppMessage({title:n.text,imageUrl:n.url})):"tt"==this.platform?tt.shareAppMessage({title:n.text,imageUrl:n.url,success:function(){null!=o.cb&&o.cb(0)},fail:function(e){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}}):"baidu"==this.platform&&(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),swan.shareAppMessage({title:n.text,imageUrl:n.url,success:function(){null!=o.cb&&o.cb(0)},fail:function(e){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}}))},showToast:function(e){cc.log(e),"wx"==this.platform?wx.showToast({title:e,icon:"none",duration:2e3}):"tt"==this.platform?tt.showToast({title:e,icon:"none",duration:2e3}):"baidu"==this.platform&&swan.showToast({title:e,icon:"none",duration:2e3})},setUserCloudStorage:function(e){var t,o;(console.log("setUserCloudStorage socre = "+e),"wx"==this.platform)&&((t={wxgame:{}}).wxgame.score=e,t.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(t)),(o=new Array).push({key:"\btzScore",value:JSON.stringify(t)}),wx.setUserCloudStorage({KVDataList:o,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail : "+e)}}));"baidu"==this.platform&&((t={wxgame:{}}).wxgame.score=e,t.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(t)),(o=new Array).push({key:"\btzScore",value:JSON.stringify(t)}),swan.setUserCloudStorage({KVDataList:o,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail : "+e)}}))},IsSupportRank:function(){return"wx"==this.platform},showSubContentView:function(){"wx"==this.platform&&(this.wxSubContextViewLock++,console.log("showSubContentView   "+this.wxSubContextViewLock))},hideSubContentView:function(){"wx"==this.platform&&(this.wxSubContextViewLock--,console.log("hideSubContentView   "+this.wxSubContextViewLock))},SendMessageToSubView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o={};o.code=e,o.curScore=t,"wx"==this.platform?wx.getOpenDataContext().postMessage({message:o}):"baidu"==this.platform&&swan.getOpenDataContext().postMessage({message:o})},QuakeScreen:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"pc"!=this.platform&&(1==e?"tt"==this.platform?tt.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"baidu"==this.platform?swan.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"wx"==this.platform&&wx.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"tt"==this.platform?tt.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"baidu"==this.platform?swan.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"wx"==this.platform&&wx.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}))},IsSupportRecordScreen:function(){return"tt"==this.platform||"baidu"==this.platform&&!!this.CompareSdkVesrion(swan.getSystemInfoSync().SDKVersion,"1.4.1")},CompareSdkVesrion:function(e,t){for(var o=e.split("."),n=t.split("."),i=0;i<o.length;i++){if(parseInt(o[i])<parseInt(n[i]))return 0;if(parseInt(o[i])>parseInt(n[i]))return 1}return 1},StartRecordScreen:function(){var e=this;this.videoPath="",this.IsScreenRecord=!0,this.showToast("\u5f00\u59cb\u5f55\u5236"),cc.Mgr.Utils.screenStartTime=cc.Mgr.Utils.GetSysTime(),"tt"==this.platform?(null==this.recorderManager&&(this.recorderManager=tt.getGameRecorderManager(),this.recorderManager.onStart(function(e){console.log("\u5f55\u5236\u5f00\u59cb\u4e86: "+e)}),this.recorderManager.onStop(function(t){e.showToast("\u7ed3\u675f\u5f55\u5236"),console.log("\u5f55\u5236\u7ed3\u675f\u4e86: "+t.videoPath),e.IsScreenRecord=!1,0==cc.Mgr.Utils.Scene?cc.director.GlobalEvent.emit("ScreenA",{}):cc.director.GlobalEvent.emit("ScreenB",{}),e.videoPath=t.videoPath,e.ShareRecordScreen()}),this.recorderManager.onPause(function(){console.log("\u5f55\u5236\u6682\u505c\u4e86")}),this.recorderManager.onResume(function(){console.log("\u5f55\u5236\u6062\u590d\u4e86")}),this.recorderManager.onError(function(t){console.log("\u5f55\u5236\u51fa\u9519\u4e86:"+t),e.IsScreenRecord=!1})),this.recorderManager.start({duration:30})):"baidu"==this.platform&&(null==this.recorderManager&&(this.recorderManager=swan.getVideoRecorderManager(),this.recorderManager.onStart(function(e){console.log("\u5f55\u5236\u5f00\u59cb\u4e86: "+e)}),this.recorderManager.onStop(function(t){console.log("\u5f55\u5236\u7ed3\u675f\u4e86: "+t.videoPath),e.IsScreenRecord=!1,e.videoPath=t.videoPath,cc.director.emit("ScreenOver",{}),e.ShareRecordScreen()}),this.recorderManager.onPause(function(){console.log("\u5f55\u5236\u6682\u505c\u4e86")}),this.recorderManager.onResume(function(){console.log("\u5f55\u5236\u6062\u590d\u4e86")}),this.recorderManager.onError(function(t){console.log("\u5f55\u5236\u51fa\u9519\u4e86:"+t),e.IsScreenRecord=!1})),this.recorderManager.start({duration:30,microphoneEnabled:!0}))},StopRecordScreen:function(){if(this.IsScreenRecord=!1,"tt"==this.platform){if(null==this.recorderManager)return;console.log("\u505c\u6b62\u5f55\u5236"),this.recorderManager.stop()}else if("baidu"==this.platform){if(null==this.recorderManager)return;console.log("\u505c\u6b62\u5f55\u5236"),this.recorderManager.stop()}},ShareRecordScreen:function(){var e=this;if(cc.Mgr.Utils.GetSysTime()-cc.Mgr.Utils.screenStartTime<=3)return cc.Mgr.Utils.screenStartTime=0,this.showToast("\u5f55\u5236\u65f6\u95f4\u5c11\u4e8e\u4e09\u79d2,\u672a\u80fd\u6210\u529f\u4fdd\u5b58\u89c6\u9891"),void cc.director.GlobalEvent.emit("ShareVideoOver",{resumeNow:!0});if(this.showToast("\u7ed3\u675f\u5f55\u5c4f"),"tt"==this.platform){if(null==this.recorderManager||""==this.videoPath)return;console.log("\u5206\u4eab\u5f55\u5236\u7684\u89c6\u9891"),tt.shareVideo({videoPath:""+this.videoPath,success:function(){1==cc.Mgr.Utils.Scene?(e.showToast("\u5206\u4eab\u5f55\u5236\u89c6\u9891\u6210\u529f\uff01\u4e09\u79d2\u540e\u6e38\u620f\u7ee7\u7eed"),cc.director.GlobalEvent.emit("ShareVideoOver",{resumeNow:!1})):e.showToast("\u5206\u4eab\u5f55\u5236\u89c6\u9891\u6210\u529f\uff01")},fail:function(t){1==cc.Mgr.Utils.Scene?(cc.director.GlobalEvent.emit("ShareVideoOver",{resumeNow:!1}),e.showToast("\u5206\u4eab\u5f55\u5236\u89c6\u9891\u5931\u8d25\uff01\u4e09\u79d2\u540e\u6e38\u620f\u7ee7\u7eed")):e.showToast("\u5206\u4eab\u5f55\u5236\u89c6\u9891\u5931\u8d25\uff01")}})}else if("baidu"==this.platform){if(null==this.recorderManager||null==this.videoPath)return;console.log("\u5206\u4eab\u5f55\u5236\u7684\u89c6\u9891"),swan.shareVideo({videoPath:""+this.videoPath,success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01")},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25\uff01"+e)}})}},JumpToOtherApp:function(e){"wx"==this.platform?wx.navigateToMiniProgram({appId:e,envVersion:"release",success:function(e){console.log("\u6210\u529f\u6253\u5f00\u4e86\u5176\u4ed6\u5c0f\u7a0b\u5e8f")}}):"baidu"==this.platform?swan.navigateToMiniProgram({appKey:e,extraData:{},success:function(e){console.log("\u767e\u5ea6\u8df3\u8f6c success",e)},fail:function(e){console.log("\u767e\u5ea6\u8df3\u8f6c fail",e)}}):"tt"==this.platform&&tt.navigateToMiniProgram({appId:e,extraData:{},success:function(e){console.log(" success",e)},fail:function(e){console.log(" fail",e)}})}}});t.exports=n,cc._RF.pop()},{}],RankPanel:[function(e,t,o){"use strict";cc._RF.push(t,"16b27buJihI0bHlPRHpSt5Y","RankPanel");var n=cc.Class({extends:cc.Component,properties:{isEndScne:!1},ToFrontPage:function(){cc.Mgr.PlatformController.SendMessageToSubView("ToFrontPage")},ToNextPage:function(){cc.Mgr.PlatformController.SendMessageToSubView("ToNextPage")},ClosePanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("RankPanelClose"),1==this.isEndScne&&cc.Mgr.PlatformController.SendMessageToSubView("ShowThreeNodes"),this.node.active=!1}});t.exports=n,cc._RF.pop()},{}],ShareInfos:[function(e,t,o){"use strict";cc._RF.push(t,"747b3uMa71Bx4tK12EFUCkl","ShareInfos");var n=cc.Class({extends:cc.Component,statics:{init:function(){this.Infos=[{text:"\u3010\u6709\u4eba@\u4f60\u3011\u5b88\u62a4\u9632\u7ebf,\u4fdd\u62a4\u5bb6\u56ed,\u52c7\u6562\u53bb\u6218\u6597",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5rwdJ2caGYwruRulxFWOibSNM1x6U7t980vzXXTdPSEia8goNCiaTp34ly/0"},{text:"\u6ed1\u52a8\u624b\u6307,\u64cd\u63a7\u6218\u673a,\u6ed1\u6e9c\u6e9c\u7684\u6218\u6597",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5p5p2IbH9vlHHchS51GuA9LfhClEMloCUicq6qgmpNzskIib3Dn4pB8YC/0"},{text:"\u6d88\u706d\u654c\u4eba\u662f\u6211\u4eec\u7684\u4f7f\u547d",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5rwdJ2caGYwruRulxFWOibSNM1x6U7t980vzXXTdPSEia8goNCiaTp34ly/0"},{text:"\u654c\u673a\u6765\u88ad,\u5404\u5355\u4f4d\u505a\u597d\u6218\u6597\u51c6\u5907\u3002",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5p5p2IbH9vlHHchS51GuA9LfhClEMloCUicq6qgmpNzskIib3Dn4pB8YC/0"}]},getShareInfos:function(e){return this.Infos[e]}}});t.exports=n,cc._RF.pop()},{}],StartPanel:[function(e,t,o){"use strict";cc._RF.push(t,"280c3rsZJJKnZ9RqbALVwtK","StartPanel");var n=null,i=cc.Class({extends:cc.Component,properties:{logoAni:cc.Animation,loadingAni:cc.Animation,coinNumLbl:cc.Label,Atlas:cc.SpriteAtlas,screenSpA:cc.Sprite},onLoad:function(){n=this,cc.director.preloadScene("main")},ScreenRecord:function(){cc.Mgr.AudioMgr.playSFX("dong"),0==cc.Mgr.PlatformController.IsScreenRecord?(cc.Mgr.PlatformController.StartRecordScreen(),this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_on")):(cc.Mgr.PlatformController.StopRecordScreen(),this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_off"))},SetScreenSps:function(){0==cc.Mgr.PlatformController.IsScreenRecord?this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_off"):this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_on")},ShowPanel:function(){this.coinNumLbl.string=cc.Mgr.userData.getCoinNum(),this.SetScreenSps()},start:function(){this.logoAni.play("logo"),cc.director.GlobalEvent.on("ScreenA",function(e){this.SetScreenSps()},this)},startGame:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.AdsMgr.HideBannerAd(),cc.director.loadScene("main",function(){})},AdsAddBoomNum:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.AdsMgr.ShowVideoAds(1,function(e){0==e&&(cc.Mgr.userData.boomNum+=3,cc.Mgr.userData.dunNum+=2,n.startGame())})}});t.exports=i,cc._RF.pop()},{}],TipPanel:[function(e,t,o){"use strict";cc._RF.push(t,"332097G06dMjrD68ufrHrpT","TipPanel");var n=cc.Class({extends:cc.Component,properties:{DesLbl:cc.Label},ShowPanel:function(e){this.DesLbl.string=e},ClosePanel:function(){cc.Mgr.AudioMgr.playSFX("click"),this.node.active=!1}});t.exports=n,cc._RF.pop()},{}],Utils:[function(e,t,o){"use strict";cc._RF.push(t,"cb109YPxm5KmY6L6bDiKHAM","Utils");var n=cc.Class({extends:cc.Component,statics:{screenStartTime:0,Scene:0,ReSetData:function(){this.Scene=0,this.screenStartTime=0},FormatNumToTime:function(e){var t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60),n=Math.floor(e-3600*t-60*o),i=t,s=o,a=n;return t<10&&(i="0"+t),o<10&&(s="0"+o),n<10&&(a="0"+n),i+":"+s+":"+a},GetSysTime:function(){return Math.round(new Date/1e3)-1545264e3},FormatNum:function(e){for(var t="",o=(e+="").length-1,n=1;o>=0;o--,n++)t+=n%3!=0||0==o?e[o]:e[o]+",";var i=t.split("").reverse().join("");return","==i[0]?i.splice(0,1):i},getTranslation:function(e){for(var t in cc.director.NoticeText)if(t.toString()==e)return cc.director.NoticeText[t];return"\u7ffb\u8bd1\u5b57\u6bb5null"},PlaneIdToTypes:function(e){var t={sType:1,mType:1};if(e%4!=0){var o=e%4;t.mType=Math.floor(e/4)+1,t.sType=o}else t.mType=Math.floor(e/4),t.sType=4;return t}}});t.exports=n,cc._RF.pop()},{}],bulletGroup:[function(e,t,o){"use strict";cc._RF.push(t,"3d2d93zegRMeaoaPHxucDMn","bulletGroup");var n=e("gameState"),i=cc.Class({name:"bPosition",properties:{xAxis:{default:"",tooltip:"\u521d\u59cbx\u8f74\uff0c\u76f8\u5bf9hero"},yAxis:{default:"",tooltip:"\u521d\u59cby\u8f74\uff0c\u76f8\u5bf9hero"}}}),s=cc.Class({name:"bulletInfinite",properties:{name:"",freqTime:0,initPollCount:0,prefab:cc.Prefab,position:{default:[],type:i,tooltip:"\u6bcf\u6b21\u591a\u5c11\u6392\u5b50\u5f39"}}}),a=cc.Class({name:"bulletFiniteG",extends:s,properties:{finiteTime:0,orginName:""}});cc.Class({extends:cc.Component,properties:function(){return{bulletInfinite:{default:null,type:s,tooltip:"\u65e0\u9650\u65f6\u957f\u5b50\u5f39\u7ec4"},bulletFiniteG:{default:[],type:a,tooltip:"\u6709\u9650\u65f6\u957f\u5b50\u5f39\u7ec4"},hero:cc.Node,bulletState:n.none}},onLoad:function(){this.bulletState=n.none,cc.Mgr.Common.initObjPool(this,this.bulletInfinite),cc.Mgr.Common.InitOneKindObjPool(this,this.bulletFiniteG)},startAction:function(){this.bulletState=n.start,this.getNewbullet(this.bulletInfinite),this.bICallback=function(){this.getNewbullet(this.bulletInfinite)}.bind(this),this.schedule(this.bICallback,this.bulletInfinite.freqTime)},pauseAction:function(){this.enabled=!1,this.bulletState=n.pause},resumeAction:function(){this.enabled=!0,this.bulletState=n.start},changeBullet:function(e){this.unschedule(this.bICallback),this.unschedule(this.bFCallback);for(var t=0;t<this.bulletFiniteG.length;t++)if(this.bulletFiniteG[t].orginName==e){this.bFCallback=function(e){this.getNewbullet(this.bulletFiniteG[e])}.bind(this,t),this.schedule(this.bFCallback,this.bulletFiniteG[t].freqTime,this.bulletFiniteG[t].finiteTime);var o=this.bulletFiniteG[t].freqTime*this.bulletFiniteG[t].finiteTime;this.schedule(this.bICallback,this.bulletInfinite.freqTime,cc.macro.REPEAT_FOREVER,o)}},getNewbullet:function(e){for(var t=e.name+"Pool",o=0;o<e.position.length;o++){var n=cc.Mgr.Common.genNewNode(this[t],e.prefab,this.node),i=this.getBulletPostion(e.position[o]);n.setPosition(i);var s=!1;i.x<0&&(s=!0),n.getComponent("bullet").init(s),n.getComponent("bullet").bulletGroup=this}},getBulletPostion:function(e){var t=this.hero.getPosition(),o=t.x+parseInt(e.xAxis),n=t.y+parseInt(e.yAxis);return cc.v2(o,n)},bulletDiedBackToPool:function(e){cc.Mgr.Common.backObjPool(this,e)}}),cc._RF.pop()},{gameState:"gameState"}],bullet:[function(e,t,o){"use strict";cc._RF.push(t,"81be82YwS9L1LZYufVXSrCP","bullet");var n=e("gameState"),i=e("BulletType");cc.Class({extends:cc.Component,properties:{xSpeed:cc.Integer,ySpeed:cc.Integer,hpDrop:cc.Integer,bulletType:{default:i.Small,type:i}},onLoad:function(){this.windowSize=cc.view.getVisibleSize()},init:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.xSpeed<=0&&(this.xSpeed=-this.xSpeed),1==e&&(this.xSpeed=-this.xSpeed)},onCollisionEnter:function(e,t){this.bulletType==i.Small&&this.bulletGroup.bulletDiedBackToPool(t.node)},update:function(e){this.bulletGroup.bulletState==n.start&&(this.node.x+=e*this.xSpeed,this.node.y+=e*this.ySpeed,this.node.y>this.windowSize.height&&this.bulletGroup.bulletDiedBackToPool(this.node))}}),cc._RF.pop()},{BulletType:"BulletType",gameState:"gameState"}],common:[function(e,t,o){"use strict";cc._RF.push(t,"67917VzMgFG4LdHbqjwaGkY","common");var n=e("gameState");cc.Class({extends:cc.Component,properties:{},statics:{gameState:0},InitOneKindObjPool:function(e,t){for(var o=0;o<t.length;o++){var n=t[o];this.initObjPool(e,n)}},initObjPool:function(e,t){var o=t.name+"Pool";e[o]=new cc.NodePool;for(var n=t.initPollCount,i=0;i<n;++i){var s=cc.instantiate(t.prefab);e[o].put(s)}},genNewNode:function(e,t,o){var n=null;return n=e.size()>0?e.get():cc.instantiate(t),o.addChild(n),n},backObjPool:function(e,t){e[t.name+"Pool"].put(t)},timeFmt:function(e,t){var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return t},onLoad:function(){cc.Mgr.Common=null,cc.Mgr.Common=this}});t.exports=n,cc._RF.pop()},{gameState:"gameState"}],end:[function(e,t,o){"use strict";cc._RF.push(t,"c597br4kitB+7t22tMQBl2k","end");var n=e("RankPanel"),i=e("TipPanel"),s=null;cc.Class({extends:cc.Component,properties:{topScore:cc.Label,currentScore:cc.Label,tipPanel:i,getCoin:cc.Label,hasCoinNum:cc.Label,rankPanel:n,hasDouble:!1},onLoad:function(){cc.Mgr.Utils.Scene=2,s=this,this.hasDouble=!1;var e=cc.Mgr.userData.getTopScore();this.topScore.string=e;var t="\u672c\u5c40\u5f97\u5206:"+cc.Mgr.userData.getCurScore();this.currentScore.string=t;var o=cc.Mgr.Utils.PlaneIdToTypes(cc.Mgr.userData.getPlaneId());cc.Mgr.userData.ChangePlaneTempId(4*(o.mType-1)+1),cc.Mgr.PlatformController.SendMessageToSubView("ShowThreeNodes"),cc.Mgr.AdsMgr.RecoverShowBanner()},start:function(){var e=cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,cc.Mgr.userData.getPlaneId()).coinBunus,t=Math.floor(cc.Mgr.userData.getCurScore()*(.01*e+1)/10);cc.Mgr.userData.addCoinNum(t),cc.Mgr.userData.SaveData(),this.getCoin.string=t,this.RefreshCoin()},RefreshCoin:function(){this.hasCoinNum.string=cc.Mgr.userData.getCoinNum()},gameRestart:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.PlatformController.SendMessageToSubView("RankPanelClose"),cc.Mgr.AdsMgr.HideBannerAd(),cc.director.loadScene("main")},gameExit:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.PlatformController.SendMessageToSubView("RankPanelClose"),cc.director.loadScene("start")},gotoHistoryScore:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.PlatformController.showToast("\u8be5\u529f\u80fd\u6682\u672a\u5f00\u653e")},AdsAddStarNum:function(){cc.Mgr.AudioMgr.playSFX("click"),this.hasDouble?s.ShowTip("\u672c\u5c40\u5df2\u7ecf\u4f7f\u7528\u770b\u89c6\u9891\u5956\u52b1"):cc.Mgr.AdsMgr.ShowVideoAds(5,function(e){if(0==e){var t=cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,cc.Mgr.userData.getPlaneId()).coinBunus,o=2*Math.floor(cc.Mgr.userData.getCurScore()*(.01*t+1)/10);cc.Mgr.userData.addCoinNum(o),cc.Mgr.userData.SaveData(),s.hasDouble=!0,s.RefreshCoin(),s.ShowTip("\u606d\u559c\u83b7\u5f97\u8363\u8000\u5956\u52b1"+o)}})},ShowTip:function(e){this.tipPanel.node.active=!0,this.tipPanel.ShowPanel(e)},AdsAddBoomNum:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.AdsMgr.ShowVideoAds(2,function(e){0==e&&(cc.Mgr.userData.boomNum+=3,cc.Mgr.userData.dunNum+=2,s.gameRestart())})}}),cc._RF.pop()},{RankPanel:"RankPanel",TipPanel:"TipPanel"}],enemyGroup:[function(e,t,o){"use strict";cc._RF.push(t,"703caNdSJBMG5jxYvPFwWvP","enemyGroup");var n=e("gameState"),i=cc.Class({name:"enemyG",properties:{name:"",freqTime:0,initPollCount:0,prefab:cc.Prefab}});cc.Class({extends:cc.Component,properties:function(){return{enemyG:{default:[],type:i},main:{default:null,type:e("GameCtrl")},eState:n.none}},onLoad:function(){this.windowSize=cc.view.getVisibleSize(),this.eState=n.none,cc.Mgr.Common.InitOneKindObjPool(this,this.enemyG)},startAction:function(){this.eState=n.start;for(var e=0;e<this.enemyG.length;++e){var t=this.enemyG[e].freqTime,o="callback_"+e;this[o]=function(e){this.getNewEnemyFromPool(this.enemyG[e])}.bind(this,e),this.schedule(this[o],t)}},resumeAction:function(){this.enabled=!0,this.eState=n.start},pauseAction:function(){this.enabled=!1,this.eState=n.pause},getNewEnemyFromPool:function(e){var t=e.name+"Pool",o=cc.Mgr.Common.genNewNode(this[t],e.prefab,this.node),n=this.giveNewEnemyPositon(o);o.setPosition(n),o.getComponent("enemy").init()},giveNewEnemyPositon:function(e){var t=Math.random()*(this.windowSize.width/2-e.width/2);Math.random()>.5&&(t=-t);var o=this.windowSize.height/2+e.height/2;return cc.v2(t,o)},enemyDiedBackToPool:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];cc.Mgr.Common.backObjPool(this,e),parseInt(t)>0&&this.main.gainScore(t),o&&this.main.SubCastleHp()},getScore:function(){return this.main.getScore()}}),cc._RF.pop()},{GameCtrl:"GameCtrl",gameState:"gameState"}],enemy:[function(e,t,o){"use strict";cc._RF.push(t,"14abee9CoxCobWl/nmeEUv8","enemy");var n=e("gameState");cc.Class({extends:cc.Component,properties:{xMinSpeed:{default:0,type:cc.Integer,tooltip:"x\u8f74\u6700\u5c0f\u901f\u5ea6"},xMaxSpeed:{default:0,type:cc.Integer,tooltip:"x\u8f74\u6700\u5927\u901f\u5ea6"},yMinSpeed:{default:0,type:cc.Integer,tooltip:"y\u8f74\u6700\u5c0f\u901f\u5ea6"},yMaxSpeed:{default:0,type:cc.Integer,tooltip:"y\u8f74\u6700\u5927\u901f\u5ea6"},initHP:{default:0,type:cc.Integer,tooltip:"\u521d\u59cb\u751f\u547d\u503c"},initSpriteFrame:{default:null,type:cc.SpriteFrame,tooltip:"\u521d\u59cb\u5316\u7684\u56fe\u50cf"},score:{default:0,type:cc.Integer,tooltip:"\u6b7b\u540e\u83b7\u5f97\u7684\u5206\u6570"},enemyDownClip:cc.AudioClip,bloomNode:cc.Node,bloomAni:cc.Animation,aniName:"enemy2ani"},onLoad:function(){this.windowSize=cc.view.getVisibleSize(),this.xSpeed=Math.random()*(this.xMaxSpeed-this.xMinSpeed)+this.xMinSpeed,this.ySpeed=Math.random()*(this.yMaxSpeed-this.yMinSpeed)+this.yMinSpeed,this.enemyGroup=this.node.parent.getComponent("enemyGroup")},init:function(){this.bloomNode.active=!1,"enemy"!=this.node.group&&(this.node.group="enemy"),this.hP!=this.initHP&&(this.hP=this.initHP);var e=this.node.getComponent(cc.Sprite);e.spriteFrame!=this.initSpriteFrame&&(e.spriteFrame=this.initSpriteFrame)},update:function(e){if(this.enemyGroup.eState==n.start){var t=this.enemyGroup.getScore();this.node.y+=t<=1e3?e*this.ySpeed:t>1e3&&t<=2e3?e*this.ySpeed-.5:t>2e3&&t<=5e3?e*this.ySpeed-1:t>5e3&&t<=1e4?e*this.ySpeed-1.5:t>1e4&&t<=2e4?e*this.ySpeed-2:e*this.ySpeed-3,this.node.x+=e*this.xSpeed,this.node.y<-this.windowSize.height/2&&this.enemyGroup.enemyDiedBackToPool(this.node,0,!0)}},onCollisionEnter:function(e,t){if("bullet"==e.node.group){var o=e.node.getComponent("bullet");this.hP>0&&(this.hP-=o.hpDrop,this.hP<=0&&(this.node.group="default",this.bloomNode.active=!0,this.bloomAni.play(this.aniName),this.bloomAni.on("finished",this.onFinished,this),cc.audioEngine.playEffect(this.enemyDownClip,!1)))}},onFinished:function(e){this.bloomNode.active=!1,this.enemyGroup.enemyDiedBackToPool(this.node,this.score)},hasUseBoom:function(){this.hP=0,this.node.group="default",this.bloomNode.active=!0,this.bloomAni.play(this.aniName),this.bloomAni.on("finished",this.onFinished,this),cc.audioEngine.playEffect(this.enemyDownClip,!1)}}),cc._RF.pop()},{gameState:"gameState"}],gameState:[function(e,t,o){"use strict";cc._RF.push(t,"eb0dd2suMVLQ7NUNfRX6Y0U","gameState");var n=cc.Enum({none:0,start:1,stop:2,wudi:3});t.exports=n,cc._RF.pop()},{}],globals:[function(e,t,o){"use strict";cc._RF.push(t,"2db22ldw1ZEWKAUUhqzblk7","globals"),window.D={common:null,commonInfo:null},cc._RF.pop()},{}],hero:[function(e,t,o){"use strict";cc._RF.push(t,"3f0ccHUefxOLK9+K5/zp2v4","hero");var n=e("gameState"),i=e("PlaneTypeNode");cc.Class({extends:cc.Component,properties:function(){return{blowupani:{default:null,type:cc.Animation,tooltip:"\u6b7b\u4ea1\u52a8\u753b"},PlaneMainTypeNodes:[i],smartTime:0,isSmart:!1,Hp:3,HpBar:cc.ProgressBar,MaskAni:cc.Animation,gameOverClip:cc.AudioClip,main:{default:null,type:e("GameCtrl")},bulletGroup:{default:null,type:e("bulletGroup")}}},IsHpFull:function(){var e=cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,cc.Mgr.userData.getPlaneId()).Hp;return this.Hp==e},setProgressBar:function(){var e=cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,cc.Mgr.userData.getPlaneId()).Hp;this.HpBar.progress=this.Hp/e},onLoad:function(){this.smartTime=0,this.isSmart=!1,this.windowSize=cc.view.getVisibleSize(),this.Hp=cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,cc.Mgr.userData.getPlaneId()).Hp,this.ChoosePlaneNode(!1),this.setProgressBar(),this.eState=n.none,this.onDrag()},ChoosePlaneNode:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=cc.Mgr.Utils.PlaneIdToTypes(cc.Mgr.userData.getPlaneId());this.PlaneMainTypeNodes[0].node.active=1==t.mType,this.PlaneMainTypeNodes[1].node.active=2==t.mType,this.PlaneMainTypeNodes[2].node.active=3==t.mType,this.PlaneMainTypeNodes[3].node.active=4==t.mType,1==e&&(cc.Mgr.AudioMgr.playSFX("lvup"),this.UseDunDefine()),1==t.mType?this.PlaneMainTypeNodes[0].ChooseSubType(t.sType):2==t.mType?this.PlaneMainTypeNodes[1].ChooseSubType(t.sType):3==t.mType?this.PlaneMainTypeNodes[2].ChooseSubType(t.sType):4==t.mType&&this.PlaneMainTypeNodes[3].ChooseSubType(t.sType),this.Hp=cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,cc.Mgr.userData.getPlaneId()).Hp,this.setProgressBar()},onDrag:function(){this.node.on("touchmove",this.dragMove,this)},offDrag:function(){this.node.off("touchmove",this.dragMove,this)},dragMove:function(e){var t=e.getLocation(),o=this.node.parent.convertToNodeSpaceAR(t),n=-this.windowSize.width/2+this.node.width/4,i=-n,s=-this.windowSize.height/2,a=this.windowSize.height/2+this.node.height/4;o.x<n&&(o.x=n),o.x>i&&(o.x=i),o.y<s&&(o.y=s),o.y>a&&(o.y=a),this.node.setPosition(o)},onCollisionEnter:function(e,t){if("ufo"==e.node.group)"ufo_b_2"==e.node.name?this.bulletGroup.changeBullet(e.node.name):"ufo_b_1"==e.node.name?this.bulletGroup.changeBullet(e.node.name):"ufo_b_3"==e.node.name?this.bulletGroup.changeBullet(e.node.name):"ufo_b_4"==e.node.name?this.bulletGroup.changeBullet(e.node.name):"ufo_b_5"==e.node.name?this.bulletGroup.changeBullet(e.node.name):"ufoBomb"==e.node.name?this.main.getUfoBomb():"ufoHp"==e.node.name?(this.Hp+=1,this.Hp>cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,cc.Mgr.userData.getPlaneId()).Hp&&(this.Hp=cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,cc.Mgr.userData.getPlaneId()).Hp),this.setProgressBar()):"ufoDun"==e.node.name&&(this.smartTime+=6,this.isSmart=!0,cc.Mgr.AudioMgr.playSFX("get_double_laser"));else{if("enemy"!=e.node.group)return!1;if(e.getComponent("enemy").hasUseBoom(),this.isSmart&&this.smartTime>0)return;if(this.Hp>0&&(this.Hp-=1,this.setProgressBar(),this.Hp>0))return this.isSmart=!0,this.smartTime=3,void cc.Mgr.AudioMgr.playSFX("get_double_laser");this.blowupani.node.active=!0,this.blowupani.play("bloom"),this.blowupani.on("finished",this.onFinished,this.blowupani.node),cc.audioEngine.playEffect(this.gameOverClip,!1),this.main.gameOver()}},heroToDie:function(){this.Hp=0,this.setProgressBar(),this.blowupani.node.active=!0,this.blowupani.play("bloom"),this.blowupani.on("finished",this.onFinished,this.blowupani.node),cc.audioEngine.playEffect(this.gameOverClip,!1),this.main.gameOver()},update:function(e){this.main.eState==n.start&&(this.smartTime>0?(this.isSmart=!0,this.MaskAni.node.active=!0,this.smartTime-=e):(this.isSmart=!1,this.MaskAni.node.active=!1))},UseDunDefine:function(){this.isSmart=!0,this.smartTime+=6,this.MaskAni.node.active=!0},onFinished:function(e){this.destroy()},RecoverHp:function(){this.Hp=cc.Mgr.MapDataMgr.getDataByDataTypeAndId(1,cc.Mgr.userData.getPlaneId()).Hp,this.setProgressBar()}}),cc._RF.pop()},{GameCtrl:"GameCtrl",PlaneTypeNode:"PlaneTypeNode",bulletGroup:"bulletGroup",gameState:"gameState"}],historyScore:[function(e,t,o){"use strict";cc._RF.push(t,"c11abrWZANO2aVZSE4dxEvW","historyScore"),cc.Class({extends:cc.Component,properties:{itemPrefab:cc.Prefab,scrollContent:cc.Node,backGame:cc.Node},onLoad:function(){for(var e=JSON.parse(cc.sys.localStorage.getItem("score")),t=0;t<e.length;++t){var o=cc.instantiate(this.itemPrefab),n=e[t];this.scrollContent.addChild(o),o.getComponent("scoreItemTemplate").init({score:n.score,time:n.time})}this.backGame.on("touchstart",this.backGameO,this)},backGameO:function(){cc.director.loadScene("end")}}),cc._RF.pop()},{}],scoreItemTemplate:[function(e,t,o){"use strict";cc._RF.push(t,"e7aaajpGBdAAaGaUimU4MnH","scoreItemTemplate"),cc.Class({extends:cc.Component,properties:{itemScore:cc.Label,itemTime:cc.Label},onLoad:function(){},init:function(e){this.itemScore.string="\u79ef\u5206\uff1a"+e.score,this.itemTime.string="\u65f6\u95f4\uff1a"+e.time}}),cc._RF.pop()},{}],ufoGroup:[function(e,t,o){"use strict";cc._RF.push(t,"07c58NeAQVELrP3L2RCOyrA","ufoGroup");var n=e("gameState"),i=cc.Class({name:"ufoG",properties:{name:"",freqTime:0,prefab:cc.Prefab,initPoolCount:0,minDelay:{default:0,tooltip:"\u6700\u5c0f\u5ef6\u8fdf"},maxDelay:{default:0,tooltip:"\u6700\u5927\u5ef6\u8fdf"}}});cc.Class({extends:cc.Component,properties:{ufoG:{default:[],type:i},ufoGroupState:n.none},onLoad:function(){this.ufoGroupState=n.none,cc.Mgr.Common.InitOneKindObjPool(this,this.ufoG)},startAction:function(){this.ufoGroupState=n.start;for(var e=0;e<this.ufoG.length;++e){var t=this.ufoG[e].freqTime,o="callback_"+e;this[o]=function(e){this.randomANewUfo(this.ufoG[e])}.bind(this,e),this.schedule(this[o],t)}},randomANewUfo:function(e){var t=Math.random()*(e.maxDelay-e.minDelay)+e.minDelay;this.scheduleOnce(function(e){this.getNewUfoFromPool(e)}.bind(this,e),t)},getNewUfoFromPool:function(e){var t=e.name+"Pool",o=cc.Mgr.Common.genNewNode(this[t],e.prefab,this.node),n=this.giveNewUfoPositon(o);o.setPosition(n)},giveNewUfoPositon:function(e){var t=Math.random()*(this.node.parent.width/2-e.width/2),o=this.node.parent.height/2+e.height/2;return cc.v2(t,o)},resumeAction:function(){this.enabled=!0,this.ufoGroupState=n.start},pauseAction:function(){this.enabled=!1,this.ufoGroupState=n.pause},ufoDiedBackToPool:function(e){cc.Mgr.Common.backObjPool(this,e)}}),cc._RF.pop()},{gameState:"gameState"}],ufo:[function(e,t,o){"use strict";cc._RF.push(t,"1e7a0zfIuJA+Kn9DAfY5544","ufo");var n=e("gameState");cc.Class({extends:cc.Component,properties:{xMinSpeed:{default:0,type:cc.Integer},xMaxSpeed:{default:0,type:cc.Integer},yMinSpeed:{default:0,type:cc.Integer},yMaxSpeed:{default:0,type:cc.Integer},getUfoClip:cc.AudioClip},onLoad:function(){this.windowSize=cc.view.getVisibleSize(),this.xSpeed=Math.random()*(this.xMaxSpeed-this.xMinSpeed)+this.xMinSpeed,this.ySpeed=Math.random()*(this.yMaxSpeed-this.yMinSpeed)+this.yMinSpeed,this.parentScript=this.node.parent.getComponent("ufoGroup")},onCollisionEnter:function(e,t){this.node.destroy(),cc.audioEngine.playEffect(this.getUfoClip,!1)},update:function(e){this.parentScript.ufoGroupState==n.start&&(this.node.x+=e*this.xSpeed,this.node.y+=e*this.ySpeed,this.node.y<-this.windowSize.height/2&&this.parentScript.ufoDiedBackToPool(this.node))}}),cc._RF.pop()},{gameState:"gameState"}],userDataMgr:[function(e,t,o){"use strict";cc._RF.push(t,"870958YdBVOnbLgBW1cV1f+","userDataMgr");var n=cc.Class({extends:cc.Component,statics:{boomNum:0,dunNum:0,score:0,heroHp:0,topScore:0,coin:0,planeId:1,ChooseFeiJi:0,isUnLock_1:1,isUnLock_2:0,isUnLock_3:0,isUnLock_4:0,InitFeiJiUnlock:function(){this.isUnLock_1=0,this.isUnLock_2=0,this.isUnLock_3=0,this.isUnLock_4=0},init:function(){cc.Mgr.initData=!1,this.ChooseFeiJi=0,this.boomNum=0,this.dunNum=0,this.score=0,this.heroHp=0;var e=cc.sys.localStorage.getItem("game_userdata");if(null==e||""==e){cc.log("\u8fd8\u6ca1\u6709\u4fdd\u5b58\u8fc7\u6301\u4e45\u6570\u636e");var t={topScore:0,coin:0,planeId:1,isUnLock_1:1,isUnLock_2:0,isUnLock_3:0,isUnLock_4:0};this.topScore=0,this.coin=0,this.planeId=1,this.isUnLock_1=1,this.isUnLock_2=0,this.isUnLock_3=0,this.isUnLock_4=0,cc.sys.localStorage.setItem("game_userdata",JSON.stringify(t))}else{cc.log("\u6709\u4e4b\u524d\u4fdd\u5b58\u7684\u6301\u4e45\u6570\u636e\u5b58\u5728");var o=JSON.parse(e);this.planeId=o.planeId,this.topScore=o.topScore,this.coin=o.coin,this.isUnLock_1=o.isUnLock_1,this.isUnLock_2=o.isUnLock_2,this.isUnLock_3=o.isUnLock_3,this.isUnLock_4=o.isUnLock_4}cc.Mgr.initData=!0},getCoinNum:function(){return this.coin},addCoinNum:function(e){this.coin+=e},getCurScore:function(){return this.score},getTopScore:function(){return this.topScore},addScore:function(e){this.score+=e,this.score>this.topScore&&(this.topScore=this.score)},ChangePlaneTempId:function(e){this.planeId=e},ChangePlaneId:function(e){this.planeId=e,this.SaveData()},getPlaneId:function(){return this.planeId},SaveData:function(){var e={};e.planeId=this.planeId,e.coin=this.coin,e.topScore=this.topScore,e.isUnLock_1=this.isUnLock_1,e.isUnLock_2=this.isUnLock_2,e.isUnLock_3=this.isUnLock_3,e.isUnLock_4=this.isUnLock_4,cc.sys.localStorage.setItem("game_userdata",JSON.stringify(e))},getPlaneIsUnLock:function(e){return 1==e?this.isUnLock_1:2==e?this.isUnLock_2:3==e?this.isUnLock_3:4==e?this.isUnLock_4:void 0},updatePlaneIsUnLock:function(e){1==e?this.isUnLock_1=1:2==e?this.isUnLock_2=1:3==e?this.isUnLock_3=1:4==e&&(this.isUnLock_4=1)}}});t.exports=n,cc._RF.pop()},{}]},{},["AppStart","AudioMgr","BulletType","ChooseFeiJi","ChooseObj","MapDataMgr","PlaneData","PlaneMapDecoder","DataType","GameBgCtrl","GameCtrl","GlobalEvent","PlanePanel","PlaneTypeNode","RankPanel","StartPanel","TipPanel","Utils","AdsMgr","AdsParam","bullet","bulletGroup","common","end","enemy","enemyGroup","gameState","globals","hero","historyScore","PlatformController","ShareInfos","scoreItemTemplate","ufo","ufoGroup","userDataMgr"]);