window.__require=function t(e,o,i){function n(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}}var d=o[s]={exports:{}};e[s][0].call(d.exports,function(t){return n(e[s][1][t]||t)},d,d.exports,t,e,o,i)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<i.length;s++)n(i[s]);return n}({AddBall:[function(t,e,o){"use strict";cc._RF.push(e,"21dfcLArolMXKleVDhyMhEA","AddBall");var i=t("MainController"),n=cc.Class({extends:cc.Component,properties:{main:i},shake:function(){var t=cc.shake(.7,1,1);this.node.runAction(t)},onBeginContact:function(t,e,o){"ball"==o.node.name&&(cc.Mgr.AudioMgr.playSFX("block"),this.shake(),this.main.addScore(),cc.Mgr.PlatformController.QuakeScreen(!1))}});e.exports=n,cc._RF.pop()},{MainController:"MainController"}],AdsMgr:[function(t,e,o){"use strict";cc._RF.push(e,"cf5c5NSFepPaaGFotmQ9lK8","AdsMgr");var i=t("AdsParam"),n=cc.Class({statics:{openAds:!0,platform:"tt",bannerId_baidu:"6305713",bannerId_wx:"adunit-311d38abaf841420",bannerId_tt:"d3lkh83mji34f72ajr",insertId_wx_1:"adunit-b06de84558864b20",insertId_wx_2:"adunit-0c8930d8d7844439",bdVideoId_1:"6305753",bdVideoId_2:"6305781",bdVideoId_3:"6305782",bdVideoId_4:"6305784",bdVideoId_5:"6305786",bdVideoId_6:"6305788",bdVideoId_7:"6305753",bdVideoId_8:"6305753",bdVideoId_9:"6305753",bdVideoId_10:"6305753",wxVideoId_1:"adunit-d0919208c0081929",wxVideoId_2:"adunit-75613bd9529e3a2f",wxVideoId_3:"adunit-ae93eda18cd2fb27",wxVideoId_4:"adunit-91976342f43ee018",wxVideoId_5:"adunit-827d9d0f6f67011c",wxVideoId_6:"adunit-503baddcdc515459",wxVideoId_7:"adunit-503baddcdc515459",wxVideoId_8:"adunit-503baddcdc515459",wxVideoId_9:"adunit-503baddcdc515459",wxVideoId_10:"adunit-503baddcdc515459",ttVideoId_1:"2ttrgqfg42lhke96ke",ttVideoId_2:"40ca751qgll7pcd1aa",ttVideoId_3:"ajf3db05tmej1cimmi",ttVideoId_4:"2nnn326do42ohc7a7c",ttVideoId_5:"2s2mnjnfcdt1d0e40e",ttVideoId_6:"985p022qpns38dbr45",ttVideoId_7:"",ttVideoId_8:"",ttVideoId_9:"",ttVideoId_10:"",allScreen:!1,hasReSizeBanner:!1,resizeTime:0,Init:function(){window.wx||window.tt||window.swan||(this.platform="pc"),this.allScreen=!1},getBannerAdId:function(){return"wx"==this.platform?this.bannerId_wx:"baidu"==this.platform?this.bannerId_baidu:"tt"==this.platform?this.bannerId_tt:null},getInsertAdId:function(t){if("wx"==this.platform){if(1==t)return this.insertId_wx_1;if(2==t)return this.insertId_wx_2}else"baidu"==this.platform||this.platform;return null},getVideoAdId:function(t){var e="";if("wx"==this.platform)switch(t){case i.PointA:e=this.wxVideoId_1;break;case i.PointB:e=this.wxVideoId_2;break;case i.PointC:e=this.wxVideoId_3;break;case i.PointD:e=this.wxVideoId_4;break;case i.PointE:e=this.wxVideoId_5;break;case i.PointF:e=this.wxVideoId_6;break;case i.PointG:e=this.wxVideoId_7;break;case i.PointH:e=this.wxVideoId_8;break;case i.PointI:e=this.wxVideoId_9;break;case i.PointJ:e=this.wxVideoId_10}else if("baidu"==this.platform)switch(t){case i.PointA:e=this.bdVideoId_1;break;case i.PointB:e=this.bdVideoId_2;break;case i.PointC:e=this.bdVideoId_3;break;case i.PointD:e=this.bdVideoId_4;break;case i.PointE:e=this.bdVideoId_5;break;case i.PointF:e=this.bdVideoId_6;break;case i.PointG:e=this.bdVideoId_7;break;case i.PointH:e=this.bdVideoId_8;break;case i.PointI:e=this.bdVideoId_9;break;case i.PointJ:e=this.bdVideoId_10}else if("tt"==this.platform)switch(t){case i.PointA:e=this.ttVideoId_1;break;case i.PointB:e=this.ttVideoId_2;break;case i.PointC:e=this.ttVideoId_3;break;case i.PointD:e=this.ttVideoId_4;break;case i.PointE:e=this.ttVideoId_5;break;case i.PointF:e=this.ttVideoId_6;break;case i.PointG:e=this.ttVideoId_7;break;case i.PointH:e=this.ttVideoId_8;break;case i.PointI:e=this.ttVideoId_9;break;case i.PointJ:e=this.ttVideoId_10}return e},ShowBannerAds:function(){var t=this;if(this.resizeTime=0,null==this.bannerAdShowNum&&(this.bannerAdShowNum=0),this.bannerAdShowNum++,"wx"==this.platform){if(null!=this.bannerAdCtrl&&this.bannerAdShowNum%5!=0)return;this.bannerAdShowNum=0,null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var e={};e.W=wx.getSystemInfoSync().windowWidth,e.H=wx.getSystemInfoSync().windowHeight;var o=0;o=this.allScreen?e.W:300,this.bannerAdCtrl=wx.createBannerAd({adUnitId:t.getBannerAdId(),style:{left:0,top:0,width:o}}),this.bannerAdCtrl.onResize(function(o){console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "+e.H+" , "+t.bannerAdCtrl.style.realHeight),t.bannerAdCtrl.style.top=e.H-t.bannerAdCtrl.style.realHeight,t.bannerAdCtrl.style.left=(e.W-t.bannerAdCtrl.style.realWidth)/2,t.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(t){console.log(t)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("baidu"==this.platform){if("ios"==swan.getSystemInfoSync().platform)return;null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var i={};i.W=swan.getSystemInfoSync().windowWidth,i.H=swan.getSystemInfoSync().windowHeight,console.log("\u767e\u5ea6\u7684 bannerId = "+this.getBannerAdId()),this.bannerAdCtrl=swan.createBannerAd({adUnitId:t.getBannerAdId(),appSid:"f06bda59",style:{left:0,top:0,width:321}}),this.allScreen?t.bannerAdCtrl.style.width=i.H:t.bannerAdCtrl.style.width=300,this.bannerAdCtrl.onResize(function(e){console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "),t.bannerAdCtrl.style.top=i.H-e.height,t.bannerAdCtrl.style.left=(i.W-e.width)/2,t.bannerAdCtrl.show()}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),t.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(t){console.log(t)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("tt"==this.platform){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var n={};n.W=tt.getSystemInfoSync().windowWidth,n.H=tt.getSystemInfoSync().windowHeight,console.log("\u5934\u6761 bannerId = "+this.getBannerAdId()),this.bannerAdCtrl=tt.createBannerAd({adUnitId:this.getBannerAdId(),style:{left:(n.W-200)/2,width:200,top:n.H-112.5}}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),t.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(t){console.log(t)}),console.log("\u663e\u793a\u5e7f\u544a")}},HideBannerAd:function(){console.log("\u9690\u85cfbanner"),null!=this.bannerAdCtrl&&this.bannerAdCtrl.hide(),"tt"!=this.platform&&this.DestroyBanner()},RecoverShowBanner:function(){null!=this.bannerAdCtrl?this.bannerAdCtrl.show():this.ShowBannerAds()},DestroyBanner:function(){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy(),this.bannerAdCtrl=null},ShowInsertAds:function(t){if("wx"==this.platform){var e=wx.createInterstitialAd({adUnitId:this.getInsertAdId(t)});e.onLoad(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e.show().catch(function(t){console.error(t)})}),e.onError(function(t){console.log(t)}),e.onClose(function(t){console.log("\u63d2\u5c4f \u5e7f\u544a\u5173\u95ed"),e.offLoad(),e.offError(),e.offClose()})}},ShowVideoAds:function(t,e){var o=this,i=this;if(this.cb=null,this.cb=e,"wx"==this.platform){var n=wx.createRewardedVideoAd({adUnitId:i.getVideoAdId(t)});n.load().then(function(){return n.show()}).catch(function(t){return console.log(t.errMsg)}),n.onError(function(t){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+t.errMsg),o.cb(-1)}),n.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),n.onClose(function(t){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+t.isEnded),o.cb(t.isEnded?0:1),n.offLoad(),n.offError(),n.offClose()})}else if("baidu"==this.platform){console.log("\u767e\u5ea6\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(t));var r=swan.createRewardedVideoAd({adUnitId:i.getVideoAdId(t),appSid:"f06bda59"});r.load().then(function(){return r.show()}).catch(function(t){return console.log(t.errMsg)}),r.onError(function(t){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+t.errMsg),o.cb(-1)}),r.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),r.onClose(function(t){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+t.isEnded),i.cb(t.isEnded?0:1),r.offLoad(),r.offError(),r.offClose()})}else if("tt"==this.platform){console.log("\u5934\u6761\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(t));var s=tt.createRewardedVideoAd({adUnitId:i.getVideoAdId(t)});s.load().then(function(){return s.show()}).catch(function(t){return console.log(t.errMsg)}),s.onError(function(t){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+t.errMsg),o.cb(-1)}),s.onLoad(function(){console.log("\u5934\u6761\u89c6\u9891\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),s.onClose(function(t){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+t.isEnded),o.cb(t.isEnded?0:1),s.offLoad(),s.offError(),s.offClose()})}else this.cb(0)}}});e.exports=n,cc._RF.pop()},{AdsParam:"AdsParam"}],AdsParam:[function(t,e,o){"use strict";cc._RF.push(e,"6ebac4YHD5OeI8LYh2tSbEw","AdsParam");var i=cc.Enum({PointA:1,PointB:2,PointC:3,PointD:4,PointE:5,PointF:6,PointG:7,PointH:8,PointI:9,PointJ:10});e.exports=i,cc._RF.pop()},{}],AudioMgr:[function(t,e,o){"use strict";cc._RF.push(e,"e8912JhdERPDKQfUIkKqz/4","AudioMgr");var i=cc.Class({extends:cc.Component,properties:{bgmVolume:.5,sfxVolume:.5,bgmAudioID:-1,sfxAudioID:-1,musicState:1,voiceState:1},init:function(){var t;cc.Mgr.loadSound=!1,null!=(t=cc.sys.localStorage.getItem("bgmVolume"))&&(this.bgmVolume=parseFloat(t)),null!=(t=cc.sys.localStorage.getItem("sfxVolume"))&&(this.sfxVolume=parseFloat(t)),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("cc.audioEngine.pauseAll"),cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("cc.audioEngine.resumeAll"),cc.audioEngine.resumeAll()})},getUrl:function(t){return cc.url.raw("resources/sound/"+t+".mp3")},playBGM:function(t){var e=this.getUrl(t);this.bgmAudioID>=0&&cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=cc.audioEngine.play(e,!0,this.bgmVolume)},playSFX:function(t){if(0!=this.voiceState){var e=this.getUrl(t);cc.audioEngine.play(e,!1,this.sfxVolume)}},setSFXVolume:function(t){this.sfxVolume!=t&&(cc.sys.localStorage.setItem("sfxVolume",t),this.sfxVolume=t)},setBGMVolume:function(t,e){this.bgmAudioID>=0&&(t>0?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID)),(this.bgmVolume!=t||e)&&(cc.sys.localStorage.setItem("bgmVolume",t),this.bgmVolume=t,cc.audioEngine.setVolume(this.bgmAudioID,t))},pauseAll:function(){this.musicState=0,this.voiceState=0,this.bgmVolume=0,this.sfxVolume=0,cc.audioEngine.pauseAll()},resumeAll:function(){this.musicState=1,this.voiceState=1,this.bgmVolume=.5,this.sfxVolume=.5,cc.audioEngine.resumeAll()},pauseMusic:function(){this.musicState=0,this.bgmVolume=0,this.bgmAudioID>=0&&cc.audioEngine.pause(this.bgmAudioID)},resumeMusic:function(){this.musicState=1,this.bgmVolume=.5,this.bgmAudioID>=0&&cc.audioEngine.resume(this.bgmAudioID)},pauseVoice:function(){this.voiceState=0,this.sfxVolume=0},resumeVoice:function(){this.voiceState=1,this.sfxVolume=.5},getMusicState:function(){return this.musicState},getVoiceState:function(){return this.voiceState}});e.exports=i,cc._RF.pop()},{}],Ball:[function(t,e,o){"use strict";cc._RF.push(e,"1d3eco/MrRNJrBdpHK5Et9m","Ball");var i=t("./Config"),n=cc.Class({extends:cc.Component,properties:function(){return{rigidBody:{type:cc.RigidBody,default:null},isTouchedGround:!1}},onLoad:function(){var t=cc.winSize;this.winWidth=t.width,this.winHeight=t.height,this.rigidBody=this.getComponent(cc.RigidBody),this.collider=this.getComponent(cc.Collider)},update:function(t){if(this.isTouchedGround){this.rigidBody.active=!1,this.rigidBody.linearVelocity=cc.Vec2.ZERO;var e=[];e.push(this.node.position),this.node.position.x>0?(e.push(cc.v2(this.winWidth/2-30,-360)),e.push(cc.v2(this.winWidth/2-30,645)),e.push(cc.v2(162,560))):(e.push(cc.v2(-this.winWidth/2+30,-360)),e.push(cc.v2(-this.winWidth/2+30,645)),e.push(cc.v2(-162,560))),this.node.runAction(cc.sequence(cc.cardinalSplineTo(1,e,.75),cc.callFunc(function(){this.rigidBody.active=!0,this.node.group=i.groupBallInRecycle,this.main.recycleOneShootBall()}.bind(this)))),this.isTouchedGround=!1}},onBeginContact:function(t,e,o){"ground"==o.node.name&&(this.isTouchedGround=!0,cc.Mgr.AudioMgr.playSFX("undo"),cc.Mgr.PlatformController.QuakeScreen(!1))}});e.exports=n,cc._RF.pop()},{"./Config":"Config"}],BarrierType:[function(t,e,o){"use strict";cc._RF.push(e,"f9f03/h+HZEcbn0VlS5ArZH","BarrierType");var i=cc.Enum({IsBomb:1,IsAddBall:2,IsAddScore:3,IsHell:4});e.exports=i,cc._RF.pop()},{}],Barrier:[function(t,e,o){"use strict";cc._RF.push(e,"60c62mT6OhALLjJRsK7kVMV","Barrier");var i=t("BarrierType"),n=cc.Class({extends:cc.Component,properties:function(){return{lbScore:{default:null,type:cc.Label},bType:{default:i.IsAddScore,type:i}}},start:function(){this.lbScore&&(this.lbScore.node.rotation=-this.node.rotation),this.node.color=cc.color(200,this.randomNum(0,255),this.randomNum(0,255),255),this.setScore(this.main.setBarrierScore())},randomNum:function(t,e){var o=e-t,i=Math.random();return t+Math.floor(i*o)},setScore:function(t){this.lbScore&&(this.bType==i.IsHell&&(t=Math.floor(this.main.balls.length/10)+3),this.score=t,this.lbScore.string=this.score.toString())},SubScore:function(){this.lbScore&&(this.score-=1,this.lbScore.string=this.score.toString())},onCollisionEnter:function(t,e){if(cc.log("\u70b8\u5f39\u649e\u5230\u4e86 ===== "+t.node.name),"Bomb"==t.node.name){if(this.bType!=i.IsBomb)return void this.main.removeBarrier(this);this.main.addNumScore(this.score),cc.Mgr.AudioMgr.playSFX("bomb"),this.main.addBombExploreAtPos(this.node.position),this.main.removeBarrier(this)}},onBeginContact:function(t,e,o){if(this.bType==i.IsAddBall)cc.Mgr.AudioMgr.playSFX("addone"),this.main.addBallInGameIng(this.node.position),this.main.removeBarrier(this);else if(this.bType==i.IsBomb)cc.Mgr.AudioMgr.playSFX("newstage"),this.main.addBombExploreAtPos(this.node.position),this.main.removeBarrier(this);else if(this.bType==i.IsAddScore)cc.Mgr.AudioMgr.playSFX("block"),this.main.addScore(),1==this.score?this.main.removeBarrier(this):(this.SubScore(),this.main.shake(this));else if(this.bType==i.IsHell){cc.Mgr.AudioMgr.playSFX("hammer"),this.main.addNumScore(10);var n=o.node.getComponent("Ball");null!=n&&this.main.hellSubBall(n),1==this.score?this.main.removeBarrier(this):(this.SubScore(),this.main.shake(this))}}});e.exports=n,cc._RF.pop()},{BarrierType:"BarrierType"}],Bomb:[function(t,e,o){"use strict";cc._RF.push(e,"490f63thxpGoqwIGZeTvmKj","Bomb");var i=cc.Class({extends:cc.Component,properties:{anima:cc.Animation},onLoad:function(){this.node.scale=cc.v2(cc.Mgr.Global.boomScale,cc.Mgr.Global.boomScale)},PlayAni:function(){this.anima.play("bomb")},ExploreEnd:function(){this.node.destroy()}});e.exports=i,cc._RF.pop()},{}],Config:[function(t,e,o){"use strict";cc._RF.push(e,"12c6crNXPJI1reYdtydpz+A","Config"),e.exports={groupBallInGame:"ballInGame",groupBallInRecycle:"ballInRecycle",groupBallInHell:"ballInHell",bomb:"bomb",barrier:"barrier",default:"default"},cc._RF.pop()},{}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"33f09DYG5hA8oaVWxD9t+ZT","Global");var i=cc.Class({statics:{screenStartTime:0,openAds:!0,sceneA:!1,boomScale:.9,InitData:function(){}}});e.exports=i,cc._RF.pop()},{}],HellSp:[function(t,e,o){"use strict";cc._RF.push(e,"fbb40z0qcxC/LBub+tYW+6Y","HellSp");var i=cc.Class({extends:cc.Component,properties:{},randomNum:function(t,e){var o=e-t,i=Math.random();return t+Math.floor(i*o)},start:function(){this.node.color=cc.color(200,this.randomNum(0,255),this.randomNum(0,255),255)}});e.exports=i,cc._RF.pop()},{}],Home:[function(t,e,o){"use strict";function i(){cc.Mgr={},cc.Mgr.InitAll=!1;var e=t("AudioMgr");cc.Mgr.AudioMgr=new e,cc.Mgr.AudioMgr.init(),cc.Mgr.Global=t("Global"),cc.Mgr.Global.InitData(),cc.Mgr.Utils=t("Utils");var o=t("UserData");cc.Mgr.UserData=new o,cc.Mgr.UserData.initData(),cc.Mgr.AdsMgr=t("AdsMgr"),cc.Mgr.AdsMgr.Init(),cc.Mgr.ShareInfos=t("ShareInfos"),cc.Mgr.ShareInfos.init(),cc.Mgr.PlatformController=t("PlatformController"),cc.Mgr.PlatformController.Init()}cc._RF.push(e,"0aa66nDyExOQZoRfwfov4dw","Home"),cc.director.initMgr=!1;var n=t("RankPanel"),r=t("SetUI");cc.Class({extends:cc.Component,properties:{rankPanel:n,setUI:r,tipNode:cc.Node,progressBar:cc.ProgressBar,loadingLabel:cc.Label,startBtn:cc.Node,highScoreLbl:cc.Label,screenSpA:cc.Sprite,Atlas:cc.SpriteAtlas},onLoad:function(){0==cc.director.initMgr&&(i(),cc.Mgr.PlatformController.ShareTopNav(),cc.Mgr.AudioMgr.playBGM("bgm"),cc.director.initMgr=!0),cc.Mgr.Global.sceneA=!0,cc.Mgr.PlatformController.setUserCloudStorage(cc.Mgr.UserData.getHighScore()),this.highScoreLbl.string=cc.Mgr.UserData.getHighScore(),cc.director.preloadScene("game",this.onProgressBar.bind(this),this.onLoadedScene.bind(this));var t=this;cc.director.on("ScreenOverA",function(e){t.SetScreenSps()})},start:function(){this.startBtn.active=!0,cc.Mgr.Global.openAds&&cc.Mgr.AdsMgr.RecoverShowBanner(),this.SetScreenSps()},SetScreenSps:function(){0==cc.Mgr.PlatformController.IsScreenRecord?this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_off"):this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_on")},ScreenRecord:function(){cc.Mgr.AudioMgr.playSFX("click"),0==cc.Mgr.PlatformController.IsScreenRecord?(cc.Mgr.PlatformController.StartRecordScreen(),this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_on")):(cc.Mgr.PlatformController.StopRecordScreen(),this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_off"))},onProgressBar:function(t,e,o){var i=t/e;this.progressBar.progress=i,this.loadingLabel.string="\u52a0\u8f7d\u4e2d...("+parseInt(100*i).toString()+")"},onLoadedScene:function(){this.loadingLabel.string="\u52a0\u8f7d\u5b8c\u6210(100%)",this.startBtn.active=!0,this.progressBar.node.active=!1,this.loadingLabel.node.active=!1},gameStart:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.AdsMgr.HideBannerAd(),cc.director.loadScene("game")},JumpToApp:function(t,e){cc.log("=============== "+e),cc.Mgr.PlatformController.JumpToOtherApp(e)},ShareGame:function(){cc.Mgr.AudioMgr.playSFX("click");var t=Math.floor(4*Math.random());cc.Mgr.PlatformController.ShareToFriend(t)},OpenRankPanel:function(){cc.Mgr.AudioMgr.playSFX("click"),this.rankPanel.node.active=!0,cc.Mgr.PlatformController.SendMessageToSubView("RankPanelOpen")},OpenTipUI:function(){this.tipNode.active=!0},CloseTipUI:function(){this.tipNode.active=!1},OpenMenu:function(){cc.Mgr.AudioMgr.playSFX("click"),this.setUI.node.active=!0,this.setUI.ShowUI()}}),cc._RF.pop()},{AdsMgr:"AdsMgr",AudioMgr:"AudioMgr",Global:"Global",PlatformController:"PlatformController",RankPanel:"RankPanel",SetUI:"SetUI",ShareInfos:"ShareInfos",UserData:"UserData",Utils:"Utils"}],MainController:[function(t,e,o){"use strict";cc._RF.push(e,"127dcBUoo1D6LKVwdsIyXAx","MainController");var i=t("Ball"),n=t("Barrier"),r=t("Config"),s=t("Bomb");t("Shake");var c=cc.Class({extends:cc.Component,properties:function(){return{barrierPres:[cc.Prefab],barrierPresBuff:[cc.Prefab],ballPre:cc.Prefab,bombPre:cc.Prefab,balls:[i],barriers:[n],scoreLbl:cc.Label,ballCountLbl:cc.Label,guide:cc.Node,gameStatus:!0,gameOverMark:cc.Node,takeAim:cc.Node,lessBallNode:cc.Node,upGradeNode:cc.Node,takeAimGraphics:cc.Graphics,ballParent:cc.Node,barrierParent:cc.Node,bombExploreParent:cc.Node,overScoreLbl:cc.Label,hasSubBall:!1,Hp:3,starList:[cc.Node],pausePanel:cc.Node,pauseScoreLbl:cc.Label,pauseStartList:[cc.Node],hpList:[cc.Node]}},onLoad:function(){cc.director.getCollisionManager().enabled=!0,cc.director.getPhysicsManager().enabled=!0,cc.director.getActionManager().gravity=cc.v2(0,-1500),this.AddListener(),this.init(),this.initHpFull(),this.guideShow(),this.addBarriers(),cc.Mgr.Global.sceneA=!1},init:function(){cc.Mgr.Global.boomScale=.9,this.score=0,this.recycleBallsCount=1,this.barrierScoreRate=0,this.balls[0].main=this,this.balls[0].node.group=r.groupBallInRecycle,this.gameOverMark.active=!1,this.gameOverMark.zIndex=10,this.guide.zIndex=10,this.guide.active=!1,this.takeAim.main=this,this.scoreLbl.string="0",this.ballCountLbl.string="1"},SetPhysicsManager:function(){},AddListener:function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},onTouchStart:function(){this.guideHide()},initHpFull:function(){this.Hp=3;for(var t=0;t<3;t++)this.hpList[t].active=!0},SubPlayerHp:function(){this.Hp-=1;for(var t=0;t<3;t++)this.hpList[t].active=!1;for(t=0;t<this.Hp;t++)this.hpList[t].active=!0},AdsFullHp:function(){if(cc.Mgr.AudioMgr.playSFX("click"),0!=cc.Mgr.AdsMgr.openAds)if(3!=this.Hp){var t=this;cc.Mgr.AdsMgr.ShowVideoAds(3,function(e){0==e&&t.initHpFull()})}else cc.Mgr.PlatformController.showToast("\u6ee1\u8840\u72b6\u6001,\u65e0\u9700\u56de\u8840");else cc.Mgr.PlatformController.showToast("\u8be5\u529f\u80fd\u6682\u672a\u5f00\u653e")},onTouchEnd:function(t){if(this.isRecycleFinished()){this.takeAimGraphics.clear(),this.recycleBallsCount=0;var e=this.node.convertTouchToNodeSpaceAR(t.touch);this.lastTouchPos=e,this.shootOutAllBalls(e.sub(cc.v2(0,420))),this.hasSubBall=!1}},upGradeBoom:function(){1.8!=cc.Mgr.Global.boomScale?(this.upGradeNode.active=!0,cc.Mgr.Global.openAds&&cc.Mgr.AdsMgr.RecoverShowBanner()):cc.Mgr.PlatformController.showToast("\u5df2\u7ecf\u5347\u7ea7\u5230\u6ee1\u7ea7")},adsUpGradeBoom:function(){var t=this;cc.Mgr.AdsMgr.ShowVideoAds(4,function(e){0==e&&(.9==cc.Mgr.Global.boomScale?(cc.Mgr.Global.boomScale=1.2,cc.Mgr.PlatformController.showToast("\u7206\u5f39\u7206\u7834\u8303\u56f4\u5347\u7ea7\u5230\u4e00\u7ea7")):1.2==cc.Mgr.Global.boomScale?(cc.Mgr.PlatformController.showToast("\u7206\u5f39\u7206\u7834\u8303\u56f4\u5347\u7ea7\u5230\u4e8c\u7ea7"),cc.Mgr.Global.boomScale=1.5):1.5==cc.Mgr.Global.boomScale&&(cc.Mgr.PlatformController.showToast("\u7206\u5f39\u7206\u7834\u8303\u56f4\u5347\u7ea7\u5230\u4e09\u7ea7"),cc.Mgr.Global.boomScale=1.8),t.CloseUpGradeBoom())})},CloseUpGradeBoom:function(){this.upGradeNode.active=!1,cc.Mgr.AdsMgr.HideBannerAd()},addBallInGameIng:function(t){var e=cc.instantiate(this.ballPre).getComponent(i);e.node.parent=this.ballParent,e.node.position=t,e.main=this,e.node.group=r.groupBallInGame,this.balls.push(e),this.setballCountLbl(this.balls.length)},hellSubBall:function(t){var e=this.balls.indexOf(t);e>-1&&this.balls.splice(e,1),t.node.destroy(),this.setballCountLbl(this.balls.length),this.hasSubBall=!0,0==this.balls.length&&(this.lessBallNode.active=!0,cc.Mgr.Global.openAds&&cc.Mgr.AdsMgr.RecoverShowBanner()),cc.log("\u62e5\u6709\u591a\u5c11\u7403 = "+this.balls.length)},onlyAddOneBallContinue:function(){this.lessBallNode.active=!1,cc.Mgr.AdsMgr.HideBannerAd(),this.balls.length>=1||(this.unscheduleAllCallbacks(),this.scheduleOnce(function(){var t=cc.instantiate(this.ballPre).getComponent(i);t.node.parent=this.ballParent;var e=cc.v2(0,440);t.node.position=e,t.main=this,t.node.group=r.groupBallInGame,this.balls.push(t),this.shootOutAdsGetBall(t),this.setballCountLbl(this.balls.length)},.25))},addAdsGetFiveBall:function(){var t=this;cc.Mgr.AdsMgr.ShowVideoAds(5,function(e){0==e&&(t.addBallsContinue(),cc.Mgr.PlatformController.showToast("\u83b7\u5f975\u9897\u5c0f\u7403"))})},addBallsContinue:function(){this.lessBallNode.active=!1,cc.Mgr.AdsMgr.HideBannerAd(),this.unscheduleAllCallbacks(),this.schedule(function(){var t=cc.instantiate(this.ballPre).getComponent(i);t.node.parent=this.ballParent;var e=cc.v2(0,440);t.node.position=e,t.main=this,t.node.group=r.groupBallInGame,this.balls.push(t),this.shootOutAdsGetBall(t),this.setballCountLbl(this.balls.length)},.25,4,.15)},addAdsGetThreeBall:function(){this.unscheduleAllCallbacks(),this.schedule(function(){var t=cc.instantiate(this.ballPre).getComponent(i);t.node.parent=this.ballParent;var e=cc.v2(0,440);t.node.position=e,t.main=this,t.node.group=r.groupBallInGame,this.balls.push(t),this.shootOutAdsGetBall(t),this.setballCountLbl(this.balls.length)},.25,5,.15)},shootOutAdsGetBall:function(t){null==this.lastTouchPos&&(this.lastTouchPos=cc.v2(0,-200));var e=this.lastTouchPos.sub(cc.v2(0,420));t.rigidBody.active=!1;var o=[];o.push(t.node.position),o.push(cc.v2(0,420)),t.node.group=r.groupBallInGame,t.node.runAction(cc.sequence(cc.cardinalSplineTo(.8,o,.5),cc.callFunc(function(){cc.Mgr.AudioMgr.playSFX("fire"),t.rigidBody.active=!0,t.rigidBody.linearVelocity=e.mul(3)})))},AdsGetBall:function(){var t=this;cc.Mgr.AudioMgr.playSFX("click"),0!=cc.Mgr.AdsMgr.openAds?0!=this.isRecycleFinished()?cc.Mgr.AdsMgr.ShowVideoAds(1,function(e){0==e&&(t.addAdsGetThreeBall(),cc.Mgr.PlatformController.showToast("\u83b7\u5f97\u4e94\u9897\u5c0f\u7403"))}):cc.Mgr.PlatformController.showToast("\u8bf7\u5148\u7b49\u5c0f\u7403\u5168\u90e8\u56de\u6536"):cc.Mgr.PlatformController.showToast("\u8be5\u529f\u80fd\u6682\u672a\u5f00\u653e")},OpenPause:function(){this.pausePanel.active=!0,this.gameStatus=!1,this.pauseScoreLbl.string=this.score.toString();for(var t=0;t<3;t++)this.pauseStartList[t].active=!1;var e=0;this.score>200?e=1:this.score>800?e=2:this.score>1800&&(e=3);for(t=0;t<e;t++)this.pauseStartList[t].active=!0},ClosePause:function(){this.pausePanel.active=!1,this.gameStatus=!0},CheckGameOver:function(){this.pausePanel.active=!1,this.gameOver()},setballCountLbl:function(t){this.ballCountLbl.string=t.toString()},shootOutAllBalls:function(t){var e=this;if(this.gameStatus)for(var o=function(o){var i=e.balls[o];null!=i&&e.scheduleOnce(function(){this.shootOneBallOut(i,t)}.bind(e),.15*o)},i=0;i<this.balls.length;i++)o(i)},shootOneBallOut:function(t,e){t.rigidBody.active=!1;var o=[];o.push(t.node.position),o.push(cc.v2(0,420)),t.node.group=r.groupBallInGame,t.node.runAction(cc.sequence(cc.cardinalSplineTo(.8,o,.5),cc.callFunc(function(){cc.Mgr.AudioMgr.playSFX("fire"),t.rigidBody.active=!0,t.rigidBody.linearVelocity=e.mul(3)})))},recycleOneShootBall:function(){var t=this;if(this.recycleBallsCount++,this.barrierScoreRate+=.2,this.isRecycleFinished()){for(var e=function(e){var o=t.barriers[e];o.node.runAction(cc.sequence(cc.moveBy(.5,cc.v2(0,100)),cc.callFunc(function(){if(o.node.position.y>200&&o.node.runAction(cc.shake(1.5,3,3)),o.node.position.y>380){if(!(this.Hp>1))return cc.Mgr.PlatformController.QuakeScreen(!0),void this.gameOver();this.SubPlayerHp(),cc.Mgr.PlatformController.QuakeScreen(!1),this.removeBarrier(o)}}.bind(t))))},o=0;o<this.barriers.length;o++)e(o);this.balls.length<=3&&1==this.hasSubBall&&(this.lessBallNode.active=!0,this.hasSubBall=!1,cc.Mgr.Global.openAds&&cc.Mgr.AdsMgr.RecoverShowBanner()),this.addBarriers()}},isRecycleFinished:function(){return this.recycleBallsCount==this.balls.length},addBarriers:function(){for(var t=-270+this.getRandomSpace();t<270;){if(Math.random()<.85){var e=cc.instantiate(this.barrierPres[Math.floor(Math.random()*this.barrierPres.length)]).getComponent(n);e.node.parent=this.barrierParent,e.node.position=cc.v2(t,-320),e.lbScore&&(e.node.rotation=360*Math.random()),e.main=this,t+=this.getRandomSpace(),this.barriers.push(e)}else{if(Math.random()<.6){var o=cc.instantiate(this.barrierPresBuff[0]).getComponent(n);o.node.parent=this.barrierParent,o.node.position=cc.v2(t,-320),o.lbScore&&(o.node.rotation=360*Math.random()),o.main=this,t+=this.getRandomSpace(),this.barriers.push(o)}else{var i=cc.instantiate(this.barrierPresBuff[1]).getComponent(n);i.node.parent=this.barrierParent,i.node.position=cc.v2(t,-320),i.lbScore&&(i.node.rotation=360*Math.random()),i.main=this,t+=this.getRandomSpace(),this.barriers.push(i)}}}},addBombExploreAtPos:function(t){var e=cc.instantiate(this.bombPre).getComponent(s);e.node.parent=this.bombExploreParent,e.node.group=r.bomb,e.node.position=t,e.main=this,e.PlayAni()},shake:function(t){var e=cc.shake(.7,1,1);t.node.runAction(e)},addScore:function(){this.score++,this.scoreLbl.string=this.score.toString()},addNumScore:function(t){this.score+=t,this.scoreLbl.string=this.score.toString()},setBarrierScore:function(){return Math.floor(this.randomNum(1+2*this.barrierScoreRate,5+3*this.barrierScoreRate))},removeBarrier:function(t){var e=this.barriers.indexOf(t);-1!=e&&(t.node.removeFromParent(!1),this.barriers.splice(e,1))},getRandomSpace:function(){return 80+200*Math.random()},randomNum:function(t,e){var o=e-t,i=Math.random();return t+Math.floor(i*o)},guideShow:function(){this.guide.active=!0,this.guide.getChildByName("handMove").getComponent(cc.Animation).play("handMove")},guideHide:function(){this.guide.active=!1,this.guide.getChildByName("handMove").getComponent(cc.Animation).stop("handMove")},ReGame:function(){},gameStart:function(){if(cc.Mgr.AudioMgr.playSFX("click"),0!=cc.Mgr.AdsMgr.openAds){var t=this;cc.Mgr.AdsMgr.ShowVideoAds(2,function(e){0==e&&(cc.Mgr.AdsMgr.HideBannerAd(),t.RemoveTopBarrier(),t.gameStatus=!0,t.gameOverMark.active=!1,t.initHpFull())})}else cc.Mgr.PlatformController.showToast("\u8be5\u529f\u80fd\u6682\u672a\u5f00\u653e")},RemoveTopBarrier:function(){for(var t=0;t<this.barriers.length;t++){var e=this.barriers[t];e.node.position.y>260&&(cc.Mgr.PlatformController.QuakeScreen(!0),this.removeBarrier(e))}},gameOver:function(){cc.Mgr.Global.boomScale=.9,cc.Mgr.AudioMgr.playSFX("lose"),this.gameStatus=!1,this.gameOverMark.active=!0,cc.Mgr.Global.openAds&&cc.Mgr.AdsMgr.RecoverShowBanner(),this.overScoreLbl.string=this.score.toString();for(var t=0;t<3;t++)this.starList[t].active=!1;var e=0;this.score>200?e=1:this.score>800?e=2:this.score>1800&&(e=3);for(t=0;t<e;t++)this.starList[t].active=!0;this.score>cc.Mgr.UserData.highScore&&(cc.Mgr.UserData.highScore=this.score,cc.Mgr.PlatformController.setUserCloudStorage(cc.Mgr.UserData.getHighScore()))},backHome:function(){cc.Mgr.Global.boomScale=.9,cc.director.loadScene("home")}});e.exports=c,cc._RF.pop()},{Ball:"Ball",Barrier:"Barrier",Bomb:"Bomb",Config:"Config",Shake:"Shake"}],PlatformController:[function(t,e,o){"use strict";cc._RF.push(e,"14759KM7UND6qDYXLeSI+QE","PlatformController");var i=cc.Class({statics:{IsScreenRecord:!1,wxSubContextViewLock:0,platform:"tt",Init:function(){window.wx||window.tt||window.swan||(this.platform="pc")},IsLoginSync:function(){return"baidu"!=this.platform||!!swan.isLoginSync().isLogin&&(console.log("\u5df2\u7ecf\u6709\u767b\u9646\u4e86"),!0)},CheckTTSession:function(t){tt.checkSession({success:function(e){t(!0),console.log("session\u672a\u8fc7\u671f")},fail:function(e){console.log("session\u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55"),t(!1)}})},Login:function(){var t=this;"baidu"==this.platform?swan.login({success:function(){t.setUserCloudStorage(cc.Mgr.UserData.getHighScore())},fail:function(){swan.showModal({title:"\u767b\u5f55\u5931\u8d25",content:"\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f",cancelText:"\u9000\u51fa\u6e38\u620f",success:function(e){e.confirm?(console.log("\u70b9\u51fb\u4e86\u786e\u5b9a"),t.Login()):e.cancel&&(console.log("\u70b9\u51fb\u4e86\u53d6\u6d88"),swan.exit())}})}}):"tt"==this.platform&&tt.login({success:function(){t.setUserCloudStorage(cc.Mgr.UserDataMgr.HistoryHighAssets)},fail:function(){tt.showModal({title:"\u767b\u5f55\u5931\u8d25",content:"\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f",cancelText:"\u9000\u51fa\u6e38\u620f",success:function(e){e.confirm?(console.log("\u70b9\u51fb\u4e86\u786e\u5b9a"),t.Login()):e.cancel&&(console.log("\u70b9\u51fb\u4e86\u53d6\u6d88"),tt.exitMiniProgram({}))}})}})},CreateGameClub:function(){if("wx"==this.platform){var t=cc.view.getVisibleSize(),e=68/t.width,o=275/t.height,i=wx.getSystemInfoSync();this.leftPos=i.windowWidth*e,this.topPos=i.windowHeight*o,console.log(this.topPos+"  ================\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae==============="+this.leftPos);this.gameClubBtn=wx.createGameClubButton({icon:"green",text:"\u6e38\u620f\u5708",style:{left:this.leftPos-20,top:this.topPos-20,width:45,height:45}})}},ShowClubButton:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"wx"==this.platform&&null!=this.gameClubBtn&&(1==t?this.gameClubBtn.show():this.gameClubBtn.hide())},ShareTopNav:function(){var t=Math.floor(4*Math.random()),e=cc.Mgr.ShareInfos.getShareInfos(t);"wx"==this.platform?(wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:e.text,imageUrl:e.url}})):"tt"==this.platform?(tt.showShareMenu(!1),tt.onShareAppMessage(function(){return{title:e.text,imageUrl:e.url}})):"baidu"==this.platform&&(swan.showShareMenu(!1),swan.onShareAppMessage(function(){return{title:e.text,imageUrl:e.url}}))},ShareToFriendTxt:function(t){"wx"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),wx.shareAppMessage({title:t})):"tt"==this.platform?tt.shareAppMessage({title:t}):"baidu"==this.platform&&(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),swan.shareAppMessage({title:t}))},ShareToFriend:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cb=null;var o=this;this.cb=e;var i=cc.Mgr.ShareInfos.getShareInfos(t);"wx"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),wx.shareAppMessage({title:i.text,imageUrl:i.url})):"tt"==this.platform?tt.shareAppMessage({title:i.text,imageUrl:i.url,success:function(){null!=o.cb&&o.cb(0)},fail:function(t){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}}):"baidu"==this.platform&&(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),swan.shareAppMessage({title:i.text,imageUrl:i.url,success:function(){null!=o.cb&&o.cb(0)},fail:function(t){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}}))},showToast:function(t){cc.log(t),"wx"==this.platform?wx.showToast({title:t,icon:"none",duration:2e3}):"tt"==this.platform?tt.showToast({title:t,icon:"none",duration:2e3}):"baidu"==this.platform&&swan.showToast({title:t,icon:"none",duration:2e3})},setUserCloudStorage:function(t){var e,o;(console.log("setUserCloudStorage socre = "+t),"wx"==this.platform)&&((e={wxgame:{}}).wxgame.score=t,e.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(e)),(o=new Array).push({key:"\bjzScore",value:JSON.stringify(e)}),wx.setUserCloudStorage({KVDataList:o,success:function(t){console.log("success:"+JSON.stringify(t))},fail:function(t){console.log("fail : "+t)}}));"baidu"==this.platform&&((e={wxgame:{}}).wxgame.score=t,e.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(e)),(o=new Array).push({key:"\bjzScore",value:JSON.stringify(e)}),swan.setUserCloudStorage({KVDataList:o,success:function(t){console.log("success:"+JSON.stringify(t))},fail:function(t){console.log("fail : "+t)}}))},IsSupportRank:function(){return"wx"==this.platform},showSubContentView:function(){"wx"==this.platform&&(this.wxSubContextViewLock++,console.log("showSubContentView   "+this.wxSubContextViewLock))},hideSubContentView:function(){"wx"==this.platform&&(this.wxSubContextViewLock--,console.log("hideSubContentView   "+this.wxSubContextViewLock))},SendMessageToSubView:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o={};o.code=t,o.curScore=e,"wx"==this.platform?wx.getOpenDataContext().postMessage({message:o}):"baidu"==this.platform&&swan.getOpenDataContext().postMessage({message:o})},QuakeScreen:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"pc"!=this.platform&&(1==t?"tt"==this.platform?tt.vibrateLong({success:function(t){console.log(""+t)},fail:function(t){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"baidu"==this.platform?swan.vibrateLong({success:function(t){console.log(""+t)},fail:function(t){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"wx"==this.platform&&wx.vibrateLong({success:function(t){console.log(""+t)},fail:function(t){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"tt"==this.platform?tt.vibrateShort({success:function(t){console.log(""+t)},fail:function(t){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"baidu"==this.platform?swan.vibrateShort({success:function(t){console.log(""+t)},fail:function(t){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"wx"==this.platform&&wx.vibrateShort({success:function(t){console.log(""+t)},fail:function(t){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}))},IsSupportRecordScreen:function(){return"tt"==this.platform||"baidu"==this.platform&&!!this.CompareSdkVesrion(swan.getSystemInfoSync().SDKVersion,"1.4.1")},CompareSdkVesrion:function(t,e){for(var o=t.split("."),i=e.split("."),n=0;n<o.length;n++){if(parseInt(o[n])<parseInt(i[n]))return 0;if(parseInt(o[n])>parseInt(i[n]))return 1}return 1},StartRecordScreen:function(){var t=this;this.videoPath="",this.IsScreenRecord=!0,this.showToast("\u5f00\u59cb\u5f55\u5236"),cc.Mgr.Global.screenStartTime=cc.Mgr.Utils.GetSysTime(),"tt"==this.platform?(null==this.recorderManager&&(this.recorderManager=tt.getGameRecorderManager(),this.recorderManager.onStart(function(t){console.log("\u5f55\u5236\u5f00\u59cb\u4e86: "+t)}),this.recorderManager.onStop(function(e){t.showToast("\u7ed3\u675f\u5f55\u5236"),console.log("\u5f55\u5236\u7ed3\u675f\u4e86: "+e.videoPath),t.IsScreenRecord=!1,1==cc.Mgr.Global.sceneA?cc.director.emit("ScreenOverA",{}):cc.director.emit("ScreenOverB",{}),t.videoPath=e.videoPath,t.ShareRecordScreen()}),this.recorderManager.onPause(function(){console.log("\u5f55\u5236\u6682\u505c\u4e86")}),this.recorderManager.onResume(function(){console.log("\u5f55\u5236\u6062\u590d\u4e86")}),this.recorderManager.onError(function(e){console.log("\u5f55\u5236\u51fa\u9519\u4e86:"+e),t.IsScreenRecord=!1})),this.recorderManager.start({duration:30})):"baidu"==this.platform&&(null==this.recorderManager&&(this.recorderManager=swan.getVideoRecorderManager(),this.recorderManager.onStart(function(t){console.log("\u5f55\u5236\u5f00\u59cb\u4e86: "+t)}),this.recorderManager.onStop(function(e){console.log("\u5f55\u5236\u7ed3\u675f\u4e86: "+e.videoPath),t.IsScreenRecord=!1,t.videoPath=e.videoPath,cc.director.emit("ScreenOver",{}),t.ShareRecordScreen()}),this.recorderManager.onPause(function(){console.log("\u5f55\u5236\u6682\u505c\u4e86")}),this.recorderManager.onResume(function(){console.log("\u5f55\u5236\u6062\u590d\u4e86")}),this.recorderManager.onError(function(e){console.log("\u5f55\u5236\u51fa\u9519\u4e86:"+e),t.IsScreenRecord=!1})),this.recorderManager.start({duration:30,microphoneEnabled:!0}))},StopRecordScreen:function(){if(this.IsScreenRecord=!1,"tt"==this.platform){if(null==this.recorderManager)return;console.log("\u505c\u6b62\u5f55\u5236"),this.recorderManager.stop()}else if("baidu"==this.platform){if(null==this.recorderManager)return;console.log("\u505c\u6b62\u5f55\u5236"),this.recorderManager.stop()}},ShareRecordScreen:function(){var t=this;if(cc.Mgr.Utils.GetSysTime()-cc.Mgr.Global.screenStartTime<=3)return cc.Mgr.Global.screenStartTime=0,void this.showToast("\u5f55\u5236\u65f6\u95f4\u5c11\u4e8e\u4e09\u79d2,\u672a\u80fd\u6210\u529f\u4fdd\u5b58\u89c6\u9891");if(this.showToast("\u7ed3\u675f\u5f55\u5c4f"),"tt"==this.platform){if(null==this.recorderManager||""==this.videoPath)return;console.log("\u5206\u4eab\u5f55\u5236\u7684\u89c6\u9891"),tt.shareVideo({videoPath:""+this.videoPath,success:function(){t.showToast("\u5206\u4eab\u5f55\u5236\u89c6\u9891\u6210\u529f\uff01")},fail:function(e){t.showToast("\u5206\u4eab\u5f55\u5236\u89c6\u9891\u5931\u8d25\uff01")}})}else if("baidu"==this.platform){if(null==this.recorderManager||null==this.videoPath)return;console.log("\u5206\u4eab\u5f55\u5236\u7684\u89c6\u9891"),swan.shareVideo({videoPath:""+this.videoPath,success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01")},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25\uff01"+t)}})}},JumpToOtherApp:function(t){"wx"==this.platform?wx.navigateToMiniProgram({appId:t,envVersion:"release",success:function(t){console.log("\u6210\u529f\u6253\u5f00\u4e86\u5176\u4ed6\u5c0f\u7a0b\u5e8f")}}):"baidu"==this.platform?swan.navigateToMiniProgram({appKey:t,extraData:{},success:function(t){console.log("\u767e\u5ea6\u8df3\u8f6c success",t)},fail:function(t){console.log("\u767e\u5ea6\u8df3\u8f6c fail",t)}}):"tt"==this.platform&&tt.navigateToMiniProgram({appId:t,extraData:{},success:function(t){console.log(" success",t)},fail:function(t){console.log(" fail",t)}})}}});e.exports=i,cc._RF.pop()},{}],RankPanel:[function(t,e,o){"use strict";cc._RF.push(e,"5df53KmCUZI3L3xXi2ZYVXN","RankPanel");var i=cc.Class({extends:cc.Component,properties:{},NextPage:function(){cc.Mgr.PlatformController.SendMessageToSubView("ToNextPage")},FrontPage:function(){cc.Mgr.PlatformController.SendMessageToSubView("ToFrontPage")},ClosePanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("RankPanelCloseInMainView"),this.node.active=!1}});e.exports=i,cc._RF.pop()},{}],SetUI:[function(t,e,o){"use strict";cc._RF.push(e,"5fcc108s21JIJx9hmtt8FQt","SetUI");var i=cc.Class({extends:cc.Component,properties:{Atlas:cc.SpriteAtlas,mSp:cc.Sprite,vSp:cc.Sprite},ShowUI:function(t){1==cc.Mgr.AudioMgr.musicState?this.mSp.spriteFrame=this.Atlas.getSpriteFrame("music_on"):this.mSp.spriteFrame=this.Atlas.getSpriteFrame("music_off"),1==cc.Mgr.AudioMgr.voiceState?this.vSp.spriteFrame=this.Atlas.getSpriteFrame("voice_on"):this.vSp.spriteFrame=this.Atlas.getSpriteFrame("voice_off")},ChangeStateM:function(){1==cc.Mgr.AudioMgr.musicState?(this.mSp.spriteFrame=this.Atlas.getSpriteFrame("music_off"),cc.Mgr.AudioMgr.pauseMusic()):(this.mSp.spriteFrame=this.Atlas.getSpriteFrame("music_on"),cc.Mgr.AudioMgr.resumeMusic())},ChangeStateV:function(){1==cc.Mgr.AudioMgr.voiceState?(this.vSp.spriteFrame=this.Atlas.getSpriteFrame("voice_off"),cc.Mgr.AudioMgr.pauseVoice()):(this.vSp.spriteFrame=this.Atlas.getSpriteFrame("voice_on"),cc.Mgr.AudioMgr.resumeVoice())},CloseUI:function(){this.node.active=!1}});e.exports=i,cc._RF.pop()},{}],Shake:[function(t,e,o){"use strict";cc._RF.push(e,"f3b0cFDpm9ATLXIIKo9XlwM","Shake"),cc.Shake=cc.ActionInterval.extend({_initial_x:0,_initial_y:0,_strength_x:0,_strength_y:0,ctor:function(t,e,o){this.initWithDuration(t,e,o)},initWithDuration:function(t,e,o){return cc.ActionInterval.prototype.initWithDuration.call(this,t),this._strength_x=e,this._strength_y=o,!0},rangeRand:function(t,e){return Math.random()*(e-t)+t},update:function(){var t=this.rangeRand(-this._strength_x,this._strength_x),e=this.rangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},startWithTarget:function(t){cc.ActionInterval.prototype.startWithTarget.call(this,t),this._initial_x=t.x,this._initial_y=t.y},stop:function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.call(this)}}),cc.shake=function(t,e,o){return new cc.Shake(t,e,o)},cc._RF.pop()},{}],ShareInfos:[function(t,e,o){"use strict";cc._RF.push(e,"747b3uMa71Bx4tK12EFUCkl","ShareInfos");var i=cc.Class({extends:cc.Component,statics:{init:function(){this.Infos=[{text:"\u5f39\u7403\u9ad8\u624b\uff0c\u4e00\u8d77\u6765\u5f39\u4e00\u5f39",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5r4ArPnN2HDuIIwfdVULSEibRca0c9upQeIH6r6c1QjbnJehqNz5kUfS/0"},{text:"\u5f39\u7403\u9ad8\u624b\uff0c\u4e00\u8d77\u6765\u5f39\u4e00\u5f39",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5r4ArPnN2HDuIIwfdVULSEibRca0c9upQeIH6r6c1QjbnJehqNz5kUfS/0"},{text:"\u5168\u6c11\u5f39\u4e00\u5f39,\u5f39\u7403\u9ad8\u624b2019\u7b49\u4f60\u6765",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5r4ArPnN2HDuIIwfdVULSEibRca0c9upQeIH6r6c1QjbnJehqNz5kUfS/0"},{text:"\u5168\u6c11\u5f39\u4e00\u5f39,\u5f39\u7403\u9ad8\u624b2019\u7b49\u4f60\u6765",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5r4ArPnN2HDuIIwfdVULSEibRca0c9upQeIH6r6c1QjbnJehqNz5kUfS/0"}]},getShareInfos:function(t){return this.Infos[t]}}});e.exports=i,cc._RF.pop()},{}],TakeAim:[function(t,e,o){"use strict";cc._RF.push(e,"47e07n9NFtIvo4368Li4gPR","TakeAim"),cc.Class({extends:cc.Component,properties:function(){return{arraw:cc.Sprite}},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this)},onTouchMove:function(t){if(this.node.main.isRecycleFinished()){var e=cc.v2(0,446),o=this.node.convertTouchToNodeSpaceAR(t.touch);if(!(o.y>e.y)){var i=this.node.getComponent(cc.Graphics),n=o.sub(e),r=n.mag(),s=n.normalize().mul(40),c=e.clone();for(i.fillColor=cc.color(255,255,255,150),c.addSelf(s),c.addSelf(s),i.clear();r>40;)i.circle(c.x,c.y,5),i.fill(),c.addSelf(s),r-=40;var a=e.sub(o),l=Math.atan2(a.y,a.x)/Math.PI*180;this.arraw.node.rotation=-l}}}}),cc._RF.pop()},{}],UIMgr:[function(t,e,o){"use strict";cc._RF.push(e,"928c0dAoWFE0JJCsZu/F3+5","UIMgr");var i=cc.Class({extends:cc.Component,properties:{tipNode:cc.Node,screenSpB:cc.Sprite,Atlas:cc.SpriteAtlas},start:function(){var t=this;cc.director.on("ScreenOverB",function(e){t.SetScreenSps()}),this.SetScreenSps()},SetScreenSps:function(){0==cc.Mgr.PlatformController.IsScreenRecord?this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("luping_off"):this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("luping_on")},ScreenRecord:function(){cc.Mgr.AudioMgr.playSFX("click"),0==cc.Mgr.PlatformController.IsScreenRecord?(cc.Mgr.PlatformController.StartRecordScreen(),this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("luping_on")):(cc.Mgr.PlatformController.StopRecordScreen(),this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("luping_off"))},OpenTipUI:function(){this.tipNode.active=!0,cc.Mgr.Global.openAds&&cc.Mgr.AdsMgr.RecoverShowBanner()},CloseTipUI:function(){this.tipNode.active=!1,cc.Mgr.AdsMgr.HideBannerAd()}});e.exports=i,cc._RF.pop()},{}],UserData:[function(t,e,o){"use strict";cc._RF.push(e,"0f171eBXj1PRb5smPlPuObl","UserData");var i=cc.Class({extends:cc.Component,properties:{highScore:0},initData:function(){var t=cc.sys.localStorage.getItem("pp_userdata");if(null!=t&&""!=t){console.log("\u5e72\uff0c\u6709\u6570\u636e");var e=JSON.parse(t);this.highScore=e.highScore,cc.log("\u6570\u636e = "+JSON.stringify(t))}else{console.log("\u5e72\uff0c\u4e4b\u524d\u6ca1\u6709\u6570\u636e");var o={};this.highScore=0,o.highScore=0,cc.sys.localStorage.setItem("pp_userdata",JSON.stringify(o))}},SaveData:function(){var t={};t.highScore=this.highScore,cc.sys.localStorage.setItem("pp_userdata",JSON.stringify(t))},getHighScore:function(){return this.highScore}});e.exports=i,cc._RF.pop()},{}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"d876c2zrQBFB4mpRImbOkLH","Utils");var i=cc.Class({extends:cc.Component,statics:{FormatNumToTime:function(t){var e=Math.floor(t/3600),o=Math.floor((t-3600*e)/60),i=Math.floor(t-3600*e-60*o),n=e,r=o,s=i;return e<10&&(n="0"+e),o<10&&(r="0"+o),i<10&&(s="0"+i),n+":"+r+":"+s},GetSysTime:function(){return Math.round(new Date/1e3)-1545264e3}}});e.exports=i,cc._RF.pop()},{}],gameStart:[function(t,e,o){"use strict";cc._RF.push(e,"1efc6oQvkdKzJdKa98PGRNk","gameStart"),cc.Class({extends:cc.Component,onLoad:function(){this.node.on("click",this.gameStart,this)},gameStart:function(){cc.director.loadScene("game")}}),cc._RF.pop()},{}]},{},["AddBall","AudioMgr","Ball","Barrier","BarrierType","Bomb","Config","Global","HellSp","Home","MainController","RankPanel","SetUI","Shake","TakeAim","UIMgr","UserData","Utils","AdsMgr","AdsParam","gameStart","PlatformController","ShareInfos"]);