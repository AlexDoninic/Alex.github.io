window.__require=function e(t,o,n){function i(c,a){if(!o[c]){if(!t[c]){var s=c.split("/");if(s=s[s.length-1],!t[s]){var l="function"==typeof __require&&__require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}}var h=o[c]={exports:{}};t[c][0].call(h.exports,function(e){return i(t[c][1][e]||e)},h,h.exports,e,t,o,n)}return o[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<n.length;c++)i(n[c]);return i}({AdsMgr:[function(e,t,o){"use strict";cc._RF.push(t,"cf5c5NSFepPaaGFotmQ9lK8","AdsMgr");var n=e("AdsParam"),i=cc.Class({statics:{platform:"uc",bannerId_baidu:"6419079",bannerId_wx:"adunit-75c78e91863957a2",bannerId_tt:"16f86qo5onmddppf9q",bdVideoId_1:"6419103",bdVideoId_2:"6419232",bdVideoId_3:"6419101",bdVideoId_4:"6419233",bdVideoId_5:"6305786",bdVideoId_6:"6305788",bdVideoId_7:"6305753",bdVideoId_8:"6305753",bdVideoId_9:"6305753",bdVideoId_10:"6305753",wxVideoId_1:"adunit-61f18a6f5d598994",wxVideoId_2:"adunit-d5affd2135e00f85",wxVideoId_3:"adunit-deec622dde94b68c",wxVideoId_4:"adunit-35dfdf8fd927aa4d",wxVideoId_5:"adunit-827d9d0f6f67011c",wxVideoId_6:"adunit-503baddcdc515459",wxVideoId_7:"adunit-503baddcdc515459",wxVideoId_8:"adunit-503baddcdc515459",wxVideoId_9:"adunit-503baddcdc515459",wxVideoId_10:"adunit-503baddcdc515459",ttVideoId_1:"o7ol27qmep1ihk6iig",ttVideoId_2:"2k18mm0a9kn2nigneb",ttVideoId_3:"8165c2019f9jholfse",ttVideoId_4:"6cn7i8gc2255bmfi40",ttVideoId_5:"6cn7i8gc2255bmfi40",ttVideoId_6:"6cn7i8gc2255bmfi40",ttVideoId_7:"",ttVideoId_8:"",ttVideoId_9:"",ttVideoId_10:"",allScreen:!1,hasReSizeBanner:!1,resizeTime:0,Init:function(){window.wx||window.tt||window.swan||window.uc||(this.platform="pc"),this.allScreen=!1},getBannerAdId:function(){return"wx"==this.platform?this.bannerId_wx:"baidu"==this.platform?this.bannerId_baidu:"tt"==this.platform?this.bannerId_tt:null},getVideoAdId:function(e){var t="";if("wx"==this.platform)switch(e){case n.PointA:t=this.wxVideoId_1;break;case n.PointB:t=this.wxVideoId_2;break;case n.PointC:t=this.wxVideoId_3;break;case n.PointD:t=this.wxVideoId_4;break;case n.PointE:t=this.wxVideoId_5;break;case n.PointF:t=this.wxVideoId_6;break;case n.PointG:t=this.wxVideoId_7;break;case n.PointH:t=this.wxVideoId_8;break;case n.PointI:t=this.wxVideoId_9;break;case n.PointJ:t=this.wxVideoId_10}else if("baidu"==this.platform)switch(e){case n.PointA:t=this.bdVideoId_1;break;case n.PointB:t=this.bdVideoId_2;break;case n.PointC:t=this.bdVideoId_3;break;case n.PointD:t=this.bdVideoId_4;break;case n.PointE:t=this.bdVideoId_5;break;case n.PointF:t=this.bdVideoId_6;break;case n.PointG:t=this.bdVideoId_7;break;case n.PointH:t=this.bdVideoId_8;break;case n.PointI:t=this.bdVideoId_9;break;case n.PointJ:t=this.bdVideoId_10}else if("tt"==this.platform)switch(e){case n.PointA:t=this.ttVideoId_1;break;case n.PointB:t=this.ttVideoId_2;break;case n.PointC:t=this.ttVideoId_3;break;case n.PointD:t=this.ttVideoId_4;break;case n.PointE:t=this.ttVideoId_5;break;case n.PointF:t=this.ttVideoId_6;break;case n.PointG:t=this.ttVideoId_7;break;case n.PointH:t=this.ttVideoId_8;break;case n.PointI:t=this.ttVideoId_9;break;case n.PointJ:t=this.ttVideoId_10}return t},ShowBannerAds:function(){var e=this;if(this.resizeTime=0,null==this.bannerAdShowNum&&(this.bannerAdShowNum=0),this.bannerAdShowNum++,"wx"==this.platform){if(null!=this.bannerAdCtrl&&this.bannerAdShowNum%5!=0)return;this.bannerAdShowNum=0,null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var t={};t.W=wx.getSystemInfoSync().windowWidth,t.H=wx.getSystemInfoSync().windowHeight;var o=0;o=this.allScreen?t.W:300,this.bannerAdCtrl=wx.createBannerAd({adUnitId:e.getBannerAdId(),style:{left:0,top:0,width:o}}),this.bannerAdCtrl.onResize(function(o){console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "+t.H+" , "+e.bannerAdCtrl.style.realHeight),e.bannerAdCtrl.style.top=t.H-e.bannerAdCtrl.style.realHeight,e.bannerAdCtrl.style.left=(t.W-e.bannerAdCtrl.style.realWidth)/2,e.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("baidu"==this.platform){if("ios"==swan.getSystemInfoSync().platform)return;null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var n={};n.W=swan.getSystemInfoSync().windowWidth,n.H=swan.getSystemInfoSync().windowHeight,console.log("\u767e\u5ea6\u7684 bannerId = "+this.getBannerAdId()),this.bannerAdCtrl=swan.createBannerAd({adUnitId:e.getBannerAdId(),appSid:"b702d357",style:{left:0,top:0,width:321}}),this.allScreen?e.bannerAdCtrl.style.width=n.H:e.bannerAdCtrl.style.width=300,this.bannerAdCtrl.onResize(function(t){console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "),e.bannerAdCtrl.style.top=n.H-t.height,e.bannerAdCtrl.style.left=(n.W-t.width)/2,e.bannerAdCtrl.show()}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),e.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("tt"==this.platform){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var i={};i.W=tt.getSystemInfoSync().windowWidth,i.H=tt.getSystemInfoSync().windowHeight,console.log("\u5934\u6761 bannerId = "+this.getBannerAdId()),this.bannerAdCtrl=tt.createBannerAd({adUnitId:this.getBannerAdId(),style:{left:(i.W-200)/2,width:200,top:i.H-112.5}}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),e.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("uc"==this.platform){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var r=uc.getSystemInfoSync();this.bannerAdCtrl=uc.createBannerAd({style:{width:250*r.pixelRatio,height:0,gravity:7}}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),e.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)})}},HideBannerAd:function(){console.log("\u9690\u85cfbanner"),null!=this.bannerAdCtrl&&this.bannerAdCtrl.hide(),this.DestroyBanner()},RecoverShowBanner:function(){console.log("\u91cd\u5f00banner"),null!=this.bannerAdCtrl?this.bannerAdCtrl.show():this.ShowBannerAds()},DestroyBanner:function(){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy(),this.bannerAdCtrl=null},ShowVideoAds:function(e,t){var o=this,n=this;if(this.cb=null,this.cb=t,"wx"==this.platform){var i=wx.createRewardedVideoAd({adUnitId:n.getVideoAdId(e)});i.load().then(function(){return i.show()}).catch(function(e){return console.log(e.errMsg)}),i.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),i.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),i.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1),i.offLoad(),i.offError(),i.offClose()})}else if("baidu"==this.platform){console.log("\u767e\u5ea6\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(e));var r=swan.createRewardedVideoAd({adUnitId:n.getVideoAdId(e),appSid:"b702d357"});r.load().then(function(){return r.show()}).catch(function(e){return console.log(e.errMsg)}),r.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),r.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),r.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),n.cb(e.isEnded?0:1),r.offLoad(),r.offError(),r.offClose()})}else if("tt"==this.platform){console.log("\u5934\u6761\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(e));var c=tt.createRewardedVideoAd({adUnitId:n.getVideoAdId(e)});c.load().then(function(){return c.show()}).catch(function(e){return console.log(e.errMsg)}),c.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),c.onLoad(function(){console.log("\u5934\u6761\u89c6\u9891\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),c.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1),c.offLoad(),c.offError(),c.offClose()})}else if("uc"==this.platform){var a=uc.createRewardVideoAd();a.show().then().catch(function(e){return console.log(e)}),a.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),a.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1),o.cb=null,a.offLoad(),a.offError(),a.offClose()})}else this.cb(0)}}});t.exports=i,cc._RF.pop()},{AdsParam:"AdsParam"}],AdsParam:[function(e,t,o){"use strict";cc._RF.push(t,"6ebac4YHD5OeI8LYh2tSbEw","AdsParam");var n=cc.Enum({PointA:1,PointB:2,PointC:3,PointD:4,PointE:5,PointF:6,PointG:7,PointH:8,PointI:9,PointJ:10});t.exports=n,cc._RF.pop()},{}],AppStart:[function(e,t,o){"use strict";function n(){cc.Mgr={},cc.Mgr.OpenAds=!1,cc.Mgr.Parse=!1,cc.Mgr.preLoadingScene=!1,cc.director.getCollisionManager().enabled=!0,cc.Mgr.global=e("Global");var t=e("AudioMgr");cc.Mgr.AudioMgr=new t,cc.Mgr.AudioMgr.init(),cc.Mgr.ShareInfos=e("ShareInfos"),cc.Mgr.ShareInfos.init(),cc.Mgr.AdsMgr=e("AdsMgr"),cc.Mgr.AdsMgr.Init(),cc.Mgr.PlatformController=e("PlatformController"),cc.Mgr.PlatformController.Init(),cc.Mgr.UserMgr=e("UserMgr");var o=e("MapDecoder");cc.Mgr.MapDecoder=new o,cc.Mgr.MapDecoder.MapDecodejson(function(e){e&&(cc.Mgr.Parse=!0)}),cc.Mgr.AudioMgr.playBGM("bgm")}cc._RF.push(t,"cb039cAazpMW4XtLu3JBNtD","AppStart"),cc.director.initMgr=!1;var i=e("LvPanel"),r=e("RankPanel"),c=e("CommonTip");cc.Class({extends:cc.Component,properties:{UIAtlas:cc.SpriteAtlas,LoadingNode:cc.Node,LoadingSp:cc.Node,startBtn:cc.Node,adsLbl:cc.Label,camera:cc.Camera,LvPanel:i,RankPanel:r,commonTipPanel:c,screenSp:cc.Sprite,tipTxtSp:cc.Sprite,otherAppNode:cc.Node},onLoad:function(){cc.director.GlobalEvent.clear(),this.startBtn.active=!1,0==cc.director.initMgr?(n(),cc.director.initMgr=!0,-1==cc.Mgr.UserMgr.getCurFinishLv()&&cc.Mgr.PlatformController.setUserCloudStorage(0),cc.Mgr.PlatformController.ShareTopNav(),cc.Mgr.PlatformController.CreateMoreGameBtn()):cc.Mgr.PlatformController.ShowMoreGameBtn(),"wx"==cc.Mgr.PlatformController.platform&&(this.otherAppNode.active=!0)},start:function(){this.camera.active=!1,cc.Mgr.global.SceneA=!0,cc.Mgr.AdsMgr.ShowBannerAds(),cc.director.preloadScene("gamescene",function(){cc.Mgr.preLoadingScene=!0}),this.LoadingSp.runAction(cc.repeatForever(cc.rotateBy(.2,45))),this.setLuPingState();var e="txt_"+(Math.floor(20*Math.random())+1);this.tipTxtSp.spriteFrame=this.UIAtlas.getSpriteFrame(e),cc.director.GlobalEvent.on("ScreenOverSceneA",function(e){this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_b")},this)},setLuPingState:function(){0==cc.Mgr.PlatformController.IsScreenRecord?this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_b"):this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_a")},onLoadSuccess:function(){},ShareFriend:function(){var e=Math.floor(4*Math.random());cc.Mgr.ShareInfos.getShareInfos(e);cc.Mgr.PlatformController.ShareToFriend(e)},OpenRankPanel:function(){if("tt"!=cc.Mgr.PlatformController.platform){if("baidu"==cc.Mgr.PlatformController.platform&&!cc.Mgr.PlatformController.IsLoginSync()){var e={text:"\u8bf7\u5148\u767b\u9646\u624b\u673a\u767e\u5ea6",forWhat:"Login"};return this.commonTipPanel.node.active=!0,void this.commonTipPanel.ShowPanel(e)}this.RankPanel.node.active=!0,cc.Mgr.PlatformController.SendMessageToSubView("RankPanelOpen")}else cc.Mgr.PlatformController.showToast("\u6392\u884c\u699c\u529f\u80fd\u6682\u672a\u5f00\u653e")},OpenLvPanel:function(){cc.Mgr.PlatformController.HideMoreGameBtn(),this.LvPanel.node.active=!0,this.LvPanel.ShowPanel();var e="txt_"+(Math.floor(20*Math.random())+1);this.tipTxtSp.spriteFrame=this.UIAtlas.getSpriteFrame(e)},goToLevel:function(){cc.Mgr.PlatformController.HideMoreGameBtn(),cc.Mgr.AudioMgr.playSFX("dong"),cc.Mgr.AdsMgr.HideBannerAd(),cc.Mgr.UserMgr.getCurFinishLv()<cc.Mgr.MapDecoder.getMapLevelLenght()?cc.Mgr.global.ChooseLv=Number(cc.Mgr.UserMgr.getCurFinishLv())+1:cc.Mgr.global.ChooseLv=0;var e=cc.Mgr.MapDecoder.getNotNullLevelDataLength(cc.Mgr.global.ChooseLv);cc.Mgr.global.ReSetGameSteps(e),cc.director.loadScene("gamescene")},OpenScreenRecord:function(){0!=cc.Mgr.PlatformController.IsSupportRecordScreen()?0==cc.Mgr.PlatformController.IsScreenRecord?(this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_a"),cc.Mgr.PlatformController.showToast("\u5f00\u59cb\u5f55\u5c4f"),cc.Mgr.PlatformController.StartRecordScreen()):(this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_b"),cc.Mgr.PlatformController.StopRecordScreen()):cc.Mgr.PlatformController.showToast("\u624b\u673a\u767e\u5ea6\u4e0d\u652f\u6301\u5f55\u5c4f\n\u8bf7\u5148\u5b8c\u6210\u5347\u7ea7")},JumpApp:function(){cc.Mgr.PlatformController.JumpToOtherApp("wxacaa8f3fc62bd8fd")},WatchAdsAddSteps:function(){cc.Mgr.PlatformController.AldEventStatis("\u89c6\u9891-\u5f00\u5c40-\u70b9\u51fb",{param:"jiba"}),cc.Mgr.global.ChooseLv=0,cc.Mgr.UserMgr.getCurFinishLv()<cc.Mgr.MapDecoder.getMapLevelLenght()&&(cc.Mgr.global.ChooseLv=Number(cc.Mgr.UserMgr.getCurFinishLv())+1);var e=cc.Mgr.MapDecoder.getNotNullLevelDataLength(cc.Mgr.global.ChooseLv);cc.Mgr.global.ReSetGameSteps(e),cc.Mgr.AdsMgr.ShowVideoAds(2,function(e){0==e&&(cc.Mgr.PlatformController.AldEventStatis("\u89c6\u9891-\u5f00\u5c40-\u5b8c\u6210",{param:"jiba"}),cc.Mgr.global.DoubleGameSteps(),cc.director.loadScene("gamescene"))})},update:function(e){1==cc.Mgr.Parse&&1==cc.Mgr.preLoadingScene&&(this.LoadingNode.active=!1,this.startBtn.active=!0)}}),cc._RF.pop()},{AdsMgr:"AdsMgr",AudioMgr:"AudioMgr",CommonTip:"CommonTip",Global:"Global",LvPanel:"LvPanel",MapDecoder:"MapDecoder",PlatformController:"PlatformController",RankPanel:"RankPanel",ShareInfos:"ShareInfos",UserMgr:"UserMgr"}],AudioMgr:[function(e,t,o){"use strict";cc._RF.push(t,"03fbffJyD9Eu5t62plKaVt3","AudioMgr");var n=null,i=cc.Class({extends:cc.Component,properties:{bgmVolume:1,sfxVolume:.5,bgmAudioID:-1,sfxAudioID:-1,musicState:1,voiceState:1},init:function(){var e;n=this,cc.Mgr.loadSound=!1,null!=(e=cc.sys.localStorage.getItem("bgmVolume"))&&(this.bgmVolume=parseFloat(e)),null!=(e=cc.sys.localStorage.getItem("sfxVolume"))&&(this.sfxVolume=parseFloat(e)),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("cc.audioEngine.pauseAll"),cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("cc.audioEngine.resumeAll"),1==n.musicState?n.resumeAll():n.pauseAll()})},getUrl:function(e){return cc.url.raw("resources/sound/"+e+".mp3")},playBGM:function(e){var t=this.getUrl(e);this.bgmAudioID>=0&&cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=cc.audioEngine.play(t,!0,this.bgmVolume)},playSFX:function(e){if(0!=this.voiceState){var t=this.getUrl(e);cc.audioEngine.play(t,!1,this.sfxVolume)}},setSFXVolume:function(e){this.sfxVolume!=e&&(cc.sys.localStorage.setItem("sfxVolume",e),this.sfxVolume=e)},setBGMVolume:function(e,t){this.bgmAudioID>=0&&(e>0?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID)),(this.bgmVolume!=e||t)&&(cc.sys.localStorage.setItem("bgmVolume",e),this.bgmVolume=e,cc.audioEngine.setVolume(this.bgmAudioID,e))},pauseAll:function(){this.musicState=0,this.voiceState=0,this.bgmVolume=0,this.sfxVolume=0,cc.audioEngine.pauseAll()},resumeAll:function(){this.musicState=1,this.voiceState=1,this.bgmVolume=1,this.sfxVolume=.5,cc.audioEngine.resumeAll()},pauseMusic:function(){this.musicState=0,this.bgmVolume=0,this.bgmAudioID>=0&&cc.audioEngine.pause(this.bgmAudioID)},resumeMusic:function(){this.musicState=1,this.bgmVolume=.5,this.bgmAudioID>=0&&cc.audioEngine.resume(this.bgmAudioID)},pauseVoice:function(){this.voiceState=0,this.sfxVolume=0},resumeVoice:function(){this.voiceState=1,this.sfxVolume=.8},getMusicState:function(){return this.musicState},getVoiceState:function(){return this.voiceState}});t.exports=i,cc._RF.pop()},{}],BgChange:[function(e,t,o){"use strict";cc._RF.push(t,"5fa43OuGEdLxaSbsez12ccq","BgChange");var n=cc.Class({extends:cc.Component,properties:{bgFrameArr:[cc.SpriteFrame],bgSp:cc.Sprite},ChangeBg:function(){cc.Mgr.global.curPlayLvCount+=1;var e=cc.Mgr.global.BgCount;cc.Mgr.global.curPlayLvCount>=10&&(cc.Mgr.global.curPlayLvCount=0,cc.Mgr.global.BgCount+=1,cc.Mgr.global.BgCount>=3&&(cc.Mgr.global.BgCount=0),e=cc.Mgr.global.BgCount),this.bgSp.spriteFrame=this.bgFrameArr[e]}});t.exports=n,cc._RF.pop()},{}],CommonTip:[function(e,t,o){"use strict";cc._RF.push(t,"40190ghy+1FGrUAl7I1BFMw","CommonTip");var n=cc.Class({extends:cc.Component,properties:{DesLbl:cc.Label},ShowPanel:function(e){null!=e.forWhat&&""!=e.forWhat?this.forWhat=e.forWhat:this.forWhat="",this.DesLbl.string=e.text},ClosePanel:function(){this.node.active=!1},ClickConfirm:function(){"Login"==this.forWhat&&cc.Mgr.PlatformController.Login(),this.ClosePanel()}});t.exports=n,cc._RF.pop()},{}],GameScene:[function(e,t,o){"use strict";cc._RF.push(t,"752c0JZ6lNJH4UPFYglzueC","GameScene");var n=e("GameState"),i=(e("tile"),e("RankPanel")),r=e("BgChange"),c=e("CommonTip");cc.Class({extends:cc.Component,properties:{UIAtlas:cc.SpriteAtlas,bgChange:r,tilePrefab:[cc.Prefab],tileGuidePrefab:cc.Prefab,tileParent:cc.Node,level:1,tileSize:80,tipTileSize:70,curLvlLbl:cc.Label,StepsLbl:cc.Label,MenuNode:cc.Node,BottomCtrlNode:cc.Node,MenuTopNode:cc.Node,SucPanel:cc.Node,AddTimePanel:cc.Node,RankPanel:i,commonTipPanel:c,FinishLv:!1,toNextLv:!1,ShowMaskIng:!1,VoiceSp:cc.Sprite,ForeLvSP:cc.Sprite,BackLvSp:cc.Sprite,GuideLbl:cc.Label,MaskNode:cc.Node,MaskLvLbl:cc.Label,TipPanel:cc.Node,tipTileParent:cc.Node,tipTilePrefab:cc.Prefab,LvOnSpFrame:cc.SpriteFrame,LvOffSpFrame:cc.SpriteFrame,screenSp:cc.Sprite},onLoad:function(){cc.game.on(cc.game.EVENT_SHOW,function(){1==cc.Mgr.AudioMgr.getVoiceState()?cc.Mgr.AudioMgr.resumeAll():cc.Mgr.AudioMgr.pauseAll()}),this.BottomCtrlNode.active=!0,this.MenuNode.active=!1,this.SucPanel.active=!1,this.TipPanel.active=!1,this.RegisterEvent(),cc.Mgr.AdsMgr.HideBannerAd(),cc.Mgr.global.SceneA=!1,0==cc.Mgr.PlatformController.IsScreenRecord?this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_b"):this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_a"),cc.Mgr.PlatformController.StartRecordScreen(!1),this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_a")},RegisterEvent:function(){cc.director.GlobalEvent.on("CheckAllTileDir",function(){this.checkAllTileDir()&&(cc.Mgr.AudioMgr.playSFX("di"),this.scheduleOnce(function(){cc.Mgr.AudioMgr.playSFX("win")},.5),0!=this.level&&1!=this.level||(0==this.level?this.GuideLbl.string=cc.director.NoticeText.Guide2:this.GuideLbl.string=cc.director.NoticeText.Guide4),cc.Mgr.global.gameState=n.FinishLv,this.level>=Number(cc.Mgr.UserMgr.getCurFinishLv())&&cc.Mgr.UserMgr.setCurFinishLv(this.level),this.FinishLv=!0,cc.log("\u987a\u5229\u5b8c\u6210"),this.TintAllTilesColor()),this.StepsLbl.string="\u5269\u4f59\u6b65\u6570:"+cc.Mgr.global.getGameSteps()},this),cc.director.GlobalEvent.on("ShowSucess",function(){this.ShowSucessPanel()},this),cc.director.GlobalEvent.on("NotEnoughStep",function(){this.ShowStepAddPanel()},this),cc.director.GlobalEvent.on("ScreenOverSceneB",function(e){this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_b")},this)},ShowStepAddPanel:function(){this.scheduleOnce(function(){cc.Mgr.AudioMgr.playSFX("di"),this.AddTimePanel.active=!0,cc.Mgr.AdsMgr.RecoverShowBanner()},.15)},OpenScreenRecord:function(){0!=cc.Mgr.PlatformController.IsSupportRecordScreen()?0==cc.Mgr.PlatformController.IsScreenRecord?(this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_a"),cc.Mgr.PlatformController.showToast("\u5f00\u59cb\u5f55\u5c4f"),cc.Mgr.PlatformController.StartRecordScreen()):(this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_b"),cc.Mgr.PlatformController.StopRecordScreen()):cc.Mgr.PlatformController.showToast("\u624b\u673a\u767e\u5ea6\u4e0d\u652f\u6301\u5f55\u5c4f\n\u8bf7\u5148\u5b8c\u6210\u5347\u7ea7")},ShowSucessPanel:function(){this.SucPanel.active=!0,this.SucPanel.runAction(cc.fadeIn(.5)),this.scheduleOnce(function(){cc.Mgr.PlatformController.StopRecordScreen(!1),cc.Mgr.PlatformController.ShowMoreGameBtn(),cc.Mgr.AdsMgr.RecoverShowBanner()},.5)},ShowMask:function(){this.ShowMaskIng=!1;var e=cc.sequence(cc.callFunc(function(){this.ShowMaskIng=!0,this.BottomCtrlNode.active=!1},this),cc.fadeIn(.4),cc.fadeOut(.4),cc.callFunc(function(){this.BottomCtrlNode.active=!0,this.ShowMaskIng=!1},this));0==this.ShowMaskIng&&this.MaskNode.runAction(e)},start:function(){this.AddTimePanel.active=!1,this.bgChange.ChangeBg(),1==cc.Mgr.AudioMgr.getVoiceState()?this.VoiceSp.spriteFrame=this.UIAtlas.getSpriteFrame("voice_open"):this.VoiceSp.spriteFrame=this.UIAtlas.getSpriteFrame("voice_close"),this.GuideLbl.string="",this.toNextLv=!1,cc.log("\u9009\u62e9\u7684\u52a0\u8f7d\u5173\u5361(\u4ece0\u5f00\u59cb\u7b97\u8d77) = "+cc.Mgr.global.ChooseLv),this.level=cc.Mgr.global.ChooseLv,this.StepsLbl.string="\u5269\u4f59\u6b65\u6570:"+cc.Mgr.global.getGameSteps(),this.ShowMask(),this.MaskLvLbl.string="* "+(this.level+1).toString()+" *",this.curLvlLbl.string="* "+(this.level+1).toString()+" *";var e=cc.Mgr.MapDecoder.getMapLevelData(this.level),t=e.width*this.tileSize;cc.log("\u5bbd\u5ea6  "+e.width),this.tileParent.width=t,this.RefreshMainMap(e.width,e.tiles),this.tipTileParent.width=e.width*this.tipTileSize,this.RefreshTipMap(e.width,e.tiles),0==this.level?this.BackLvSp.spriteFrame=this.LvOffSpFrame:this.BackLvSp.spriteFrame=this.LvOnSpFrame,this.level>cc.Mgr.UserMgr.getCurFinishLv()?this.ForeLvSP.spriteFrame=this.LvOffSpFrame:this.ForeLvSP.spriteFrame=this.LvOnSpFrame},RefreshMainMap:function(e,t){cc.Mgr.global.hasEmitSucess=!1,cc.Mgr.global.gameState=n.Game;for(var o=0;o<t.length;o++){var i=t[o],r=null;0!=this.level||0!=o&&5!=o?0==this.level&&0!=o&&5!=o?(r=cc.instantiate(this.tilePrefab[i.spType])).getComponent("tile").initGuide(i.spType,i.toDir):1==this.level?(r=cc.instantiate(this.tilePrefab[i.spType]),2==o||3==o?r.getComponent("tile").initGuide(i.spType,1):4==o||5==o?r.getComponent("tile").initGuide(i.spType,3):6==o||7==o?r.getComponent("tile").initGuide(i.spType,2):r.getComponent("tile").initGuide(i.spType,0)):(r=cc.instantiate(this.tilePrefab[i.spType])).getComponent("tile").init(i.spType):(r=cc.instantiate(this.tileGuidePrefab),0==o?r.getComponent("GuideTile").init(i.spType,3):r.getComponent("GuideTile").init(i.spType,1)),0!=this.level&&1!=this.level||(0==this.level?this.GuideLbl.string=cc.director.NoticeText.Guide1:this.GuideLbl.string=cc.director.NoticeText.Guide3),r.active=!0,r.parent=this.tileParent}},RefreshTipMap:function(e,t){for(var o=0;o<t.length;o++){var n=t[o],i=cc.instantiate(this.tipTilePrefab),r=i.getComponent("TipTile");if(null!=r){r.initTipTile(n.spType,n.toDir);var c=new cc.Color(135,125,69);r.SetColor(c)}i.active=!0,i.parent=this.tipTileParent}},ClearTipMap:function(){for(var e=this.tipTileParent.children,t=0;t<e.length;t++)e[t].destroy()},ClearMainMap:function(){for(var e=this.tileParent.children,t=0;t<e.length;t++)e[t].destroy()},TintAllTilesColor:function(){cc.Mgr.global.gameState==n.FinishLv&&cc.director.GlobalEvent.emit("TweenTileColor",{})},FadeOutAndDestoyAllTiles:function(){if(cc.Mgr.global.gameState==n.FinishLv)for(var e=this.tileParent.children,t=0;t<e.length;t++){e[t];e[t].runAction(cc.fadeOut(1))}},checkAllTileDir:function(){for(var e=this.tileParent.children,t=0;t<e.length;t++){var o=e[t].getComponent("tile");if(null!=o){if(1!=o.CheckDir())return!1}else if(null!=(o=e[t].getComponent("GuideTile"))&&1!=o.CheckDir())return!1}return!0},BackLastLevel:function(){if(0!=this.level&&1!=this.toNextLv&&1!=this.OpenIng&&1!=this.CloseIng&&(1==this.MenuNode.active&&this.CloseMenu(),cc.Mgr.PlatformController.HideMoreGameBtn(),cc.Mgr.AdsMgr.HideBannerAd(),cc.director.GlobalEvent.clear(),cc.Mgr.global.ChooseLv=this.level-1,cc.Mgr.global.ChooseLv>=0)){var e=cc.Mgr.MapDecoder.getNotNullLevelDataLength(cc.Mgr.global.ChooseLv);cc.Mgr.global.ReSetGameSteps(e),this.StepsLbl.string="\u5269\u4f59\u6b65\u6570:"+cc.Mgr.global.getGameSteps(),this.RefreshGameLevelData(),this.RegisterEvent()}},CloseSucessPanel:function(){cc.Mgr.PlatformController.HideMoreGameBtn();var e=cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){this.SucPanel.active=!1},this));this.SucPanel.runAction(e)},RefreshGameLevelData:function(){this.bgChange.ChangeBg(),this.BottomCtrlNode.active=!0,this.MenuNode.active=!1,this.CloseSucessPanel(),this.TipPanel.active=!1,cc.log("\u9009\u62e9\u7684\u52a0\u8f7d\u5173\u5361(\u4ece0\u5f00\u59cb\u7b97\u8d77) = "+cc.Mgr.global.ChooseLv),this.level=cc.Mgr.global.ChooseLv,this.GuideLbl.string="",this.toNextLv=!1,this.MaskLvLbl.string="* "+(this.level+1).toString()+" *",this.curLvlLbl.string="* "+(this.level+1).toString()+" *",this.ShowMask(),0==this.level?this.BackLvSp.spriteFrame=this.LvOffSpFrame:this.BackLvSp.spriteFrame=this.LvOnSpFrame,this.level>cc.Mgr.UserMgr.getCurFinishLv()?this.ForeLvSP.spriteFrame=this.LvOffSpFrame:this.ForeLvSP.spriteFrame=this.LvOnSpFrame;var e=cc.Mgr.MapDecoder.getMapLevelData(this.level),t=cc.sequence(cc.callFunc(function(){this.toNextLv=!0},this),cc.fadeOut(.5),cc.callFunc(function(){this.ClearMainMap(),this.ClearTipMap()},this),cc.fadeIn(.5),cc.callFunc(function(){this.tileParent.width=e.width*this.tileSize,this.RefreshMainMap(e.width,e.tiles),this.tipTileParent.width=e.width*this.tipTileSize,this.RefreshTipMap(e.width,e.tiles),this.toNextLv=!1},this));0==this.toNextLv&&this.tileParent.runAction(t)},ToNextLevel:function(){if(cc.Mgr.AdsMgr.HideBannerAd(),cc.Mgr.PlatformController.HideMoreGameBtn(),!(cc.Mgr.global.gameState!=n.FinishLv&&this.level>Number(cc.Mgr.UserMgr.getCurFinishLv()))&&1!=this.toNextLv&&1!=this.OpenIng&&1!=this.CloseIng&&(1==this.MenuNode.active&&this.CloseMenu(),cc.Mgr.PlatformController.StartRecordScreen(!1),this.screenSp.spriteFrame=this.UIAtlas.getSpriteFrame("luping_a"),cc.Mgr.global.ChooseLv=this.level+1,cc.director.GlobalEvent.clear(),cc.Mgr.global.ChooseLv<cc.Mgr.MapDecoder.getMapLevelLenght())){var e=cc.Mgr.MapDecoder.getNotNullLevelDataLength(cc.Mgr.global.ChooseLv);cc.Mgr.global.ReSetGameSteps(e),this.StepsLbl.string="\u5269\u4f59\u6b65\u6570:"+cc.Mgr.global.getGameSteps(),this.RefreshGameLevelData(),this.RegisterEvent()}},OpenMenu:function(){this.OpenIng=!1;var e=cc.sequence(cc.callFunc(function(){cc.Mgr.global.gameState=n.Menu,this.OpenIng=!0},this),cc.scaleBy(.05,.8),cc.callFunc(function(){this.MenuNode.active=!0,this.BottomCtrlNode.active=!1,this.OpenIng=!1},this));0==this.OpenIng&&0==this.ShowMaskIng&&(cc.Mgr.AudioMgr.playSFX("dong"),this.tileParent.runAction(e))},RefreshGame:function(){cc.log("\u91cd\u7f6e\u65b9\u5411"),cc.Mgr.global.gameState=n.Menu;for(var e=this.tileParent.children,t=0;t<e.length;t++)e[t].setRotation(0)},VoiceOpenClose:function(){1==cc.Mgr.AudioMgr.getVoiceState()?(this.VoiceSp.spriteFrame=this.UIAtlas.getSpriteFrame("voice_close"),cc.Mgr.AudioMgr.pauseAll()):(this.VoiceSp.spriteFrame=this.UIAtlas.getSpriteFrame("voice_open"),cc.Mgr.AudioMgr.resumeAll())},CloseMenu:function(){this.CloseIng=!1;var e=cc.sequence(cc.callFunc(function(){this.CloseIng=!0,cc.Mgr.global.gameState=n.Game},this),cc.scaleBy(.05,1.25),cc.callFunc(function(){this.MenuNode.active=!1,this.BottomCtrlNode.active=!0,this.CloseIng=!1},this));0==this.CloseIng&&(cc.Mgr.AudioMgr.playSFX("dong"),this.tileParent.runAction(e))},OpenTipPanel:function(){cc.Mgr.AudioMgr.playSFX("dong");var e=this;cc.Mgr.PlatformController.AldEventStatis("\u89c6\u9891-\u63d0\u793a-\u70b9\u51fb",{param:"jiba"}),cc.Mgr.AdsMgr.ShowVideoAds(1,function(t){0==t&&(cc.Mgr.PlatformController.AldEventStatis("\u89c6\u9891-\u63d0\u793a-\u5b8c\u6210",{param:"jiba"}),cc.Mgr.global.gameState=n.Menu,e.TipPanel.active=!0,e.BottomCtrlNode.active=!1)})},CloseTipPanel:function(){cc.Mgr.global.gameState=n.Game,this.TipPanel.active=!1,this.BottomCtrlNode.active=!0},ShareToFriend:function(){var e=Math.floor(4*Math.random());cc.Mgr.ShareInfos.getShareInfos(e);cc.Mgr.PlatformController.ShareToFriend(e)},ShareVideo:function(){if("uc"!=cc.Mgr.PlatformController.platform)cc.Mgr.PlatformController.ShareRecordScreen();else{cc.Mgr.global.useStep,cc.Mgr.global.ChooseLv;cc.Mgr.PlatformController.ShareToFriendTxt()}},CloseAddTimePanel:function(){cc.Mgr.AudioMgr.playSFX("di"),cc.Mgr.AdsMgr.HideBannerAd(),this.AddTimePanel.active=!1},OpenRankPanel:function(){if("tt"!=cc.Mgr.PlatformController.platform){if("baidu"==cc.Mgr.PlatformController.platform&&!cc.Mgr.PlatformController.IsLoginSync()){var e={text:"\u8bf7\u5148\u767b\u9646\u624b\u673a\u767e\u5ea6",forWhat:"Login"};return this.commonTipPanel.node.active=!0,void this.commonTipPanel.ShowPanel(e)}this.RankPanel.node.active=!0,cc.Mgr.PlatformController.SendMessageToSubView("RankPanelOpen")}else cc.Mgr.PlatformController.showToast("\u6392\u884c\u699c\u529f\u80fd\u6682\u672a\u5f00\u653e")},WatchAdsAddSteps:function(){var e=this;cc.Mgr.PlatformController.AldEventStatis("\u89c6\u9891-+50\u6b65-\u70b9\u51fb",{param:"jiba"}),cc.Mgr.AdsMgr.ShowVideoAds(3,function(t){0==t&&(cc.Mgr.PlatformController.AldEventStatis("\u89c6\u9891-+50\u6b65-\u5b8c\u6210",{param:"jiba"}),cc.Mgr.global.AddGameSteps(50),e.StepsLbl.string="\u5269\u4f59\u6b65\u6570:"+cc.Mgr.global.getGameSteps(),e.AddTimePanel.active=!1,cc.Mgr.AdsMgr.HideBannerAd())})},WatchAdsAddStepsInGame:function(){var e=this;cc.Mgr.PlatformController.AldEventStatis("\u89c6\u9891-+30\u6b65-\u70b9\u51fb",{param:"jiba"}),cc.Mgr.AdsMgr.ShowVideoAds(4,function(t){0==t&&(cc.Mgr.PlatformController.AldEventStatis("\u89c6\u9891-+30\u6b65-\u5b8c\u6210",{param:"jiba"}),cc.Mgr.global.AddGameSteps(30),e.StepsLbl.string="\u5269\u4f59\u6b65\u6570:"+cc.Mgr.global.getGameSteps(),e.AddTimePanel.active=!1)})},backHomeScene:function(){cc.director.loadScene("welcome")}}),cc._RF.pop()},{BgChange:"BgChange",CommonTip:"CommonTip",GameState:"GameState",RankPanel:"RankPanel",tile:"tile"}],GameState:[function(e,t,o){"use strict";cc._RF.push(t,"10a95T6qK5GarMaiRvPHono","GameState");var n=cc.Enum({Menu:0,Game:1,FinishLv:2});t.exports=n,cc._RF.pop()},{}],GlobalEvent:[function(e,t,o){"use strict";cc._RF.push(t,"ee7d234LKZEM6QklASaLrg0","GlobalEvent"),cc.director.GlobalEvent={handles_:{},emit:function(e,t){var o=[];for(var n in console.log("\u4e8b\u4ef6\u5206\u53d1",e),t.eventName=e,this.handles_)if(n==e)for(var i=0;i<this.handles_[n].length;i++)if(this.handles_[n][i]){var r=this.handles_[n][i](t);o.push(r)}return o},on:function(e,t,o){console.log("\u6536\u5230\u4e8b\u4ef6",e),this.handles_[e]=this.handles_[e]||[],this.handles_[e].push(t.bind(o))},off:function(e){if(this.handles_[e])for(var t=0;t<this.handles_[e].length;t++)this.handles_[e][t]=null},clear:function(){for(var e in this.handles_)for(var t=0;t<this.handles_[e].length;t++)this.handles_[e][t]=null}},cc._RF.pop()},{}],Global:[function(e,t,o){"use strict";cc._RF.push(t,"ba6d3SsbQVMub9ZaMnXZ62h","Global");var n=e("GameState"),i=cc.Class({extends:cc.Component,statics:{AllLevelCount:0,ChooseLv:0,gameState:n.Menu,BgCount:0,curPlayLvCount:0,hasEmitSucess:!1,SceneA:!1,screenStartTime:0,gameSteps:0,useStep:0,GetSysTime:function(){return Math.round(new Date/1e3)-1545264e3},ResetEmitSucessState:function(){this.hasEmitSucess=!1},ReSetGameSteps:function(e){this.useStep=0,this.gameSteps=Math.floor(1.5*e),this.gameSteps%2!=0&&(this.gameSteps+=1)},getGameSteps:function(){return this.gameSteps},DoubleGameSteps:function(){this.gameSteps=Math.floor(1.5*this.gameSteps)},SubGameSteps:function(){this.gameSteps>0&&(this.gameSteps-=1,this.useStep+=1,this.gameSteps<=0&&(this.gameSteps=0))},AddGameSteps:function(e){this.gameSteps+=e}}});t.exports=i,cc._RF.pop()},{GameState:"GameState"}],GuideTile:[function(e,t,o){"use strict";cc._RF.push(t,"98f95fRfxdC95gIh3UBuYoG","GuideTile");var n=e("tile"),i=cc.Class({extends:cc.Component,properties:{Tile:n},start:function(){},init:function(e,t){this.Tile.initGuide(e,t)},CheckDir:function(){return this.Tile.CheckDir()}});t.exports=i,cc._RF.pop()},{tile:"tile"}],HallScene:[function(e,t,o){"use strict";cc._RF.push(t,"9f1b28tJq5M8b6PjPaLNYeB","HallScene");var n=e("GameState");cc.Class({extends:cc.Component,properties:{lvItemPrefab:cc.Prefab,lvItemParent:cc.Node},onLoad:function(){cc.Mgr.global.gameState=n.Menu,this.LoadLevelData()},start:function(){},LoadLevelData:function(){var e=cc.Mgr.MapDecoder.getMapLevelLenght(),t=cc.Mgr.UserMgr.getCurFinishLv();cc.log("\u62ff\u5230level\u6570\u91cf = "+e);for(var o=0;o<e;o++){var n=cc.instantiate(this.lvItemPrefab);o<=t&&(n.color=new cc.color(150,150,150)),n.getComponent("levelItem").init(o),n.active=!0,n.parent=this.lvItemParent}},OpenUrl:function(){cc.sys.openURL("https://alexdoninic.github.io/MyLove/")},goToLevel:function(){cc.Mgr.UserMgr.getCurFinishLv()<cc.Mgr.MapDecoder.getMapLevelLenght()?(cc.Mgr.global.ChooseLv=Number(cc.Mgr.UserMgr.getCurFinishLv())+1,cc.director.loadScene("gamescene")):(cc.Mgr.global.ChooseLv=1,cc.director.loadScene("gamescene"))}}),cc._RF.pop()},{GameState:"GameState"}],LoadingScene:[function(e,t,o){"use strict";cc._RF.push(t,"8320fDOjPdMoJogQVro7f3x","LoadingScene"),cc.Class({extends:cc.Component,properties:{tipLabel:cc.Label},onLoad:function(){},start:function(){var e=this,t="\u4f60\u7684\u9152\u7a9d\u6ca1\u6709\u9152,\u53ef\u6211\u9189\u5f97\u50cf\u4e2a\u50bb\u5b50",o=0;this.tipLabel.string="",this.schedule(function(){++o==t.length+1?e.onLoadSuccess():e.tipLabel.string=t.substring(0,o)},.3,t.length+1,.3)},onLoadSuccess:function(){cc.director.loadScene("HallScene")}}),cc._RF.pop()},{}],LvPanel:[function(e,t,o){"use strict";cc._RF.push(t,"8db18WRlsNJBKRBXMMC6jNN","LvPanel");e("lvItem"),cc.Class({extends:cc.Component,properties:{LvItem:cc.Prefab,itemParent:cc.Node,hasInit:!1},ShowPanel:function(){if(!this.hasInit){for(var e=cc.Mgr.MapDecoder.getMapLevelLenght(),t=Math.floor(e/5),o=0;o<=t;o++){var n=cc.instantiate(this.LvItem);n.getComponent("lvItem").RefreshItem(o),n.active=!0,n.parent=this.itemParent}this.hasInit=!0}},ClosePanel:function(){cc.Mgr.PlatformController.ShowMoreGameBtn(),this.node.active=!1}});cc._RF.pop()},{lvItem:"lvItem"}],MapDecoder:[function(e,t,o){"use strict";cc._RF.push(t,"e579d1pO5VJQ5Lj5MvPZM+6","MapDecoder");var n=e("TileData"),i=e("levelData"),r=cc.Class({extends:cc.Component,properties:{jsonName:"levels",levelDataList:{default:[],type:[i]}},MapDecodejson:function(e){cc.log("MLGB \u5f00\u59cb\u89e3\u6790\u6570\u636e\u4e86");var t=this;t.parseReCb=e,cc.loader.loadRes("json/"+t.jsonName,function(e,o){if(e)return cc.log("\u9519\u8bef\u4fe1\u606f = "+e),void t.parseReCb(!1);var r=o.json.levels;cc.log("\u957f\u5ea6 = "+r.length),cc.Mgr.global.AllLevelCount=r.length;for(var c=0;c<r.length;c++){var a=new i;a.Id=c.toString(),a.width=r[c].width,a.height=r[c].height;for(var s=0;s<r[c].tiles.length;s++){var l=new n,h=r[c].tiles[s];l.spType=h[0],l.toDir=h[1],a.tiles[s]=l}t.levelDataList[c]=a}t.parseReCb(!0)})},getMapLevelLenght:function(){return this.levelDataList.length},getMapLevelData:function(e){return this.levelDataList[e]},getNotNullLevelDataLength:function(e){for(var t=this.levelDataList[e],o=0,n=0;n<t.tiles.length;n++)0!=t.tiles[n].spType&&(o+=1);return o}});t.exports=r,cc._RF.pop()},{TileData:"TileData",levelData:"levelData"}],NoticeText:[function(e,t,o){"use strict";cc._RF.push(t,"516dcSPJD1MzJM23TZFk0Rw","NoticeText"),cc.director.NoticeText={Guide1:"\u70b9\u51fb\u4e0b\u65b9\u65cb\u8f6c\u6a21\u5757\uff0c\u5c06\u6563\u4e71\u7684\u7ebf\u6761\u62fc\u63a5\u6210\u5b8c\u6574\u8fde\u63a5",Guide2:"\u54c7\uff01\u5b8c\u6210\u76ee\u6807,\u5e72\u7684\u6f02\u4eae\uff01",Guide3:"\u63d0\u793a\uff1a\u62c6\u5f00\u5706\u5f62\uff0c\u4e0e\u5de6\u53f3\u7684\u7ebf\u6761\u5b8c\u6574\u8fde\u63a5",Guide4:"\u592a\u5389\u5bb3\u4e86\u3002\u66f4\u6709\u8da3\u7684\u6311\u6218\u7b49\u5f85\u7740\u4f60,\u52a0\u6cb9\u5427\uff01\uff01"},cc._RF.pop()},{}],PlatformController:[function(e,t,o){"use strict";cc._RF.push(t,"14759KM7UND6qDYXLeSI+QE","PlatformController");var n=cc.Class({statics:{IsScreenRecord:!1,wxSubContextViewLock:0,platform:"tt",Init:function(){window.wx||window.tt||window.swan||window.uc||(this.platform="pc")},IsLoginSync:function(){return"baidu"!=this.platform||!!swan.isLoginSync().isLogin&&(console.log("\u5df2\u7ecf\u6709\u767b\u9646\u4e86"),!0)},CheckTTSession:function(e){tt.checkSession({success:function(t){e(!0),console.log("session\u672a\u8fc7\u671f")},fail:function(t){console.log("session\u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55"),e(!1)}})},Login:function(){var e=this;"baidu"==this.platform?swan.login({success:function(){e.setUserCloudStorage(cc.Mgr.UserData.getHighScore())},fail:function(){swan.showModal({title:"\u767b\u5f55\u5931\u8d25",content:"\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f",cancelText:"\u9000\u51fa\u6e38\u620f",success:function(t){t.confirm?(console.log("\u70b9\u51fb\u4e86\u786e\u5b9a"),e.Login()):t.cancel&&(console.log("\u70b9\u51fb\u4e86\u53d6\u6d88"),swan.exit())}})}}):"tt"==this.platform&&tt.login({success:function(){e.setUserCloudStorage(cc.Mgr.UserDataMgr.HistoryHighAssets)},fail:function(){tt.showModal({title:"\u767b\u5f55\u5931\u8d25",content:"\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f",cancelText:"\u9000\u51fa\u6e38\u620f",success:function(t){t.confirm?(console.log("\u70b9\u51fb\u4e86\u786e\u5b9a"),e.Login()):t.cancel&&(console.log("\u70b9\u51fb\u4e86\u53d6\u6d88"),tt.exitMiniProgram({}))}})}})},CreateMoreGameBtn:function(){"tt"==this.platform&&(this.ttMoreGameBtn=tt.createMoreGamesButton({type:"image",image:"images/moregamebtn.png",style:{left:20,top:120,width:45,height:60,lineHeight:40,backgroundColor:"#ffffff",textColor:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,borderWidth:1,borderColor:"#ffffff"},appLaunchOptions:[{appId:"tt39254f98a60fd13b"},{appId:"tt18ba6e078790f9a1"},{appId:"tt62dc1461fdf688b4"},{appId:"tt68a31e1ef78989bb"},{appId:"ttf14d87f06e671d2f"},{appId:"tta91adfa7363051b9"},{appId:"tt5ced2a50c3c7bbba"},{appId:"tt9bd2ed6f04f82beb"},{appId:"tt5e6228dfc148d0ae"},{appId:"ttbee0c85d21ca306a"}],onNavigateToMiniGame:function(e){console.log("\u8df3\u8f6c\u5176\u4ed6\u5c0f\u6e38\u620f",e)}}),this.ttMoreGameBtn.onTap(function(){console.log("\u70b9\u51fb\u66f4\u591a\u6e38\u620f")}))},ShowMoreGameBtn:function(){"tt"==this.platform&&null!=this.ttMoreGameBtn&&this.ttMoreGameBtn.show()},HideMoreGameBtn:function(){"tt"==this.platform&&null!=this.ttMoreGameBtn&&this.ttMoreGameBtn.hide()},ShareTopNav:function(){var e=Math.floor(4*Math.random()),t=cc.Mgr.ShareInfos.getShareInfos(e);"wx"==this.platform?(wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:t.text,imageUrl:t.url}})):"tt"==this.platform?(tt.showShareMenu(!1),tt.onShareAppMessage(function(){return{title:t.text,imageUrl:t.url}})):"baidu"==this.platform&&(swan.showShareMenu(!1),swan.onShareAppMessage(function(){return{title:t.text,imageUrl:t.url}}))},ShareToFriendTxt:function(e){var t=Math.floor(4*Math.random()),o=cc.Mgr.ShareInfos.getShareInfos(t);"wx"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),wx.shareAppMessage({title:e})):"tt"==this.platform?tt.shareAppMessage({title:e}):"baidu"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),swan.shareAppMessage({title:e})):"uc"==this.platform&&uc.shareAppMessage({title:e,imageUrl:o.url,query:"",success:function(e){console.log("shareAppMessage share success",JSON.stringify(e))},fail:function(e){console.log("shareAppMessage share fail",JSON.stringify(e))}})},ShareToFriend:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cb=null;var o=this;this.cb=t;var n=cc.Mgr.ShareInfos.getShareInfos(e);"wx"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),wx.shareAppMessage({title:n.text,imageUrl:n.url})):"tt"==this.platform?tt.shareAppMessage({title:n.text,imageUrl:n.url,success:function(){null!=o.cb&&o.cb(0)},fail:function(e){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}}):"baidu"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),swan.shareAppMessage({title:n.text,imageUrl:n.url,success:function(){null!=o.cb&&o.cb(0)},fail:function(e){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}})):"uc"==this.platform&&uc.shareAppMessage({title:n.text,imageUrl:n.url,query:"",success:function(e){console.log("shareAppMessage share success",JSON.stringify(e))},fail:function(e){console.log("shareAppMessage share fail",JSON.stringify(e))}})},showToast:function(e){cc.log(e),"wx"==this.platform?wx.showToast({title:e,icon:"none",duration:2e3}):"tt"==this.platform?tt.showToast({title:e,icon:"none",duration:2e3}):"baidu"==this.platform&&swan.showToast({title:e,icon:"none",duration:2e3})},setUserCloudStorage:function(e){var t,o;(console.log("setUserCloudStorage socre = "+e),"wx"==this.platform)&&((t={wxgame:{}}).wxgame.score=e,t.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(t)),(o=new Array).push({key:"\btzScore",value:JSON.stringify(t)}),wx.setUserCloudStorage({KVDataList:o,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail : "+e)}}));"baidu"==this.platform&&((t={wxgame:{}}).wxgame.score=e,t.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(t)),(o=new Array).push({key:"\btzScore",value:JSON.stringify(t)}),swan.setUserCloudStorage({KVDataList:o,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail : "+e)}}))},IsSupportRank:function(){return"wx"==this.platform},showSubContentView:function(){"wx"==this.platform&&(this.wxSubContextViewLock++,console.log("showSubContentView   "+this.wxSubContextViewLock))},hideSubContentView:function(){"wx"==this.platform&&(this.wxSubContextViewLock--,console.log("hideSubContentView   "+this.wxSubContextViewLock))},SendMessageToSubView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o={};o.code=e,o.curScore=t,"wx"==this.platform?wx.getOpenDataContext().postMessage({message:o}):"baidu"==this.platform&&swan.getOpenDataContext().postMessage({message:o})},QuakeScreen:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"pc"!=this.platform&&(1==e?"tt"==this.platform?tt.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"baidu"==this.platform?swan.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"wx"==this.platform&&wx.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"tt"==this.platform?tt.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"baidu"==this.platform?swan.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"wx"==this.platform&&wx.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}))},IsSupportRecordScreen:function(){return"tt"==this.platform||"baidu"==this.platform&&!!this.CompareSdkVesrion(swan.getSystemInfoSync().SDKVersion,"1.4.1")},CompareSdkVesrion:function(e,t){for(var o=e.split("."),n=t.split("."),i=0;i<o.length;i++){if(parseInt(o[i])<parseInt(n[i]))return 0;if(parseInt(o[i])>parseInt(n[i]))return 1}return 1},StartRecordScreen:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this;this.videoPath="",this.IsScreenRecord=!0,this.overShare=e,cc.Mgr.global.screenStartTime=cc.Mgr.global.GetSysTime(),"tt"==this.platform?(null==this.recorderManager&&(this.recorderManager=tt.getGameRecorderManager(),this.recorderManager.onStart(function(e){console.log("\u5f55\u5236\u5f00\u59cb\u4e86: "+e),0==t.overShare&&t.showToast("\u5f00\u59cb\u5f55\u5236")}),this.recorderManager.onStop(function(e){console.log("\u5f55\u5236\u7ed3\u675f\u4e86: "+e.videoPath),t.IsScreenRecord=!1,cc.Mgr.global.SceneA?cc.director.GlobalEvent.emit("ScreenOverSceneA",{}):cc.director.GlobalEvent.emit("ScreenOverSceneB",{}),t.videoPath=e.videoPath,1==t.overShare?t.ShareRecordScreen():t.showToast("\u7ed3\u675f\u5f55\u5c4f")}),this.recorderManager.onPause(function(){console.log("\u5f55\u5236\u6682\u505c\u4e86")}),this.recorderManager.onResume(function(){console.log("\u5f55\u5236\u6062\u590d\u4e86")}),this.recorderManager.onError(function(e){console.log("\u5f55\u5236\u51fa\u9519\u4e86:"+e),t.IsScreenRecord=!1})),this.recorderManager.start({duration:30})):"baidu"==this.platform&&(null==this.recorderManager&&(this.recorderManager=swan.getVideoRecorderManager(),this.recorderManager.onStart(function(e){console.log("\u5f55\u5236\u5f00\u59cb\u4e86: "+e)}),this.recorderManager.onStop(function(e){console.log("\u5f55\u5236\u7ed3\u675f\u4e86: "+e.videoPath),t.videoPath=e.videoPath,t.IsScreenRecord=!1,cc.Mgr.global.SceneA?cc.director.GlobalEvent.emit("ScreenOverSceneA",{}):cc.director.GlobalEvent.emit("ScreenOverSceneB",{}),t.ShareRecordScreen()}),this.recorderManager.onPause(function(){console.log("\u5f55\u5236\u6682\u505c\u4e86")}),this.recorderManager.onResume(function(){console.log("\u5f55\u5236\u6062\u590d\u4e86")}),this.recorderManager.onError(function(e){console.log("\u5f55\u5236\u51fa\u9519\u4e86:"+e),t.IsScreenRecord=!1})),this.recorderManager.start({duration:30,microphoneEnabled:!0}))},StopRecordScreen:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.IsScreenRecord=!1,this.overShare=e,"tt"==this.platform){if(null==this.recorderManager)return;console.log("\u505c\u6b62\u5f55\u5236"),this.recorderManager.stop()}else if("baidu"==this.platform){if(null==this.recorderManager)return;console.log("\u505c\u6b62\u5f55\u5236"),this.recorderManager.stop()}},ShareRecordScreen:function(){if(cc.Mgr.global.GetSysTime()-cc.Mgr.global.screenStartTime<=3)return cc.Mgr.global.screenStartTime=0,void this.showToast("\u5f55\u5236\u65f6\u95f4\u5c11\u4e8e\u4e09\u79d2,\u672a\u80fd\u6210\u529f\u4fdd\u5b58\u89c6\u9891");if("tt"==this.platform){if(1==this.overShare&&this.showToast("\u7ed3\u675f\u5f55\u5c4f"),null==this.recorderManager||""==this.videoPath)return void this.showToast("\u672a\u80fd\u627e\u5230\u5df2\u4fdd\u5b58\u5f55\u5236\u89c6\u9891,\u65e0\u6cd5\u5206\u4eab");console.log("\u5206\u4eab\u5f55\u5236\u7684\u89c6\u9891"),tt.shareVideo({videoPath:""+this.videoPath,success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01")},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25\uff01"+e)}})}else if("baidu"==this.platform){if(this.showToast("\u7ed3\u675f\u5f55\u5c4f"),null==this.recorderManager||null==this.videoPath)return;console.log("\u5206\u4eab\u5f55\u5236\u7684\u89c6\u9891"),swan.shareVideo({videoPath:""+this.videoPath,success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01")},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25\uff01"+e)}})}},JumpToOtherApp:function(e){"wx"==this.platform?wx.navigateToMiniProgram({appId:e,envVersion:"release",success:function(e){console.log("\u6210\u529f\u6253\u5f00\u4e86\u5176\u4ed6\u5c0f\u7a0b\u5e8f")}}):"baidu"==this.platform?swan.navigateToMiniProgram({appKey:e,extraData:{},success:function(e){console.log("\u767e\u5ea6\u8df3\u8f6c success",e)},fail:function(e){console.log("\u767e\u5ea6\u8df3\u8f6c fail",e)}}):"tt"==this.platform&&tt.navigateToMiniProgram({appId:e,extraData:{},success:function(e){console.log(" success",e)},fail:function(e){console.log(" fail",e)}})},AldEventStatis:function(e,t){"wx"==this.platform&&wx.aldSendEvent(e,t)}}});t.exports=n,cc._RF.pop()},{}],RankPanel:[function(e,t,o){"use strict";cc._RF.push(t,"2aaf4DbeAlNPKdM414OLIei","RankPanel");var n=cc.Class({extends:cc.Component,properties:{},ToFrontPage:function(){cc.Mgr.PlatformController.SendMessageToSubView("ToFrontPage")},ToNextPage:function(){cc.Mgr.PlatformController.SendMessageToSubView("ToNextPage")},ClosePanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("RankPanelClose"),this.node.active=!1}});t.exports=n,cc._RF.pop()},{}],ShareInfos:[function(e,t,o){"use strict";cc._RF.push(t,"747b3uMa71Bx4tK12EFUCkl","ShareInfos");var n=cc.Class({extends:cc.Component,statics:{init:function(){this.Infos=[{text:"\u3010\u6709\u4eba@\u4f60\u3011\u6211\u4e0d\u4fe1\u4f60\u80fd\u73a9\u5230100\u5173\uff0c\u6562\u6311\u6218\u5417",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5oPFHWqibribePaTxs773JlUWeEjdxytMHDErv6994QONrAJvTR2Rqwus/0"},{text:"\u624b\u6307\u52a8\u4e00\u52a8\uff0c\u8fd9\u6e38\u620f\u771f\u7684\u4e0d\u662f\u90a3\u4e48\u7b80\u5355\u5440",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5oPFHWqibribePaTxs773JlUWeEjdxytMHDErv6994QONrAJvTR2Rqwus/0"},{text:"\u6211\u5c31\u662f\u5982\u6b64\u806a\u6167,\u6e38\u620f\u5c31\u662f\u4e00\u4e2a\u667a\u529b\u5927\u6bd4\u62fc",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5oPFHWqibribePaTxs773JlUWeEjdxytMHDErv6994QONrAJvTR2Rqwus/0"},{text:"\u62fc\u51fa\u4e00\u526f\u5b8c\u7f8e\u7684\u56fe\u8c31,\u89e3\u8c1c\u4e00\u9053\u4e0d\u53ef\u601d\u8bae\u7684\u8c1c\u9898\u3002",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5oPFHWqibribePaTxs773JlUWeEjdxytMHDErv6994QONrAJvTR2Rqwus/0"}]},getShareInfos:function(e){return this.Infos[e]}}});t.exports=n,cc._RF.pop()},{}],TileData:[function(e,t,o){"use strict";cc._RF.push(t,"973abbGgT5GGbF+vyoO26Kw","TileData");var n=cc.Class({name:"TileData",properties:{spType:0,toDir:0}});t.exports=n,cc._RF.pop()},{}],TipTile:[function(e,t,o){"use strict";cc._RF.push(t,"735bc4wuXBPWKJ+FovAsYl3","TipTile");var n=cc.Class({extends:cc.Component,properties:{SpFrameArr:[cc.SpriteFrame],Sp:cc.Sprite},start:function(){},initTipTile:function(e,t){this.Sp.spriteFrame=this.SpFrameArr[e],this.node.setRotation(90*t)},SetColor:function(e){this.Sp.node.color=e}});t.exports=n,cc._RF.pop()},{}],TweenColor:[function(e,t,o){"use strict";cc._RF.push(t,"be084rW0AxBuYV0rlbu82gU","TweenColor");var n=cc.Class({extends:cc.Component,statics:{}});t.exports=n,cc._RF.pop()},{}],UserMgr:[function(e,t,o){"use strict";cc._RF.push(t,"6c7cabKaWJGWIUD94DDyEW6","UserMgr");var n=cc.Class({extends:cc.Component,statics:{getCurFinishLv:function(){var e=cc.sys.localStorage.getItem("FinishLv");return null!=e&&""!=e||(e=-1),e},setCurFinishLv:function(e){var t=cc.sys.localStorage.getItem("FinishLv");null!=t&&""!=t||(t=-1),cc.log("\u66f4\u65b0\u5b58\u50a8\u5173\u5361\u6570\u636e = "+e),e>t&&(cc.sys.localStorage.setItem("FinishLv",e),cc.Mgr.PlatformController.setUserCloudStorage(e))}}});t.exports=n,cc._RF.pop()},{}],enterBox:[function(e,t,o){"use strict";cc._RF.push(t,"f00bdsI/0xPYohfbdqbu1oa","enterBox");cc.Class({extends:cc.Component,properties:{isContacting:!1},start:function(){},onCollisionEnter:function(e,t){1!=this.isContacting&&(this.isContacting=!0)},onCollisionStay:function(e,t){1!=this.isContacting&&(this.isContacting=!0)},onCollisionExit:function(e,t){this.isContacting=!1},IsContacting:function(){return this.isContacting}});cc._RF.pop()},{}],levelData:[function(e,t,o){"use strict";cc._RF.push(t,"00e90YGLytAMLnd+d8HHVv9","levelData");var n=e("TileData"),i=cc.Class({name:"levelData",properties:{Id:"",width:cc.Integer,height:cc.Integer,tiles:[n]}});t.exports=i,cc._RF.pop()},{TileData:"TileData"}],levelItem:[function(e,t,o){"use strict";cc._RF.push(t,"b9e61zkSPFIGboyvDVM8bcp","levelItem");var n=cc.Class({extends:cc.Component,properties:{lvLbl:cc.Label,level:cc.Integer},start:function(){},init:function(e){this.level=e,this.lvLbl.string="Level-"+(e+1).toString()},GotoLevelScene:function(){cc.Mgr.global.ChooseLv=this.level;var e=cc.Mgr.MapDecoder.getNotNullLevelDataLength(cc.Mgr.global.ChooseLv);cc.Mgr.global.ReSetGameSteps(e),cc.director.loadScene("gamescene")}});t.exports=n,cc._RF.pop()},{}],lvItem:[function(e,t,o){"use strict";cc._RF.push(t,"21397ml5oJL47Il0hxdp//Q","lvItem");var n=cc.Class({extends:cc.Component,properties:{Lbl:cc.Label,lockNode:cc.Node,index:0},RefreshItem:function(e){var t=cc.Mgr.UserMgr.getCurFinishLv();this.index=e,5*e<=t+1?(this.lockNode.active=!1,this.Lbl.string=5*e+1+" - "+5*(e+1),this.Lbl.node.active=!0):(this.lockNode.active=!0,this.Lbl.node.active=!1)},ClickToLv:function(){cc.Mgr.PlatformController.HideMoreGameBtn(),1==this.lockNode.active?cc.Mgr.global.ChooseLv=Number(cc.Mgr.UserMgr.getCurFinishLv())+1:Number(cc.Mgr.UserMgr.getCurFinishLv())+1<5*(this.index+1)?cc.Mgr.global.ChooseLv=Number(cc.Mgr.UserMgr.getCurFinishLv())+1:cc.Mgr.global.ChooseLv=5*this.index;var e=cc.Mgr.MapDecoder.getNotNullLevelDataLength(cc.Mgr.global.ChooseLv);cc.Mgr.global.ReSetGameSteps(e),cc.Mgr.AdsMgr.HideBannerAd(),cc.director.loadScene("gamescene")}});t.exports=n,cc._RF.pop()},{}],tile:[function(e,t,o){"use strict";cc._RF.push(t,"955a1GcfL5EKoQ1b11TtgVy","tile");var n=e("GameState"),i=e("enterBox"),r=cc.Class({extends:cc.Component,properties:{rotationState:!1,enterBoxArr:[i],SpNode:cc.Sprite,FinishSpFrame:cc.SpriteFrame,CurDir:0,spType:1},onLoad:function(){this.CurDir=0;this.node.on("touchstart",function(e){if(cc.Mgr.global.gameState==n.Game&&0!=this.spType)if(cc.Mgr.global.getGameSteps()<=0)cc.director.GlobalEvent.emit("NotEnoughStep",{});else{var t=cc.sequence(cc.callFunc(function(){this.rotationState=!0},this),cc.rotateBy(.1,90),cc.callFunc(function(){cc.Mgr.global.SubGameSteps(),cc.director.GlobalEvent.emit("CheckAllTileDir",{}),this.rotationState=!1},this));0==this.rotationState&&(cc.Mgr.AudioMgr.playSFX("dong"),this.node.runAction(t),this.CurDir+=1,this.CurDir>3&&(this.CurDir=0))}},this),cc.director.GlobalEvent.on("TweenTileColor",function(e){this.scheduleOnce(function(){this.TweenColor()},.25)},this)},init:function(e){this.spType=e},initGuide:function(e,t){this.spType=e,this.node.setRotation(90*t)},start:function(){},TweenColor:function(){this.SpNode.spriteFrame=this.FinishSpFrame;var e=cc.tintTo(1.5,61,193,171,255),t=cc.tintTo(1.5,157,86,514,255),o=cc.tintTo(1.5,229,145,41,255),n=cc.callFunc(function(){0==cc.Mgr.global.hasEmitSucess&&(cc.director.GlobalEvent.emit("ShowSucess",{}),cc.Mgr.global.hasEmitSucess=!0)},this);if(0==cc.Mgr.global.BgCount){var i=cc.sequence(e,n);this.SpNode.node.runAction(i)}else if(1==cc.Mgr.global.BgCount){i=cc.sequence(t,n);this.SpNode.node.runAction(i)}else{i=cc.sequence(o,n);this.SpNode.node.runAction(i)}},CheckDir:function(){for(var e=!0,t=0;t<this.enterBoxArr.length;t++)if(0==this.enterBoxArr[t].IsContacting()){e=!1;break}return e}});t.exports=r,cc._RF.pop()},{GameState:"GameState",enterBox:"enterBox"}]},{},["AppStart","AudioMgr","BgChange","CommonTip","GameScene","GameState","Global","GlobalEvent","GuideTile","HallScene","LoadingScene","LvPanel","MapDecoder","NoticeText","RankPanel","TileData","TipTile","TweenColor","UserMgr","AdsMgr","AdsParam","enterBox","levelData","levelItem","lvItem","PlatformController","ShareInfos","tile"]);