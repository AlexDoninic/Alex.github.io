window.__require=function t(e,o,n){function i(a,s){if(!o[a]){if(!e[a]){var r=a.split("/");if(r=r[r.length-1],!e[r]){var l="function"==typeof __require&&__require;if(!s&&l)return l(r,!0);if(c)return c(r,!0);throw new Error("Cannot find module '"+a+"'")}}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({Box:[function(t,e,o){"use strict";cc._RF.push(e,"6699a4dRGtMu6fYPbRg5vQa","Box");var n=t("Global");cc.Class({extends:cc.Component,properties:{maskDown:{default:null,type:cc.Node},maskDownBox:{default:null,type:cc.Node},maskTop:{default:null,type:cc.Node},maskTopBox:{default:null,type:cc.Node}},restBox:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none";this.cuted=!1,this.node.rotation=0,this.maskDown.y=this.maskTop.y=0,this.maskDown.rotation=this.maskTop.rotation=this.maskDownBox.rotation=this.maskTopBox.rotation=0,this.maskDown.anchorY=this.maskTop.anchorY=.5,this.node.opactiy=255;var e=parseInt(4*Math.random());"trap"==t?(this.maskDownBox.getComponent(cc.Sprite).spriteFrame=n.game.trapBox,this.maskTopBox.getComponent(cc.Sprite).spriteFrame=n.game.trapBox):(this.maskDownBox.getComponent(cc.Sprite).spriteFrame=n.game.boxList[e],this.maskTopBox.getComponent(cc.Sprite).spriteFrame=n.game.boxList[e]),this.boxType=t,this.rotationVal=parseInt(4*Math.random()),this.node.y=-(667+this.node.height/2),this.bounce=parseInt(6*Math.random())+45;var o=parseInt(5*Math.random()),i=n.game.map.width/2;switch(o){case 0:this.node.x=-i,this.deviation=parseInt(5*Math.random())+3.5;break;case 1:this.node.x=-i/2,this.deviation=3.75;break;case 2:this.node.x=0;var c=parseInt(5*Math.random());parseInt(2*Math.random())&&0!=c&&(c=-c,this.rotationVal=-this.rotationVal),this.deviation=c;break;case 3:this.node.x=i/2,this.deviation=-3.75,this.rotationVal=-this.rotationVal;break;case 4:this.node.x=i,this.deviation=-(parseInt(5*Math.random())+3.5),this.rotationVal=-this.rotationVal}},checkAudio:function(){var t=null;"box-white"==(t="none"==n.gameInfo.theme?n.userInfo.theme:n.gameInfo.theme)?cc.audioEngine.play(n.game.boxAudios[0],!1):t.includes("fruit")?cc.audioEngine.play(n.game.boxAudios[1],!1):t.includes("cartoon")?cc.audioEngine.play(n.game.boxAudios[2],!1):t.includes("universe")?cc.audioEngine.play(n.game.boxAudios[3],!1):t.includes("office")&&cc.audioEngine.play(n.game.boxAudios[4],!1)},cutHandle:function(t){var e=this;this.cuted=!0;var o=function(t){var o=Math.sqrt(2e4),i=e.node.y+t;e.maskDown.width=e.maskDown.height=o,e.maskDown.rotation=-e.node.rotation,e.maskDownBox.rotation=e.node.rotation,e.maskDown.anchorY=.5+(i+50)/100-.003*i,e.maskTop.width=e.maskTop.height=o,e.maskTop.rotation=-e.node.rotation,e.maskTopBox.rotation=e.node.rotation,e.maskTop.anchorY=.5+(i-50)/100-.003*i,"trap"==e.boxType?(cc.audioEngine.play(n.game.boomAudio,!1),n.game.tipSwitch("\u5207\u5230\u70b8\u5f39\uff01\uff01\uff01"),n.game.shockMove(!0),n.game.gameOver()):(e.node.runAction(cc.fadeTo(.2,160)),n.game.shortShockMove(),e.bounce>0?(n.gameInfo.hit>0?(n.game.tipSwitch("\u8fde\u51fb +"+n.gameInfo.hit),cc.audioEngine.play(n.game.hitAudio,!1),n.game.updateMoney()):e.checkAudio(),n.gameInfo.hit+=1):(e.checkAudio(),n.gameInfo.hit=0),n.gameInfo.level_count+=1,n.gameInfo.level_count%10==0&&(n.gameInfo.level+=1),n.game.creatBox(),parseInt(10*Math.random())<n.gameInfo.level&&n.gameInfo.level_count%7==0&&e.scheduleOnce(function(){"over"!=n.gameInfo.state&&n.game.creatBox("trap")},.6),n.gameInfo.level_count%23==0&&e.scheduleOnce(function(){"over"!=n.gameInfo.state&&n.game.creatProp(1)},.6),n.gameInfo.level_count%45==0&&e.scheduleOnce(function(){"over"!=n.gameInfo.state&&n.game.creatProp(0)},.6),console.log("\u6e38\u620f\u96be\u5ea6\u8ba1\u6570",n.gameInfo.level_count)),n.game.updateScore()};switch(t){case"top":o(-100);break;case"center":o(0);break;case"bottom":o(100)}this.rotationVal=1},isCut:function(){var t=this.node.height/2;this.node.y<t+100&&this.node.y>t&&n.gameInfo.triple&&this.cutHandle("top"),this.node.y<t&&this.node.y>-t&&this.cutHandle("center"),this.node.y<-t&&this.node.y>-(t+100)&&n.gameInfo.triple&&this.cutHandle("bottom")},onLoad:function(){this.range=parseInt(this.node.parent.height/1.5)},update:function(t){n.gameInfo.click&&!this.cuted&&this.isCut(),this.bounce-=n.gameInfo.speed,this.node.y+=this.bounce*n.gameInfo.speed,this.node.x+=this.deviation*n.gameInfo.speed,this.node.rotation+=this.rotationVal*n.gameInfo.speed,this.node.rotation>=360&&(this.node.rotation=0),this.node.y<=-this.range&&(n.game.boxPool.put(this.node),this.cuted||"over"==n.gameInfo.state||"trap"!=this.boxType&&(n.gameInfo.hp-=1,cc.audioEngine.play(n.game.reduceAudio,!1),n.gameInfo.hp<1?(n.game.updateHp(),n.game.shockMove(!0),n.game.gameOver(.1),n.game.tipSwitch("\u751f\u547d\u503c\u4e3a\u96f6\uff01\uff01\uff01")):(n.gameInfo.level_count+=1,n.game.shockMove(),n.game.updateHp(),n.game.creatBox(),n.gameInfo.level_count%10==0&&(n.gameInfo.level+=1)))),this.cuted&&(this.maskDown.y-=5*n.gameInfo.speed,this.maskTop.y+=5*n.gameInfo.speed)}}),cc._RF.pop()},{Global:"Global"}],Game:[function(t,e,o){"use strict";cc._RF.push(e,"140e8YV+5pIDrBuK336hK4/","Game");var n=t("Global");cc.Class({extends:cc.Component,properties:{lineTop:{default:null,type:cc.Node},lineCenter:{default:null,type:cc.Node},lineBottom:{default:null,type:cc.Node},scoreLabel:{default:null,type:cc.Label},moneyLabel:{default:null,type:cc.Label},map:{default:null,type:cc.Node},boxPrefab:{default:null,type:cc.Prefab},boxList:{default:[],type:cc.SpriteFrame},propPrefab:{default:[],type:cc.Prefab},propList:{default:[],type:cc.Prefab},hpBox:{default:null,type:cc.Node},warning:{default:null,type:cc.Node},wrap:{default:null,type:cc.Node},trapBox:{default:null,type:cc.SpriteFrame},tipNode:{default:null,type:cc.Node},timeoutLabel:{default:null,type:cc.Label},boxAudios:{default:[],type:cc.AudioClip},failAudio:{default:null,type:cc.AudioClip},reduceAudio:{default:null,type:cc.AudioClip},hitAudio:{default:null,type:cc.AudioClip},boomAudio:{default:null,type:cc.AudioClip},clockAudio:{default:null,type:cc.AudioClip},lineAudio:{default:null,type:cc.AudioClip},pauseBtn:{default:null,type:cc.Node},resumeBtn:{default:null,type:cc.Node}},stateSwitch:function(){this.isPause?(this.isPause=!1,cc.director.resume(),this.pauseBtn.active=!0,this.resumeBtn.active=!1):(this.isPause=!0,cc.director.pause(),this.pauseBtn.active=!1,this.resumeBtn.active=!0)},startReady:function(){var t=this;this.timeoutLabel.node.stopAllActions(),this.timeoutLabel.string=3;var e=cc.sequence(cc.spawn(cc.fadeIn(.3),cc.scaleTo(.3,1.5)),cc.scaleTo(.2,.8),cc.callFunc(function(){t.timeoutLabel.string=2}),cc.scaleTo(.3,1.5),cc.scaleTo(.2,.8),cc.callFunc(function(){t.timeoutLabel.string=1}),cc.scaleTo(.3,1.5),cc.spawn(cc.scaleTo(.2,0),cc.fadeOut(.2)),cc.callFunc(function(){t.timeoutLabel.string=0,t.startGame()}));this.timeoutLabel.node.runAction(e)},tipSwitch:function(t,e){var o=-this.node.width/2;this.tipNode.stopAllActions(),cc.find("text",this.tipNode).getComponent(cc.Label).string=t;var n=cc.moveTo(.2,o,this.tipNode.y);n.easing(cc.easeExponentialInOut());var i=cc.moveTo(.1,o-this.tipNode.width,this.tipNode.y),c=cc.scaleTo(.5,1),a=cc.sequence(n,c,i);this.tipNode.runAction(a)},playAgain:function(){n.restData(),cc.director.loadScene("Game")},startGame:function(t){var e=this;this.creatBox(),this.scheduleOnce(function(){"over"!=n.gameInfo.state&&(e.creatProp(0),e.scheduleOnce(function(){"over"!=n.gameInfo.state&&e.creatProp(1)},3))},5)},gameOver:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;console.log("\u6e38\u620f\u7ed3\u675f"),n.gameInfo.state="over",n.gameInfo.speed=.2,this.pauseBtn.active=!1,this.scheduleOnce(function(){n.gameInfo.speed=1,cc.audioEngine.play(t.failAudio,!1),t.scheduleOnce(function(){t.lineSwitch(),t.lineTimer&&clearTimeout(t.lineTimer),"revive"==t.gameState?(n.restData(),cc.director.loadScene("Home")):cc.loader.loadRes("revive-btn",function(e,o){var n=cc.instantiate(o);n.y=-(t.node.height/2+100),n.parent=t.node})},1)},e),n.gameInfo.score>n.userInfo.maxScore&&(n.userInfo.maxScore=n.gameInfo.score),n.saveData()},shockMove:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.wrap.stopAllActions();var e=cc.sequence(cc.moveTo(.1,0,30),cc.moveTo(.1,0,-30),cc.moveTo(.1,0,30),cc.moveTo(.1,0,-30),cc.moveTo(.1,0,30),cc.moveTo(.1,0,-30),cc.moveTo(.1,0,0));if(this.wrap.runAction(e),t){var o=cc.fadeIn(.3);o.easing(cc.easeExponentialInOut()),this.warning.runAction(o)}},shortShockMove:function(){this.wrap.stopAllActions();var t=cc.sequence(cc.moveTo(.05,0,10),cc.moveTo(.05,0,-10),cc.moveTo(.1,0,0));this.wrap.runAction(t)},decelerate:function(){var t=this;this.timeoutLabel.node.stopAllActions(),cc.audioEngine.play(this.clockAudio,!1),n.gameInfo.speed=.4,this.timeoutLabel.string=10,this.timeoutLabel.node.runAction(cc.fadeIn(.3)),cc.find("bg",this.node).runAction(cc.tintTo(.3,47,186,80));var e=cc.sequence(cc.scaleTo(.3,1.5),cc.scaleTo(.7,.8),cc.callFunc(function(){t.timeoutLabel.string=9}),cc.scaleTo(.3,1.5),cc.scaleTo(.7,.8),cc.callFunc(function(){t.timeoutLabel.string=8}),cc.scaleTo(.3,1.5),cc.scaleTo(.7,.8),cc.callFunc(function(){t.timeoutLabel.string=7}),cc.scaleTo(.3,1.5),cc.scaleTo(.7,.8),cc.callFunc(function(){t.timeoutLabel.string=6}),cc.scaleTo(.3,1.5),cc.scaleTo(.7,.8),cc.callFunc(function(){t.timeoutLabel.string=5}),cc.scaleTo(.3,1.5),cc.scaleTo(.7,.8),cc.callFunc(function(){t.timeoutLabel.string=4}),cc.scaleTo(.3,1.5),cc.scaleTo(.7,.8),cc.callFunc(function(){t.timeoutLabel.string=3}),cc.scaleTo(.3,1.5),cc.scaleTo(.7,.8),cc.callFunc(function(){t.timeoutLabel.string=2}),cc.scaleTo(.3,1.5),cc.scaleTo(.7,.8),cc.callFunc(function(){t.timeoutLabel.string=1}),cc.scaleTo(.3,1.5),cc.scaleTo(.7,.8),cc.callFunc(function(){t.timeoutLabel.string=0,n.gameInfo.speed=1,t.timeoutLabel.node.runAction(cc.fadeOut(.3)),cc.find("bg",t.node).runAction(cc.tintTo(.3,43,183,244))}));this.timeoutLabel.node.runAction(e)},lineSwitch:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]?(n.gameInfo.triple=!0,this.lineTop.runAction(cc.spawn(cc.fadeIn(.1),cc.moveTo(.1,0,100))),this.lineBottom.runAction(cc.spawn(cc.fadeIn(.1),cc.moveTo(.1,0,-100)))):(n.gameInfo.triple=!1,this.lineTop.runAction(cc.spawn(cc.fadeOut(.1),cc.moveTo(.1,0,0))),this.lineBottom.runAction(cc.spawn(cc.fadeOut(.1),cc.moveTo(.1,0,0))))},openLine:function(){var t=this;cc.audioEngine.play(this.lineAudio,!1),this.lineSwitch(!0),this.lineTimer&&clearTimeout(this.lineTimer),this.lineTimer=setTimeout(function(){t.lineSwitch()},7e3)},updateHp:function(){if(this.hp_count!=n.gameInfo.hp){this.hp_count=n.gameInfo.hp;var t=cc.find("heart-1",this.hpBox),e=cc.find("heart-2",this.hpBox),o=cc.find("heart-3",this.hpBox);t.opacity<100&&this.hp_count>0&&t.runAction(cc.spawn(cc.scaleTo(.2,1),cc.fadeIn(.2))),e.opacity<100&&this.hp_count>1&&e.runAction(cc.spawn(cc.scaleTo(.2,1),cc.fadeIn(.2))),o.opacity<100&&this.hp_count>2&&o.runAction(cc.spawn(cc.scaleTo(.2,1),cc.fadeIn(.2))),t.opacity>100&&this.hp_count<1&&t.runAction(cc.spawn(cc.scaleTo(.2,0),cc.fadeOut(.2))),e.opacity>100&&this.hp_count<2&&e.runAction(cc.spawn(cc.scaleTo(.2,0),cc.fadeOut(.2))),o.opacity>100&&this.hp_count<3&&o.runAction(cc.spawn(cc.scaleTo(.2,0),cc.fadeOut(.2)))}},updateScore:function(){n.gameInfo.score+=1+n.gameInfo.hit,this.scoreLabel.string=n.gameInfo.score},updateMoney:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.userInfo.money+=1,t&&(this.moneyLabel.string=n.userInfo.money)},creatBoxPool:function(){this.boxPool=new cc.NodePool;for(var t=0;t<10;t++){var e=cc.instantiate(this.boxPrefab);this.boxPool.put(e)}},creatBox:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"none",e=null;this.boxPool.size()>0?e=this.boxPool.get():(e=cc.instantiate(this.boxPrefab),console.log("\u4e0d\u591f\u7528\u91cd\u65b0\u521b\u5efa box")),e.getComponent("Box").restBox(t),e.parent=this.map},creatProp:function(t){var e=cc.instantiate(this.propPrefab[t]);e.getComponent("Prop").restBox(),e.parent=this.map},addImg:function(){var t=this;if("none"==n.gameInfo.theme){"cartoon"==n.userInfo.theme||"fruit"==n.userInfo.theme||"universe"==n.userInfo.theme||"office"==n.userInfo.theme?function(e){cc.loader.loadRes(e+"-1",cc.SpriteFrame,function(e,o){return t.boxList.push(o)}),cc.loader.loadRes(e+"-2",cc.SpriteFrame,function(e,o){return t.boxList.push(o)}),cc.loader.loadRes(e+"-3",cc.SpriteFrame,function(e,o){return t.boxList.push(o)}),cc.loader.loadRes(e+"-4",cc.SpriteFrame,function(e,o){return t.boxList.push(o)})}(n.userInfo.theme):cc.loader.loadRes(n.userInfo.theme,cc.SpriteFrame,function(e,o){t.boxList=[o,o,o,o]})}else cc.log("\u8bd5\u73a9\uff01\uff01\uff01"),cc.loader.loadRes(n.gameInfo.theme,cc.SpriteFrame,function(e,o){t.boxList=[o,o,o,o]})},onLoad:function(){var t=this;n.game=this,this.updateHp(),this.updateMoney(!1),this.addImg(),this.creatBoxPool(),n.userInfo.first?(console.log("\u7b2c\u4e00\u6b21\u73a9\uff0c\u521b\u5efa\u65b0\u624b\u5f15\u5bfc"),cc.loader.loadRes("tutorial",function(e,o){n.userInfo.first=!1,cc.instantiate(o).parent=t.node})):(this.startReady(),this.pauseBtn.active=!0)},start:function(){var t=this;this.node.on("touchstart",function(){"over"==n.gameInfo.state||n.gameInfo.click||(n.gameInfo.click=!0,t.lineTop.color=t.lineCenter.color=t.lineBottom.color=n.hexToColor("#ff0001"),t.scheduleOnce(function(){t.lineTop.color=t.lineCenter.color=t.lineBottom.color=n.hexToColor("#ffffff"),n.gameInfo.click=!1},.1))},this),window.wx&&(wx.showShareMenu(),wx.onShareAppMessage(function(t){return{title:n.shareInfo.title,imageUrl:n.shareInfo.url}}))}}),cc._RF.pop()},{Global:"Global"}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"ccbdbz4xYJOtJdax0OemaT/","Global"),e.exports={game:null,gameInfo:{state:"",level:1,level_count:0,hit:0,click:!1,speed:1,clockTime:45,skillTime:20,triple:!1,hp:3,score:0,theme:"none"},restData:function(){this.gameInfo.state="none",this.gameInfo.level=1,this.gameInfo.level_count=0,this.gameInfo.hit=0,this.gameInfo.click=!1,this.gameInfo.speed=1,this.gameInfo.triple=!1,this.gameInfo.hp=3,this.gameInfo.score=0,this.gameInfo.theme="none"},userInfo:{first:!0,maxScore:0,theme:"box-white",themeList:["box-white"],money:30,free:1,signDate:"",signDay:1},boxList:["box-white","fruit-1","fruit-2","fruit-3","fruit-4","fruit","cartoon-1","cartoon-2","cartoon-3","cartoon-4","cartoon","universe-1","universe-2","universe-3","universe-4","universe","office-1"],saveData:function(){window.localStorage.setItem("boxUserInfo",JSON.stringify(this.userInfo))},fetchData:function(){return window.localStorage.getItem("boxUserInfo")?JSON.parse(window.localStorage.getItem("boxUserInfo")):null},removeData:function(){window.localStorage.clear()},hexToColor:function(t){t=t.replace(/^#?/,"0x");var e=parseInt(t),o=e>>16,n=(65280&e)>>8,i=255&e;return cc.color(o,n,i)},shareInfo:{title:"",url:""}},cc._RF.pop()},{}],Home:[function(t,e,o){"use strict";cc._RF.push(e,"99eabMwav9LoK1uJwivguGH","Home");var n=t("Global"),i=t("utils");cc.Class({extends:cc.Component,properties:{maxScoreLabel:{default:null,type:cc.Label},signBox:{default:null,type:cc.Node},prompt:{default:null,type:cc.Node},rankBox:{default:null,type:cc.Node}},rankSwitch:function(t,e){var o=this;if(e){if(this.rankBox.active)return;this.rankBox.active=!0,this.rankBox.runAction(cc.fadeIn(.2))}else{if(!this.rankBox.active)return;var n=cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){o.rankBox.active=!1}));this.rankBox.runAction(n)}},promptSwitch:function(t,e,o,n){var i=this;if(e){var c=cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){i.prompt.active=!1}));this.prompt.runAction(c)}else this.prompt.active=!0,this.prompt.runAction(cc.fadeIn(.2)),this.prompt.getChildByName("text").getComponent(cc.Label).string=o,n?(this.prompt.getChildByName("icon").active=!0,this.prompt.getChildByName("money").active=!1,cc.loader.loadRes(n,cc.SpriteFrame,function(t,e){i.prompt.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e})):(this.prompt.getChildByName("icon").active=!1,this.prompt.getChildByName("money").active=!0)},receiveBtn:function(){if(this.signIn){var t="",e=null;switch(n.userInfo.signDay){case 1:n.userInfo.money+=30,t="30\u91d1\u5e01";break;case 2:n.userInfo.money+=40,t="40\u91d1\u5e01";break;case 3:n.userInfo.money+=50,t="50\u91d1\u5e01";break;case 4:n.userInfo.money+=60,t="60\u91d1\u5e01";break;case 5:n.userInfo.money+=90,t="90\u91d1\u5e01";break;case 6:n.userInfo.money+=150,t="150\u91d1\u5e01";break;case 7:n.userInfo.themeList.push("office-1"),t="\u76ae\u80a4\u4e00\u4e2a",e="office-1"}var o=cc.find("content",this.signBox).children[n.userInfo.signDay-1];o.stopAllActions(),o.rotation=0,n.userInfo.signDate=i.timeFormat(),n.userInfo.signDay+=1,n.saveData(),this.signSwitch(),this.promptSwitch(null,null,"\u6210\u529f\u9886\u53d6"+t,e),this.checkSign()}else n.userInfo.signDay>7?i.showToast("\u4e03\u5929\u7b7e\u5230\u5df2\u9886\u5b8c\uff0c\u671f\u5f85\u4e0b\u4e2a\u7248\u672c\u5427~"):i.showToast("\u4eca\u5929\u5df2\u7ecf\u9886\u53d6\u8fc7\u5566\uff0c\u660e\u5929\u518d\u6765\u5427~")},signSwitch:function(t,e){var o=this;if(e){if(this.signBox.active)return;this.signBox.active=!0,this.signBox.runAction(cc.fadeIn(.2))}else{if(!this.signBox.active)return;var n=cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){o.signBox.active=!1}));this.signBox.runAction(n)}},checkSign:function(){if(i.timeFormat().split(" ")[0]!=n.userInfo.signDate.split(" ")[0]){if(this.signIn=!0,this.signSwitch(null,!0),n.userInfo.signDay<8){var t=cc.repeatForever(cc.sequence(cc.rotateTo(.1,-15),cc.rotateTo(.1,15),cc.rotateTo(.1,-15),cc.rotateTo(.1,15),cc.rotateTo(.1,0),cc.scaleTo(1,1))),e=cc.find("content",this.signBox).children[n.userInfo.signDay-1];if(e.runAction(t),cc.find("cover",e).active=!1,n.userInfo.signDay<7){var o=cc.find("content",this.signBox).children[n.userInfo.signDay];cc.find("cover/text",o).getComponent(cc.Label).string="\u660e\u5929\u9886\u53d6"}}}else{if(this.signIn=!1,n.userInfo.signDay>7)cc.find("receive-btn/text",this.signBox).getComponent(cc.Label).string="\u4e03\u5929\u7b7e\u5230\u5df2\u9886\u5b8c";else{cc.find("receive-btn/text",this.signBox).getComponent(cc.Label).string="\u4eca\u65e5\u5df2\u9886\u53d6\u8fc7";var c=cc.find("content",this.signBox).children[n.userInfo.signDay-1];cc.find("cover/text",c).getComponent(cc.Label).string="\u660e\u5929\u9886\u53d6"}this.checkSignBtn()}},checkSignBtn:function(){for(var t=cc.find("content",this.signBox).children,e=0;e<t.length;e++)e<n.userInfo.signDay-1&&(cc.find("cover",t[e]).active=!0,cc.find("cover/text",t[e]).destroy(),cc.find("cover/icon_receive",t[e]).active=!0)},openGame:function(){n.restData(),cc.director.loadScene("Game")},openLuckDraw:function(){cc.director.loadScene("LuckDraw")},btnMove:function(){var t=cc.repeatForever(cc.sequence(cc.rotateTo(.1,-15),cc.rotateTo(.1,15),cc.rotateTo(.1,-15),cc.rotateTo(.1,15),cc.rotateTo(.1,0),cc.scaleTo(1,1))),e=cc.repeatForever(cc.sequence(cc.tintTo(.5,237,194,26),cc.scaleTo(1,1),cc.tintTo(.5,43,183,244),cc.scaleTo(1,1)));cc.find("game_start",this.node).runAction(t),cc.find("game_start/start-icon",this.node).runAction(e)},onLoad:function(){cc.director.preloadScene("Game",function(){return console.log("\u9884\u52a0\u8f7d\u6e38\u620f\u573a\u666f\u6210\u529f")}),cc.director.preloadScene("LuckDraw",function(){return console.log("\u9884\u52a0\u8f7d\u62bd\u5956\u573a\u666f\u6210\u529f")}),n.fetchData()&&(n.userInfo=n.fetchData()),0!=n.userInfo.maxScore&&(this.maxScoreLabel.string=n.userInfo.maxScore),this.checkSign(),this.btnMove()},start:function(){window.wx&&(wx.getUserInfo({success:function(t){console.log("\u7528\u6237\u6388\u6743\u4fe1\u606f====>",t)},fail:function(){var t=wx.getSystemInfoSync().windowWidth,e=wx.getSystemInfoSync().windowHeight;console.warn("\u521b\u5efa\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6309\u94ae");var o=wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:t,height:e,lineHeight:e,backgroundColor:"rgba(0, 0, 0, 0)",color:"rgba(0, 0, 0, 0)",textAlign:"center",fontSize:16,borderRadius:4}});o.onTap(function(t){console.log("\u7528\u6237\u6388\u6743\u6570\u636e\uff1a",t),"getUserInfo:ok"==t.errMsg&&o.destroy()})}}),wx.showShareMenu(),wx.onShareAppMessage(function(t){return{title:n.shareInfo.title,imageUrl:n.shareInfo.url}}))},computed:function(){var t=cc.find("mask-down",this.box),e=cc.find("mask-down/mask-box",this.box),o=cc.find("mask-top",this.box),n=cc.find("mask-top/mask-box",this.box),i=Math.sqrt(2e4);t.width=t.height=i,t.rotation=-this.box.rotation,e.rotation=this.box.rotation,t.anchorY=.5+(this.box.y+50)/100-.003*this.box.y,o.width=o.height=i,o.rotation=-this.box.rotation,n.rotation=this.box.rotation,o.anchorY=.5+(this.box.y-50)/100-.003*this.box.y,console.log(t.anchorY,.003*this.box.y)}}),cc._RF.pop()},{Global:"Global",utils:"utils"}],LuckDraw:[function(t,e,o){"use strict";function n(t){if(Array.isArray(t)){for(var e=0,o=Array(t.length);e<t.length;e++)o[e]=t[e];return o}return Array.from(t)}cc._RF.push(e,"a7387emBuFAbKgFNYXhiLgh","LuckDraw");var i=t("Global"),c=t("utils");cc.Class({extends:cc.Component,properties:{disc:{default:null,type:cc.Node},skinList:{default:null,type:cc.Node},moneyLabel:{default:null,type:cc.Label},drawButton:{default:null,type:cc.Node},prompt:{default:null,type:cc.Node},drawAudio:{default:null,type:cc.AudioClip}},promptSwitch:function(t,e,o,n){var i=this;if(e){var c=cc.sequence(cc.fadeOut(.2),cc.callFunc(function(){i.prompt.active=!1}));this.prompt.runAction(c)}else this.prompt.active=!0,this.prompt.runAction(cc.fadeIn(.2)),this.prompt.getChildByName("text").getComponent(cc.Label).string=o,n?(this.prompt.getChildByName("icon").active=!0,this.prompt.getChildByName("money").active=!1,cc.loader.loadRes(n,cc.SpriteFrame,function(t,e){i.prompt.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e})):(this.prompt.getChildByName("icon").active=!1,this.prompt.getChildByName("money").active=!0)},skinBtn:function(t){return t.target.getChildByName("lock").active?c.showToast("\u8fd8\u6ca1\u89e3\u9501\u5f53\u524d\u9053\u5177"):this.select==t.target.bindData?console.log("\u91cd\u590d\u70b9\u51fb"):(i.userInfo.theme=t.target.bindData,this.select=t.target.bindData,this.btnSwitch(),void i.saveData())},btnSwitch:function(){for(var t=this.skinList.children,e=0;e<t.length;e++)i.userInfo.theme==i.boxList[e]?t[e].getChildByName("on").active=!0:t[e].getChildByName("on").active=!1},videoBtn:function(){var t=this;this.rotating||(this.rotating=!0,this.disc.rotate=0,c.viewVideo(function(){t.startRotate()},function(){c.showToast("\u89c6\u9891\u64ad\u653e\u5931\u8d25"),t.rotating=!1},"xashfbiashfi"))},drawBtn:function(){this.rotating||(this.rotating=!0,this.disc.rotate=0,i.userInfo.free>0?(i.userInfo.free-=1,this.startRotate()):i.userInfo.money>=30?(i.userInfo.money-=30,this.startRotate()):(c.showToast("\u91d1\u5e01\u4e0d\u8db3\uff0c\u65e0\u6cd5\u62bd\u5956"),this.rotating=!1))},startRotate:function(t){var e=this;this.resetNode(),cc.audioEngine.play(this.drawAudio,!1);var o=parseInt(100*Math.random())+1,n=0;o<=5?n=1:o>5&&o<=15?n=2:o>15&&o<=35?n=3:o>35&&o<=60?n=4:o>60&&o<=80?n=5:o>80&&o<=100&&(n=0);var c=cc.rotateTo(5,2520+60*n);c.easing(cc.easeInOut(3)),this.disc.runAction(cc.sequence(c,cc.callFunc(function(){switch(console.log("\u65cb\u8f6c\u7ed3\u675f"),n){case 0:e.promptSwitch(null,null,"\u606d\u559c\u83b7\u5f97 5 \u91d1\u5e01"),i.userInfo.money+=5;break;case 1:var o=e.randomSkin();"none"==o?(e.promptSwitch(null,null,"\u4f60\u5df2\u7ecf\u83b7\u5f97\u6240\u6709\u76ae\u80a4\uff0c\u8fd9\u6b21\u9001\u4f60100\u91d1\u5e01"),i.userInfo.money+=100):function(){e.promptSwitch(null,null,"\u62bd\u4e2d\u4e86\u4e00\u6b3e\u65b0\u76ae\u80a4\u5df2\u7ecf\u88c5\u5907\u4e0a\u4e86~",o),i.userInfo.themeList.push(o);var t=o.split("-")[0];4==i.userInfo.themeList.filter(function(e){return e.includes(t)}).length&&i.userInfo.themeList.push(t);for(var n=e.skinList.children,c=function(t){i.userInfo.themeList.some(function(e){return e==n[t].name})&&(n[t].getChildByName("lock").active=!1)},a=0;a<n.length;a++)c(a);i.userInfo.theme=o,e.select=o,e.btnSwitch()}();break;case 2:e.promptSwitch(null,null,"\u606d\u559c\u83b7\u5f97 50 \u91d1\u5e01"),i.userInfo.money+=50;break;case 3:e.promptSwitch(null,null,"\u606d\u559c\u83b7\u5f97\u4e00\u6b21\u514d\u8d39\u62bd\u5956\u673a\u4f1a","again"),i.userInfo.free+=1;break;case 4:e.promptSwitch(null,null,"\u606d\u559c\u83b7\u5f97 20 \u91d1\u5e01"),i.userInfo.money+=20;break;case 5:e.promptSwitch(null,null,"\u606d\u559c\u83b7\u5f97 10 \u91d1\u5e01"),i.userInfo.money+=10}i.saveData(),e.resetNode(),"function"==typeof t&&t(),e.rotating=!1})))},randomSkin:function(){var t="none",e=[].concat(n(i.userInfo.themeList));e.push.apply(e,["box-white","office-1","fruit","cartoon","universe"]);var o=Array.from(new Set(e)),c=i.boxList.filter(function(t){return!o.some(function(e){return e==t})});c.length>0&&(t=c[parseInt(c.length*Math.random())]);return t},creatBtn:function(){for(var t=this,e=i.userInfo.themeList,o=i.boxList,n=function(n){var c=cc.instantiate(t.skinList.getChildByName("skin-btn"));c.name=o[n],cc.loader.loadRes(o[n],cc.SpriteFrame,function(t,e){c.getChildByName("icon").getComponent(cc.Sprite).spriteFrame=e}),e.some(function(t){return t==o[n]})?c.getChildByName("lock").active=!1:c.getChildByName("lock").active=!0,i.userInfo.theme==o[n]?c.getChildByName("on").active=!0:c.getChildByName("on").active=!1,c.x=160*n,t.skinList.width=160*(n+1)-20,c.bindData=o[n],c.parent=t.skinList},c=0;c<o.length;c++)n(c);this.skinList.children[0].destroy();var a=cc.find("light-1",this.disc),s=cc.find("light-2",this.disc),r=cc.repeatForever(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){a.rotation=15}),cc.rotateTo(.1,-15),cc.fadeIn(.1),cc.callFunc(function(){a.rotation=-15})));a.runAction(r);var l=cc.repeatForever(cc.sequence(cc.fadeOut(.1),cc.callFunc(function(){a.rotation=15}),cc.rotateTo(.1,-15),cc.fadeIn(.1),cc.callFunc(function(){a.rotation=-15})));this.scheduleOnce(function(){s.runAction(l)},.1)},playGame:function(){var t=this.randomSkin();i.gameInfo.theme=t,cc.director.loadScene("Game")},goback:function(){cc.audioEngine.stopAll(),cc.director.loadScene("Home")},resetNode:function(){i.userInfo.free>0?(cc.find("icon",this.drawButton).active=!1,cc.find("text",this.drawButton).active=!1,cc.find("content",this.drawButton).active=!0):(cc.find("icon",this.drawButton).active=!0,cc.find("text",this.drawButton).active=!0,cc.find("content",this.drawButton).active=!1),this.moneyLabel.string=i.userInfo.money},onLoad:function(){this.select=i.userInfo.theme,this.resetNode(),this.creatBtn()}}),cc._RF.pop()},{Global:"Global",utils:"utils"}],Prop:[function(t,e,o){"use strict";cc._RF.push(e,"4b0f9K8olBCAr6epRtSXhBt","Prop");var n=t("Global");cc.Class({extends:cc.Component,properties:{},restBox:function(){this.cuted=!1,this.node.rotation=0,this.rotationVal=parseInt(4*Math.random()),this.node.y=-(667+this.node.height/2),this.bounce=parseInt(6*Math.random())+45;var t=parseInt(5*Math.random()),e=n.game.map.width/2;switch(t){case 0:this.node.x=-e,this.deviation=parseInt(5*Math.random())+3.5;break;case 1:this.node.x=-e/2,this.deviation=3.75;break;case 2:this.node.x=0;var o=parseInt(5*Math.random());parseInt(2*Math.random())&&0!=o&&(o=-o,this.rotationVal=-this.rotationVal),this.deviation=o;break;case 3:this.node.x=e/2,this.deviation=-3.75,this.rotationVal=-this.rotationVal;break;case 4:this.node.x=e,this.deviation=-(parseInt(5*Math.random())+3.5),this.rotationVal=-this.rotationVal}},cutHandle:function(){var t=null;switch(this.node.name){case"box-clock":t=cc.instantiate(n.game.propList[0]),n.game.decelerate();break;case"box-skill":t=cc.instantiate(n.game.propList[1]),n.game.openLine()}t.setPosition(this.node.x,this.node.y),t.parent=this.node.parent,this.node.destroy()},isCut:function(){var t=this.node.height/2;this.node.y<t+100&&this.node.y>t&&n.gameInfo.triple&&this.cutHandle("top"),this.node.y<t&&this.node.y>-t&&this.cutHandle("center"),this.node.y<-t&&this.node.y>-(t+100)&&n.gameInfo.triple&&this.cutHandle("bottom")},onLoad:function(){this.range=parseInt(this.node.parent.height/1.5)},update:function(t){this.bounce-=n.gameInfo.speed,this.node.y+=this.bounce*n.gameInfo.speed,this.node.x+=this.deviation*n.gameInfo.speed,this.node.rotation+=this.rotationVal*n.gameInfo.speed,this.node.rotation>=360&&(this.node.rotation=0),this.node.y<=-this.range&&this.node.destroy(),n.gameInfo.click&&!this.cuted&&this.isCut()}}),cc._RF.pop()},{Global:"Global"}],Rank:[function(t,e,o){"use strict";cc._RF.push(e,"0302f7ZjLVFsbQREeyjDKh7","Rank"),cc.Class({extends:cc.Component,properties:{friendButton:{default:null,type:cc.Node},wordButton:{default:null,type:cc.Node}},friendBtn:function(){"friend"!=this.btnType&&(this.btnType="friend",this.friendButton.color=Global.hexToColor("#FFFFFF"),cc.find("text",this.friendButton).color=Global.hexToColor("#6E9AB2"),this.wordButton.color=Global.hexToColor("#1A7DED"),cc.find("text",this.wordButton).color=Global.hexToColor("#FFFFFF"))},wordBtn:function(){"word"!=this.btnType&&(this.btnType="word",this.wordButton.color=Global.hexToColor("#FFFFFF"),cc.find("text",this.wordButton).color=Global.hexToColor("#6E9AB2"),this.friendButton.color=Global.hexToColor("#1A7DED"),cc.find("text",this.friendButton).color=Global.hexToColor("#FFFFFF"))},openShare:function(){wx.shareAppMessage({title:Global.shareInfo.title,imageUrl:Global.shareInfo.url,success:function(t){console.log("\u5206\u4eab\u6210\u529f\u56de\u8c03===>",t)},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25\u4fe1\u606f===>",res)}})},onLoad:function(){this.btnType="friend"}}),cc._RF.pop()},{}],Revive:[function(t,e,o){"use strict";cc._RF.push(e,"9446f5aUzdF07hJwp+FDzll","Revive");var n=t("Global");cc.Class({extends:cc.Component,properties:{},backHome:function(){n.restData(),cc.director.loadScene("Home")},reviveBtn:function(){var t=this,e=cc.fadeOut(.1);e.easing(cc.easeExponentialInOut()),n.game.warning.runAction(e),n.game.gameState="revive",n.gameInfo.hit=0,n.gameInfo.speed=1,n.gameInfo.hp=3,n.gameInfo.triple=!1,n.game.updateHp();var o=cc.sequence(cc.moveTo(.5,0,n.game.node.heigth/2+100),cc.callFunc(function(){n.game.pauseBtn.active=!0,n.gameInfo.state="none",n.game.startReady(),cc.find("bg",n.game.node).runAction(cc.tintTo(.5,43,183,244)),t.node.destroy()}));this.node.runAction(o)},onLoad:function(){var t=cc.moveTo(.5,0,0);t.easing(cc.easeExponentialInOut()),this.node.runAction(t)},start:function(){}}),cc._RF.pop()},{Global:"Global"}],TutorialBox:[function(t,e,o){"use strict";cc._RF.push(e,"31783A/KrxChI+k3a5YNMLc","TutorialBox");var n=t("Global");cc.Class({extends:cc.Component,properties:{maskDown:{default:null,type:cc.Node},maskDownBox:{default:null,type:cc.Node},maskTop:{default:null,type:cc.Node},maskTopBox:{default:null,type:cc.Node}},restBox:function(){this.cuted=!1,this.node.rotation=0,this.isPause=!1,this.maskDown.y=this.maskTop.y=0,this.maskDown.rotation=this.maskTop.rotation=this.maskDownBox.rotation=this.maskTopBox.rotation=0,this.maskDown.anchorY=this.maskTop.anchorY=.5,this.node.opactiy=255,this.rotationVal=parseInt(4*Math.random()),this.node.y=-(667+this.node.height/2),this.bounce=parseInt(6*Math.random())+45;var t=parseInt(5*Math.random()),e=n.game.map.width/2;switch(t){case 0:this.node.x=-e,this.deviation=parseInt(5*Math.random())+3.5;break;case 1:this.node.x=-e/2,this.deviation=3.75;break;case 2:this.node.x=0;var o=parseInt(5*Math.random());parseInt(2*Math.random())&&0!=o&&(o=-o,this.rotationVal=-this.rotationVal),this.deviation=o;break;case 3:this.node.x=e/2,this.deviation=-3.75,this.rotationVal=-this.rotationVal;break;case 4:this.node.x=e,this.deviation=-(parseInt(5*Math.random())+3.5),this.rotationVal=-this.rotationVal}},cutHandle:function(t){var e=this;this.cuted=!0,n.tutorial.tipSwitch("~");var o=function(t){var o=Math.sqrt(2e4),i=e.node.y+t;e.maskDown.width=e.maskDown.height=o,e.maskDown.rotation=-e.node.rotation,e.maskDownBox.rotation=e.node.rotation,e.maskDown.anchorY=.5+(i+50)/100-.003*i,e.maskTop.width=e.maskTop.height=o,e.maskTop.rotation=-e.node.rotation,e.maskTopBox.rotation=e.node.rotation,e.maskTop.anchorY=.5+(i-50)/100-.003*i,e.node.runAction(cc.fadeTo(.2,160)),n.game.shortShockMove(),e.bounce>0?(n.gameInfo.hit>0?(n.game.tipSwitch("\u8fde\u51fb +"+n.gameInfo.hit),cc.audioEngine.play(n.game.hitAudio,!1)):cc.audioEngine.play(n.game.boxAudios[0],!1),n.gameInfo.hit+=1,n.game.updateMoney()):(cc.audioEngine.play(n.game.boxAudios[0],!1),n.gameInfo.hit=0),n.game.updateScore()};switch(t){case"top":o(-100);break;case"center":o(0);break;case"bottom":o(100)}this.rotationVal=1},isCut:function(){var t=this.node.height/2;this.node.y<t&&this.node.y>-t&&this.cutHandle("center")},onLoad:function(){this.restBox(),this.range=parseInt(this.node.parent.height/1.5)},update:function(t){if(this.node.y>-10&&!this.cuted&&!n.tutorial.click){if(!this.isPause)switch(this.isPause=!0,n.tutorial.step){case 1:n.tutorial.tipSwitch("\u70b9\u51fb\u5c4f\u5e55\u8fdb\u884c\u5207\u5272",!0);break;case 2:n.tutorial.tipSwitch("\u5f53\u4e0a\u5347\u65f6\u5207\u65ad\u53ef\u4ee5\u8fde\u51fb",!0);break;case 3:n.tutorial.tipSwitch("\u8fde\u51fb\u53ef\u4ee5\u83b7\u5f97\u91d1\u5e01",!0);break;case 4:n.tutorial.tipSwitch("\u8fde\u7eed\u70b9\u51fb\u5c4f\u5e55",!0);break;case 5:n.tutorial.tipSwitch("\u7ee7\u7eed\u70b9\u51fb",!0)}}else n.tutorial.click&&!this.cuted&&this.isCut(),this.bounce-=n.gameInfo.speed,this.node.y+=this.bounce*n.gameInfo.speed,this.node.x+=this.deviation*n.gameInfo.speed,this.node.rotation+=this.rotationVal*n.gameInfo.speed,this.node.rotation>=360&&(this.node.rotation=0),this.node.y<=-this.range&&this.node.destroy(),this.cuted&&(this.maskDown.y-=5*n.gameInfo.speed,this.maskTop.y+=5*n.gameInfo.speed)}}),cc._RF.pop()},{Global:"Global"}],Tutorial:[function(t,e,o){"use strict";cc._RF.push(e,"a9c95rltvdOPKX0OwV0BR4m","Tutorial");var n=t("Global");cc.Class({extends:cc.Component,properties:{tipNode:{default:null,type:cc.Node},boxPrefab:{default:null,type:cc.Prefab}},tipSwitch:function(t){var e=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.node.width/2;this.tipNode.stopAllActions(),cc.find("text",this.tipNode).getComponent(cc.Label).string=t;var c=null;o?((c=cc.moveTo(.2,i-this.tipNode.width,this.tipNode.y)).easing(cc.easeExponentialInOut()),this.scheduleOnce(function(){e.stopClick=!1},.2)):(c=cc.moveTo(.1,i,this.tipNode.y),this.step+=1,6==this.step?(n.game.creatBox("trap"),this.scheduleOnce(function(){e.tipSwitch("\u6ce8\u610f\u4e0d\u8981\u5207\u4e2d\u70b8\u5f39\uff01",!0),e.scheduleOnce(function(){e.tipSwitch("~"),e.scheduleOnce(function(){e.tipSwitch("\u51c6\u5907\u6b63\u5f0f\u5f00\u59cb",!0),e.scheduleOnce(function(){n.game.startReady(),n.game.pauseBtn.active=!0,e.node.destroy()},2)},.5)},2)},.3)):this.step<6&&this.creatBox()),this.tipNode.runAction(c)},stepRun:function(){var t=this;this.stopClick||(this.stopClick=!0,this.click=!0,n.game.lineTop.color=n.game.lineCenter.color=n.game.lineBottom.color=n.hexToColor("#ff0001"),this.scheduleOnce(function(){n.game.lineTop.color=n.game.lineCenter.color=n.game.lineBottom.color=n.hexToColor("#ffffff"),t.click=!1},.1))},creatBox:function(){cc.instantiate(this.boxPrefab).parent=this.node},onLoad:function(){n.tutorial=this,this.stopClick=!0,this.step=1,this.click=!1,this.creatBox()}}),cc._RF.pop()},{Global:"Global"}],api:[function(t,e,o){"use strict";cc._RF.push(e,"1f950Di/HxOWInM9TLAvfQQ","api");var n=t("base64"),i="http://192.168.1.120:8082",c="",a="wx7e07d11620f9b62d",s="513dcfad4e014a5ed5d7842f09777904";function r(t,e,o,n,c){wx.request({url:i+e,method:t,header:{"content-type":"application/json"},data:o,success:function(t){"function"==typeof n&&n(t.data)},fail:function(t){"function"==typeof c&&c(t),wx.showModal({title:"\u6570\u636e\u8bf7\u6c42\u63d0\u793a",content:"\u8bf7\u6c42\u51fa\u9519\u4e86~",showCancel:!1,success:function(t){console.log(t)}})}})}e.exports={getOpenId:function(t,e,o,i){var l={encryptedData:t.encryptedData,iv:t.iv,code:e.code,wxspAppid:a,wxspSecret:s};r("POST","/wxsplogin/decodeUserInfo",{object:n.CusBASE64.encoder(JSON.stringify(l))},function(t){console.log("\u83b7\u53d6openId\u6210\u529f=====>",t),0==t.code?(c=t.openId,"function"==typeof o&&o(t)):"function"==typeof i&&i()},function(t){console.log("\u83b7\u53d6openId\u5931\u8d25=====>",t),"function"==typeof i&&i()})},saveData:function(t,e,o){var i={openId:c,appid:a,gameTime:new Date,dataJson:JSON.stringify(t)};r("POST","/usergamedata/archiving",{object:n.CusBASE64.encoder(JSON.stringify(i))},function(t){"function"==typeof e&&e(t)},function(t){"function"==typeof o&&o(t)})},fetchData:function(t,e){var o={openId:c,appid:a};r("POST","/usergamedata/reading",{object:n.CusBASE64.encoder(JSON.stringify(o))},function(e){"function"==typeof t&&t(e)},function(t){"function"==typeof e&&e(t)})}},cc._RF.pop()},{base64:"base64"}],base64:[function(t,e,o){"use strict";cc._RF.push(e,"d9821vAKUJGzoBt6RALyLQy","base64"),function(){var t=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],o=function(t){for(var e=new Array;t>0;){var o=t%2;t=Math.floor(t/2),e.push(o)}return e.reverse(),e},n=function(t){for(var e=0,o=0,n=t.length-1;n>=0;--n){1==t[n]&&(e+=Math.pow(2,o)),++o}return e},i=function(t,e){for(var o=8-(t+1)+6*(t-1)-e.length;--o>=0;)e.unshift(0);for(var n=[],i=t;--i>=0;)n.push(1);n.push(0);for(var c=0,a=8-(t+1);c<a;++c)n.push(e[c]);for(var s=0;s<t-1;++s){n.push(1),n.push(0);for(var r=6;--r>=0;)n.push(e[c++])}return n},c={encoder:function(e){for(var c=[],a=[],s=0,r=e.length;s<r;++s){var l=e.charCodeAt(s),u=o(l);if(l<128){for(var h=8-u.length;--h>=0;)u.unshift(0);a=a.concat(u)}else l>=128&&l<=2047?a=a.concat(i(2,u)):l>=2048&&l<=65535?a=a.concat(i(3,u)):l>=65536&&l<=2097151?a=a.concat(i(4,u)):l>=2097152&&l<=67108863?a=a.concat(i(5,u)):l>=4e6&&l<=2147483647&&(a=a.concat(i(6,u)))}var d=0;for(s=0,r=a.length;s<r;s+=6){var f=s+6-r;2==f?d=2:4==f&&(d=4);for(var p=d;--p>=0;)a.push(0);c.push(n(a.slice(s,s+6)))}var m="";for(s=0,r=c.length;s<r;++s)m+=t[c[s]];for(s=0,r=d/2;s<r;++s)m+="=";return m},decoder:function(e){var i=e.length,c=0;"="==e.charAt(i-1)&&("="==e.charAt(i-2)?(c=4,e=e.substring(0,i-2)):(c=2,e=e.substring(0,i-1)));for(var a=[],s=0,r=e.length;s<r;++s)for(var l=e.charAt(s),u=0,h=t.length;u<h;++u)if(l==t[u]){var d=o(u),f=d.length;if(6-f>0)for(var p=6-f;p>0;--p)d.unshift(0);a=a.concat(d);break}c>0&&(a=a.slice(0,a.length-c));var m=[],g=[];for(s=0,r=a.length;s<r;)if(0==a[s])m=m.concat(n(a.slice(s,s+8))),s+=8;else{for(var v=0;s<r&&1==a[s];)++v,++s;for(g=g.concat(a.slice(s+1,s+8-v)),s+=8-v;v>1;)g=g.concat(a.slice(s+2,s+8)),s+=8,--v;m=m.concat(n(g)),g=[]}return m}};e.exports={CusBASE64:c}}(),cc._RF.pop()},{}],utils:[function(t,e,o){"use strict";function n(t){wx.showLoading&&wx.showLoading({title:t,mask:!0})}function i(){wx.hideLoading&&wx.hideLoading()}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u63d0\u793a",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;window.wx?wx.showModal({title:e,content:t,showCancel:!1,success:function(t){"function"==typeof o&&o()}}):alert(t)}cc._RF.push(e,"cabdbSbOc5HcohOJUMAc8eE","utils"),e.exports={saveData:function(t,e){window.localStorage.setItem(t,JSON.stringify(e))},fetchData:function(t){return window.localStorage.getItem(t)?JSON.parse(window.localStorage.getItem(t)):null},showLoading:n,hideLoading:i,showToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\u63d0\u793a",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2e3;window.wx?wx.showToast({title:t,icon:e,duration:o}):alert(t)},showAlert:c,showConfirm:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\u786e\u8ba4\u63d0\u9192",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;wx.showModal({title:e,content:t,showCancel:!0,success:function(t){t.confirm?"function"==typeof o&&o():t.cancel&&"function"==typeof n&&n()}})},timeFormat:function(){var t,e,o,n,i,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=void 0;return t=("0"+((a=c>0?new Date((new Date).getTime()+24*c*3600*1e3):new Date(new Date-24*c*3600*1e3)).getMonth()+1)).slice(-2),e=("0"+a.getDate()).slice(-2),o=("0"+a.getHours()).slice(-2),n=("0"+a.getMinutes()).slice(-2),i=("0"+a.getSeconds()).slice(-2),a.getFullYear()+"-"+t+"-"+e+" "+o+":"+n+":"+i},checkLogin:function(t,e){wx.login({success:function(e){wx.getUserInfo({success:function(o){console.log("\u7528\u6237\u6388\u6743\u4fe1\u606f====>",o),"function"==typeof t&&t(e,o)},fail:function(){var o=wx.getSystemInfoSync().windowWidth,n=wx.getSystemInfoSync().windowHeight;console.log("\u521b\u5efa\u83b7\u53d6\u7528\u6237\u4fe1\u606f\u6309\u94ae");var i=wx.createUserInfoButton({type:"text",text:"",style:{left:0,top:0,width:o,height:n,lineHeight:n,backgroundColor:"rgba(0, 0, 0, 0)",color:"rgba(0, 0, 0, 0)",textAlign:"center",fontSize:16,borderRadius:4}});i.onTap(function(o){console.log("\u7528\u6237\u6388\u6743\u6570\u636e\uff1a",o),"getUserInfo:ok"==o.errMsg&&("function"==typeof t&&t(e,o),i.destroy())})}})},fail:function(o){console.log("\u767b\u5f55\u5931\u8d25=====>",o),"function"==typeof t&&e(o)}})},viewVideo:function(t,e,o){if(console.log("\u770b\u89c6\u9891"),wx.createRewardedVideoAd){console.log("\u6267\u884c\u5e7f\u544a\u89c6\u9891\u64ad\u653e");var a=wx.createRewardedVideoAd({adUnitId:o});n("\u89c6\u9891\u52a0\u8f7d\u4e2d"),a.load().then(function(){i(),a.show()}).catch(function(t){i(),c("\u6ca1\u6709\u5e7f\u544a\u53ef\u64ad\u653e\u5566"),e()}),a.onClose(function(o){void 0==o||void 0==o.isEnded||1==o.isEnded?t():e()})}else c("\u5f53\u524d\u5fae\u4fe1\u7248\u672c\u4e0d\u652f\u6301\u64ad\u653e\u5e7f\u544a"),e()}},cc._RF.pop()},{}]},{},["Box","Game","Prop","Revive","Tutorial","TutorialBox","Global","Home","Rank","LuckDraw","api","base64","utils"]);