window.__require=function e(t,o,n){function i(r,s){if(!o[r]){if(!t[r]){var a=r.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(c)return c(a,!0);throw new Error("Cannot find module '"+r+"'")}}var u=o[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,o,n)}return o[r].exports}for(var c="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({AdsMgr:[function(e,t,o){"use strict";cc._RF.push(t,"cf5c5NSFepPaaGFotmQ9lK8","AdsMgr");var n=e("AdsParam"),i=null,c=cc.Class({statics:{platform:"uc",bannerId_baidu:"6305713",bannerId_wx:"adunit-311d38abaf841420",bannerId_tt:"7ocat8ffe311h4bket",insertId_wx_1:"adunit-b06de84558864b20",insertId_wx_2:"adunit-0c8930d8d7844439",bdVideoId_1:"6305753",bdVideoId_2:"6305781",bdVideoId_3:"6305782",bdVideoId_4:"6305784",bdVideoId_5:"6305786",bdVideoId_6:"6305788",bdVideoId_7:"6305753",bdVideoId_8:"6305753",bdVideoId_9:"6305753",bdVideoId_10:"6305753",wxVideoId_1:"adunit-d0919208c0081929",wxVideoId_2:"adunit-75613bd9529e3a2f",wxVideoId_3:"adunit-ae93eda18cd2fb27",wxVideoId_4:"adunit-91976342f43ee018",wxVideoId_5:"adunit-827d9d0f6f67011c",wxVideoId_6:"adunit-503baddcdc515459",wxVideoId_7:"adunit-503baddcdc515459",wxVideoId_8:"adunit-503baddcdc515459",wxVideoId_9:"adunit-503baddcdc515459",wxVideoId_10:"adunit-503baddcdc515459",ttVideoId_1:"26h1i2kmpl13jp08p4",ttVideoId_2:"11bb3he9n1c35356bk",ttVideoId_3:"8ijkp8nnpm852n7c4j",ttVideoId_4:"9fk40ofg8mq1o6ieds",ttVideoId_5:"1qd9nqd808f8cg30ii",ttVideoId_6:"985p022qpns38dbr45",ttVideoId_7:"",ttVideoId_8:"",ttVideoId_9:"",ttVideoId_10:"",allScreen:!1,hasReSizeBanner:!1,resizeTime:0,Init:function(){this.allScreen=!1,i=this},getBannerAdId:function(){return"wx"==this.platform?this.bannerId_wx:"baidu"==this.platform?this.bannerId_baidu:"tt"==this.platform?this.bannerId_tt:null},getInsertAdId:function(e){if("wx"==this.platform){if(1==e)return this.insertId_wx_1;if(2==e)return this.insertId_wx_2}else"baidu"==this.platform||this.platform;return null},getVideoAdId:function(e){var t="";if("wx"==this.platform)switch(e){case n.PointA:t=this.wxVideoId_1;break;case n.PointB:t=this.wxVideoId_2;break;case n.PointC:t=this.wxVideoId_3;break;case n.PointD:t=this.wxVideoId_4;break;case n.PointE:t=this.wxVideoId_5;break;case n.PointF:t=this.wxVideoId_6;break;case n.PointG:t=this.wxVideoId_7;break;case n.PointH:t=this.wxVideoId_8;break;case n.PointI:t=this.wxVideoId_9;break;case n.PointJ:t=this.wxVideoId_10}else if("baidu"==this.platform)switch(e){case n.PointA:t=this.bdVideoId_1;break;case n.PointB:t=this.bdVideoId_2;break;case n.PointC:t=this.bdVideoId_3;break;case n.PointD:t=this.bdVideoId_4;break;case n.PointE:t=this.bdVideoId_5;break;case n.PointF:t=this.bdVideoId_6;break;case n.PointG:t=this.bdVideoId_7;break;case n.PointH:t=this.bdVideoId_8;break;case n.PointI:t=this.bdVideoId_9;break;case n.PointJ:t=this.bdVideoId_10}else if("tt"==this.platform)switch(e){case n.PointA:t=this.ttVideoId_1;break;case n.PointB:t=this.ttVideoId_2;break;case n.PointC:t=this.ttVideoId_3;break;case n.PointD:t=this.ttVideoId_4;break;case n.PointE:t=this.ttVideoId_5;break;case n.PointF:t=this.ttVideoId_6;break;case n.PointG:t=this.ttVideoId_7;break;case n.PointH:t=this.ttVideoId_8;break;case n.PointI:t=this.ttVideoId_9;break;case n.PointJ:t=this.ttVideoId_10}return t},ShowBannerAds:function(){if(this.resizeTime=0,null==this.bannerAdShowNum&&(this.bannerAdShowNum=0),this.bannerAdShowNum++,"wx"==this.platform){if(null!=this.bannerAdCtrl&&this.bannerAdShowNum%5!=0)return;this.bannerAdShowNum=0,null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var e={};e.W=wx.getSystemInfoSync().windowWidth,e.H=wx.getSystemInfoSync().windowHeight;var t=0;t=this.allScreen?e.W:300,this.bannerAdCtrl=wx.createBannerAd({adUnitId:i.getBannerAdId(),style:{left:0,top:0,width:t}}),this.bannerAdCtrl.onResize(function(t){console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "+e.H+" , "+i.bannerAdCtrl.style.realHeight),i.bannerAdCtrl.style.top=e.H-i.bannerAdCtrl.style.realHeight,i.bannerAdCtrl.style.left=(e.W-i.bannerAdCtrl.style.realWidth)/2,i.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("baidu"==this.platform){if("ios"==swan.getSystemInfoSync().platform)return;null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var o={};o.W=swan.getSystemInfoSync().windowWidth,o.H=swan.getSystemInfoSync().windowHeight,console.log("\u767e\u5ea6\u7684 bannerId = "+this.getBannerAdId()),this.bannerAdCtrl=swan.createBannerAd({adUnitId:i.getBannerAdId(),appSid:"f06bda59",style:{left:0,top:0,width:321}}),this.allScreen?i.bannerAdCtrl.style.width=o.H:i.bannerAdCtrl.style.width=300,this.bannerAdCtrl.onResize(function(e){console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "),i.bannerAdCtrl.style.top=o.H-e.height,i.bannerAdCtrl.style.left=(o.W-e.width)/2,i.bannerAdCtrl.show()}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),i.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("tt"==this.platform){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var n={};n.W=tt.getSystemInfoSync().windowWidth,n.H=tt.getSystemInfoSync().windowHeight,console.log("\u5934\u6761 bannerId = "+this.getBannerAdId()),this.bannerAdCtrl=tt.createBannerAd({adUnitId:this.getBannerAdId(),style:{left:(n.W-200)/2,width:200,top:n.H-112.5}}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),i.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("uc"==this.platform){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var c=uc.getSystemInfoSync();this.bannerAdCtrl=uc.createBannerAd({adIntervals:32,style:{width:250*c.pixelRatio,height:0,gravity:7}}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),i.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)})}},HideBannerAd:function(){console.log("\u9690\u85cfbanner"),null!=this.bannerAdCtrl&&this.bannerAdCtrl.hide(),this.DestroyBanner()},RecoverShowBanner:function(){console.log("\u91cd\u5f00banner"),null!=this.bannerAdCtrl?this.bannerAdCtrl.show():this.ShowBannerAds()},DestroyBanner:function(){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy(),this.bannerAdCtrl=null},ShowInsertAds:function(e){if("wx"==this.platform){var t=wx.createInterstitialAd({adUnitId:i.getInsertAdId(e)});t.onLoad(function(){console.log("\u63d2\u5c4f \u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),t.show().catch(function(e){console.error(e)})}),t.onError(function(e){console.log(e)}),t.onClose(function(e){console.log("\u63d2\u5c4f \u5e7f\u544a\u5173\u95ed"),t.offLoad(),t.offError(),t.offClose()})}},ShowVideoAds:function(e,t){var o=this;if(this.cb=null,this.cb=t,"wx"==this.platform){var n=wx.createRewardedVideoAd({adUnitId:i.getVideoAdId(e)});n.load().then(function(){return n.show()}).catch(function(e){return console.log(e.errMsg)}),n.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),n.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),n.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1),n.offLoad(),n.offError(),n.offClose()})}else if("baidu"==this.platform){console.log("\u767e\u5ea6\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(e));var c=swan.createRewardedVideoAd({adUnitId:i.getVideoAdId(e),appSid:"f06bda59"});c.load().then(function(){return c.show()}).catch(function(e){return console.log(e.errMsg)}),c.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),c.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),c.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),i.cb(e.isEnded?0:1),c.offLoad(),c.offError(),c.offClose()})}else if("tt"==this.platform){console.log("\u5934\u6761\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(e));var r=tt.createRewardedVideoAd({adUnitId:i.getVideoAdId(e)});r.load().then(function(){return r.show()}).catch(function(e){return console.log(e.errMsg)}),r.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),r.onLoad(function(){console.log("\u5934\u6761\u89c6\u9891\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),r.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1),r.offLoad(),r.offError(),r.offClose()})}else if("uc"==this.platform){var s=uc.createRewardVideoAd();s.show().then().catch(function(e){return console.log(e)}),s.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),s.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1)})}else this.cb(0)}}});t.exports=c,cc._RF.pop()},{AdsParam:"AdsParam"}],AdsParam:[function(e,t,o){"use strict";cc._RF.push(t,"6ebac4YHD5OeI8LYh2tSbEw","AdsParam");var n=cc.Enum({PointA:1,PointB:2,PointC:3,PointD:4,PointE:5,PointF:6,PointG:7,PointH:8,PointI:9,PointJ:10});t.exports=n,cc._RF.pop()},{}],AppStart:[function(e,t,o){"use strict";function n(){cc.Mgr={},cc.Mgr.InitAll=!1;var t=e("AudioMgr");cc.Mgr.AudioMgr=new t,cc.Mgr.AudioMgr.init(),cc.Mgr.Global=e("Global"),cc.Mgr.Global.InitData(),cc.Mgr.Utils=e("Utils");var o=e("UserData");cc.Mgr.UserData=new o,cc.Mgr.UserData.initData(),cc.Mgr.AdsMgr=e("AdsMgr"),cc.Mgr.AdsMgr.Init(),cc.Mgr.ShareInfos=e("ShareInfos"),cc.Mgr.ShareInfos.init(),cc.Mgr.PlatformController=e("PlatformController"),cc.Mgr.PlatformController.Init()}cc._RF.push(t,"7c7ffAmVrlC26a5/LCqmnjN","AppStart");var i=e("UIMgr"),c=e("Hall");cc.Class({extends:cc.Component,properties:{uiMgr:i,hallLayer:c},onLoad:function(){cc.sys.localStorage.clear(),n(),cc.Mgr.PlatformController.setUserCloudStorage(cc.Mgr.UserData.getHighScore()),cc.Mgr.InitAll=!0,cc.Mgr.Utils.GetSysTime()},start:function(){cc.Mgr.PlatformController.ShareTopNav(),cc.Mgr.AudioMgr.playBGM("bgm"),cc.Mgr.Global.openAds&&cc.Mgr.AdsMgr.ShowBannerAds(),this.hallLayer.ShowLayer()}}),cc._RF.pop()},{AdsMgr:"AdsMgr",AudioMgr:"AudioMgr",Global:"Global",Hall:"Hall",PlatformController:"PlatformController",ShareInfos:"ShareInfos",UIMgr:"UIMgr",UserData:"UserData",Utils:"Utils"}],AudioMgr:[function(e,t,o){"use strict";cc._RF.push(t,"da948RJ9LFJZa2qCbv/jueE","AudioMgr");var n=cc.Class({extends:cc.Component,properties:{bgmVolume:.5,sfxVolume:.5,bgmAudioID:-1,sfxAudioID:-1,musicState:1,voiceState:1},init:function(){var e;cc.Mgr.loadSound=!1,null!=(e=cc.sys.localStorage.getItem("bgmVolume"))&&(this.bgmVolume=parseFloat(e)),null!=(e=cc.sys.localStorage.getItem("sfxVolume"))&&(this.sfxVolume=parseFloat(e)),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("cc.audioEngine.pauseAll"),cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("cc.audioEngine.resumeAll"),cc.audioEngine.resumeAll()})},getUrl:function(e){return cc.url.raw("resources/sound/"+e+".mp3")},playBGM:function(e){var t=this.getUrl(e);this.bgmAudioID>=0&&cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=cc.audioEngine.play(t,!0,this.bgmVolume)},playSFX:function(e){if(0!=this.voiceState){var t=this.getUrl(e);cc.audioEngine.play(t,!1,this.sfxVolume)}},setSFXVolume:function(e){this.sfxVolume!=e&&(cc.sys.localStorage.setItem("sfxVolume",e),this.sfxVolume=e)},setBGMVolume:function(e,t){this.bgmAudioID>=0&&(e>0?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID)),(this.bgmVolume!=e||t)&&(cc.sys.localStorage.setItem("bgmVolume",e),this.bgmVolume=e,cc.audioEngine.setVolume(this.bgmAudioID,e))},pauseAll:function(){this.musicState=0,this.voiceState=0,this.bgmVolume=0,this.sfxVolume=0,cc.audioEngine.pauseAll()},resumeAll:function(){this.musicState=1,this.voiceState=1,this.bgmVolume=.5,this.sfxVolume=.5,cc.audioEngine.resumeAll()},pauseMusic:function(){this.musicState=0,this.bgmVolume=0,this.bgmAudioID>=0&&cc.audioEngine.pause(this.bgmAudioID)},resumeMusic:function(){this.musicState=1,this.bgmVolume=.5,this.bgmAudioID>=0&&cc.audioEngine.resume(this.bgmAudioID)},pauseVoice:function(){this.voiceState=0,this.sfxVolume=0},resumeVoice:function(){this.voiceState=1,this.sfxVolume=.5},getMusicState:function(){return this.musicState},getVoiceState:function(){return this.voiceState}});t.exports=n,cc._RF.pop()},{}],AudiuControl:[function(e,t,o){"use strict";cc._RF.push(t,"d976fOGdb5Hc4Nr3kiKmHKq","AudiuControl");var n=[{2:new cc.Color(197,191,183),4:new cc.Color(175,164,146),8:new cc.Color(87,223,185),16:new cc.Color(85,224,139),32:new cc.Color(65,220,112),64:new cc.Color(45,178,83),128:new cc.Color(250,185,45),256:new cc.Color(251,142,43),512:new cc.Color(232,20,46),1024:new cc.Color(150,40,110),2048:new cc.Color(104,41,150)},{2:new cc.Color(88,99,115),4:new cc.Color(68,72,102),8:new cc.Color(234,116,171),16:new cc.Color(228,83,151),32:new cc.Color(244,63,96),64:new cc.Color(250,32,80),128:new cc.Color(56,207,253),256:new cc.Color(48,151,252),512:new cc.Color(41,97,203),1024:new cc.Color(181,115,226),2048:new cc.Color(114,71,143)},{2:new cc.Color(68,88,83),4:new cc.Color(46,68,63),8:new cc.Color(249,134,115),16:new cc.Color(230,105,81),32:new cc.Color(230,65,65),64:new cc.Color(206,16,28),128:new cc.Color(84,234,170),256:new cc.Color(46,193,135),512:new cc.Color(35,159,110),1024:new cc.Color(194,149,87),2048:new cc.Color(152,105,42)},{2:new cc.Color(187,115,124),4:new cc.Color(200,86,100),8:new cc.Color(74,192,188),16:new cc.Color(33,157,153),32:new cc.Color(27,147,101),64:new cc.Color(79,171,98),128:new cc.Color(246,80,102),256:new cc.Color(236,50,112),512:new cc.Color(192,11,124),1024:new cc.Color(64,51,103),2048:new cc.Color(40,32,63)},{2:new cc.Color(154,102,160),4:new cc.Color(146,81,153),8:new cc.Color(250,198,117),16:new cc.Color(250,164,116),32:new cc.Color(249,131,115),64:new cc.Color(249,110,115),128:new cc.Color(120,205,251),256:new cc.Color(117,145,250),512:new cc.Color(98,85,234),1024:new cc.Color(251,109,149),2048:new cc.Color(193,58,97)},{2:new cc.Color(169,94,152),4:new cc.Color(137,71,122),8:new cc.Color(196,143,228),16:new cc.Color(217,140,231),32:new cc.Color(245,169,233),64:new cc.Color(249,194,241),128:new cc.Color(142,235,196),256:new cc.Color(109,189,155),512:new cc.Color(71,163,145),1024:new cc.Color(227,215,73),2048:new cc.Color(243,189,113)}],i=[new cc.Color(207,195,183),new cc.Color(35,42,53),new cc.Color(72,99,95),new cc.Color(130,56,66),new cc.Color(81,54,84),new cc.Color(63,41,58)],c=[new cc.Color(142,129,114),new cc.Color(74,89,113),new cc.Color(43,69,63),new cc.Color(103,18,30),new cc.Color(160,117,164),new cc.Color(124,74,113)];t.exports={SoundVolum:1,SuitIndex:1,GameModeIndex:1,getCurrentBallColor:function(e){return n[e-1]},getCurrentGameBgCorlor:function(e){return i[e-1]},getGameBackBtnAndScoreColor:function(e){return c[e-1]}},cc._RF.pop()},{}],EndResultLayer:[function(e,t,o){"use strict";cc._RF.push(t,"2b0c45dAkhP/rbqVZgaW+rs","EndResultLayer");var n=e("AudiuControl"),i=null;cc.Class({extends:cc.Component,properties:{Atlas:cc.SpriteAtlas,Game_endRewardSp:cc.Sprite,Game_endModeLabel:cc.Sprite,Game_endCurrentScore:cc.Label,Game_endModeMaxScoreLabel:cc.Label,coinLbl:cc.Label,hasGetDouble:!1},start:function(){i=this},initWithMode:function(e){cc.Mgr.AdsMgr.RecoverShowBanner(),this.hasGetDouble=!1,this.scoreTemp=e;var t=n.GameModeIndex,o="",i="";1==t?(o="rewardNormal",i="endNormal"):2==t?(o="rewardMaster",i="endMaster"):3==t&&(o="rewardUnend",i="endUnend"),this.Game_endRewardSp.spriteFrame=this.Atlas.getSpriteFrame(o),this.Game_endModeLabel.spriteFrame=this.Atlas.getSpriteFrame(i);var c=0;this.Game_endCurrentScore.string=e.toString(),1==t?(e>cc.Mgr.UserData.modeAscore&&(cc.Mgr.UserData.modeAscore=e),c=cc.Mgr.UserData.modeAscore):2==t?(e>cc.Mgr.UserData.modeBscore&&(cc.Mgr.UserData.modeBscore=e),c=cc.Mgr.UserData.modeBscore):3==t&&(e>cc.Mgr.UserData.modeCscore&&(cc.Mgr.UserData.modeCscore=e),c=cc.Mgr.UserData.modeCscore),this.coinLbl.string=Math.floor(e/10),cc.Mgr.UserData.coin+=Math.floor(e/10),this.Game_endModeMaxScoreLabel.string=c.toString(),cc.Mgr.PlatformController.setUserCloudStorage(cc.Mgr.UserData.getHighScore()),cc.Mgr.UserData.SaveData()},RebornBtnClick:function(){cc.Mgr.AudioMgr.playSFX("click"),0!=cc.Mgr.Global.openAds?cc.Mgr.AdsMgr.ShowVideoAds(2,function(e){0==e&&(cc.director.emit("RebornGame",{}),i.node.active=!1)}):cc.Mgr.PlatformController.showToast("\u8be5\u529f\u80fd\u6682\u672a\u5f00\u653e")},restartClick:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.director.emit("ResetGame",{}),this.node.active=!1},endShareClick:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.PlatformController.ShareToFriend(1)},DoubleGetCoin:function(){cc.Mgr.AudioMgr.playSFX("click"),0!=cc.Mgr.Global.openAds?this.hasGetDouble?cc.Mgr.PlatformController.showToast("\u672c\u5c40\u5df2\u7ecf\u4f7f\u7528\u53cc\u500d\u5956\u52b1"):cc.Mgr.AdsMgr.ShowVideoAds(3,function(e){0==e&&(i.hasGetDouble=!0,cc.Mgr.UserData.coin+=Math.floor(i.scoreTemp/10),cc.Mgr.PlatformController.showToast("\u606d\u559c\u83b7\u5f97\u53cc\u500d\u91d1\u5e01"),i.coinLbl.string=2*Math.floor(i.scoreTemp/10),cc.Mgr.UserData.SaveData())}):cc.Mgr.PlatformController.showToast("\u8be5\u529f\u80fd\u6682\u672a\u5f00\u653e")},endCloseClick:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.director.emit("ReturnHall",{}),this.node.active=!1}});cc._RF.pop()},{AudiuControl:"AudiuControl"}],GameModeLayer:[function(e,t,o){"use strict";cc._RF.push(t,"6c2fcF98HRONY4J2QEGQDRf","GameModeLayer");var n=e("AudiuControl"),i=[1],c=cc.Class({extends:cc.Component,properties:{hallLayer:cc.Node,modeAScoreLbl:cc.Label,modeBScoreLbl:cc.Label,modeCScoreLbl:cc.Label,LockList:[cc.Node],DesNodes:[cc.Node],UnlockUI:cc.Node,firstOpen:!0,openIndex:1},start:function(){},initMaxScoreLabel:function(){this.modeAScoreLbl.string=cc.Mgr.UserData.modeAscore,this.modeBScoreLbl.string=cc.Mgr.UserData.modeBscore,this.modeCScoreLbl.string=cc.Mgr.UserData.modeCscore,1==this.firstOpen&&(i.push(1),this.firstOpen=!1);for(var e=1;e<=this.LockList.length;e++)for(var t=0;t<i.length;t++)i[t]==e&&(this.LockList[e-1].active=!1)},isCanSelect:function(e){for(var t=0;t<i.length;t++)if(i[t]==e)return!0;return!1},RefreshLockUI:function(e){for(var t=0;t<this.DesNodes.length;t++)this.DesNodes[t].active=!1;this.DesNodes[e].active=!0,this.openIndex=e+1},Mode1Click:function(){cc.log("\u6807\u51c6\u6a21\u5f0f"),this.isCanSelect(1)?this.SelectedGameMode(1):(this.UnlockUI.active=!0,this.RefreshLockUI(0))},Mode2Click:function(){cc.log("\u5927\u5e08\u6a21\u5f0f"),this.isCanSelect(2)?this.SelectedGameMode(2):(this.UnlockUI.active=!0,this.RefreshLockUI(1))},Mode3Click:function(){this.isCanSelect(3)?this.SelectedGameMode(3):(this.UnlockUI.active=!0,this.RefreshLockUI(2))},AdsUnLock:function(){var e=this;cc.Mgr.AdsMgr.ShowVideoAds(1,function(t){0==t&&(e.UnlockUI.active=!1,i.push(e.openIndex),e.initMaxScoreLabel())})},CloseUnLockUI:function(){this.UnlockUI.active=!1},SelectedGameMode:function(e){cc.Mgr.AudioMgr.playSFX("click"),n.GameModeIndex=e,cc.director.emit("ResetGame",{}),this.hallLayer.active=!1,this.node.active=!1},CloseLayer:function(){cc.Mgr.AudioMgr.playSFX("click"),this.node.active=!1}});t.exports=c,cc._RF.pop()},{AudiuControl:"AudiuControl"}],GameQuitLayer:[function(e,t,o){"use strict";cc._RF.push(t,"8f1f4o0Ym1FmLI1BmXE8ho8","GameQuitLayer");var n=cc.Class({extends:cc.Component,properties:{}});t.exports=n,cc._RF.pop()},{}],GameResultLayer:[function(e,t,o){"use strict";cc._RF.push(t,"4bc3dKJUelCtYvfNswnTkBT","GameResultLayer");var n=cc.Class({extends:cc.Component,properties:{}});t.exports=n,cc._RF.pop()},{}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"36541SC78xMJLCv8fFCc0Fi","Game");var n=55*Math.sqrt(3),i={2:new cc.Color(197,191,183),4:new cc.Color(175,164,146),8:new cc.Color(87,223,185),16:new cc.Color(85,224,139),32:new cc.Color(65,220,112),64:new cc.Color(45,178,83),128:new cc.Color(250,185,45),256:new cc.Color(251,142,43),512:new cc.Color(232,20,46),1024:new cc.Color(150,40,110),2048:new cc.Color(104,41,150)},c=(new cc.Color(207,195,183),new cc.Color(142,129,114),0),r=new Array,s=null,a=0,l=null,u=0,h=new cc.NodePool,d=new cc.NodePool,g=new cc.NodePool,f=!1,p=0,m=15,S=null,C=null,b=0,v=0,A=e("AudiuControl"),w=0,y=!1,M=e("Hall"),x=e("GameQuitLayer"),P=e("GuideLayer"),L=e("EndResultLayer"),I=cc.Class({extends:cc.Component,properties:{hallLayer:M,quitLayer:x,guideLayer:P,resultLayer:L,BigAtals:cc.SpriteAtlas,MainAtlas:cc.SpriteAtlas,gameBody:cc.Node,lineA:cc.Node,lineB:cc.Node,preBall:cc.Prefab,PreviewBallNode:cc.Node,effectParent:cc.Node,ballPre:cc.Prefab,ballNumPre:cc.Prefab,gameSmallBg:cc.Sprite,ballsParent:cc.Node,gameScoreLbl:cc.Label,leftProgress:cc.ProgressBar,righProgress:cc.ProgressBar,gameBgArray:{default:[],type:[cc.SpriteFrame]}},onLoad:function(){var e=this;this.SetGameInit(),cc.director.on("ResetGame",function(t){cc.Mgr.AdsMgr.HideBannerAd(),e.gameBody.active=!0,e.Reset(!1),cc.Mgr.UserData.playTimes+=1}),cc.director.on("RebornGame",function(t){cc.Mgr.AdsMgr.HideBannerAd(),e.gameBody.active=!0,e.Reset(!0),cc.Mgr.UserData.playTimes+=1,e.resumeGameFunc()}),cc.director.on("ReturnHall",function(t){cc.Mgr.AdsMgr.RecoverShowBanner(),e.GameNoPlayClick()})},SetGameInit:function(){for(var e=0;e<60;e++){var t=cc.instantiate(this.ballPre);h.put(t)}for(e=0;e<30;e++){t=cc.instantiate(this.preBall);d.put(t)}for(e=0;e<30;e++){var o=cc.instantiate(this.ballNumPre);g.put(o)}},Reset:function(e){v=0,i=A.getCurrentBallColor(A.SuitIndex),A.getCurrentGameBgCorlor(A.SuitIndex),A.getGameBackBtnAndScoreColor(A.SuitIndex);for(var t=0;t<10;t++){r[t]=new Array;for(var o=0;o<6;o++)r[t][o]=0}for(c=0;this.ballsParent.getChildren().length>0;)this.ballsParent.getChildren()[0].stopAllActions(),h.put(this.ballsParent.getChildren()[0]);e||this.Grow(4),this.RefreshBalls(),null!=s&&(s.stopAllActions(),h.put(s)),null!=l&&(l.stopAllActions(),h.put(l)),a=this.RandomNum(11),(s=this.NewBall(a)).setPosition(0,0),s.setScale(1),this.gameBody.addChild(s),u=this.RandomNum(11),(l=this.NewBall(u)).setScale(.5),l.setPosition(-200,-40),this.gameBody.addChild(l),f=!0,p=0,e||(m=15,b=0,w=0,cc.Mgr.UserData.playTimes<1&&(this.guideLayer.node.active=!0,this.guideLayer.ShowLayer(),y=!0)),this.gameScoreLbl.string="Score:"+b,this.gameSmallBg.spriteFrame=this.gameBgArray[A.SuitIndex-1],this.leftProgress.barSprite.spriteFrame=this.MainAtlas.getSpriteFrame("ProgresLef"+A.SuitIndex),this.righProgress.barSprite.spriteFrame=this.MainAtlas.getSpriteFrame("ProgressRig"+A.SuitIndex)},RandomNum:function(e){return Math.pow(2,Math.floor(Math.random()*e)+1)},Grow:function(e){for(var t=0;t<e;t++){for(var o=9;o>0;o--)for(var i=0;i<6;i++)r[o][i]=r[o-1][i];for(o=0;o<6;o++)r[0][o]=this.RandomNum(7);c=1&++c;var s=this.ballsParent.getChildren();for(o=0;o<s.length;o++)s[o].z=s[o].z+1,s[o].runAction(cc.moveBy(.1,0,-n));for(o=0;o<6;o++){var a=this.NewBall(r[0][o]);this.ballsParent.addChild(a),a.setScale(0),a.setPosition(this.GetBallPos(0,o)),a.z=0,f=!1,a.runAction(cc.scaleTo(.15,1))}}var l=this;this.scheduleOnce(function(){l.gameBody.resumeSystemEvents(),f=!0,l.CheckLose()},.15),S&&this.RefreshPreview(S),this.RefreshBalls()},GetBallNode:function(e,t){for(var o=this.GetBallPos(e,t),n=this.ballsParent.getChildren(),i=0;i<n.length;i++){var c=n[i].getPosition();if(Math.abs(o.x-c.x)<10&&Math.abs(o.y-c.y)<10)return n[i]}return null},GetPaste:function(e,t,o){var n=this.GetNeighbor(e,t);for(var i in n)0==o[n[i].x][n[i].y]&&r[n[i].x][n[i].y]>0&&(o[n[i].x][n[i].y]=1,this.GetPaste(n[i].x,n[i].y,o))},CheckDrop:function(){for(var e=new Array,t=0;t<10;t++){e[t]=new Array;for(var o=0;o<6;o++)e[t][o]=0}for(o=0;o<6;o++)r[0][o]>0&&(e[0][o]=1,this.GetPaste(0,o,e));for(t=0;t<10;t++)for(o=0;o<6;o++)e[t][o]<=0&&r[t][o]>0&&this.DropBall(t,o)},DropBall:function(e,t){var o=this,n=r[e][t];b+=2*n;var i=this.NewBall(n);this.effectParent.addChild(i);var c=this.GetBallPos(e,t);i.setPosition(c);i.runAction(cc.sequence(cc.moveTo(c.y/1e3,c.x,0).easing(cc.easeIn(5)),cc.jumpBy(.2,200*Math.random()-100,0,100*Math.random(),1),cc.callFunc(function(e){var t;t=g.size()>0?g.get():cc.instantiate(o.ballNumPre),o.effectParent.addChild(t),t.getComponent(cc.Label).string=2*n,t.setPosition(e.x,e.y+40),t.opacity=255,t.runAction(cc.sequence(cc.moveBy(.15,0,20),cc.fadeOut(1),cc.callFunc(function(e){g.put(e)}))),e.stopAllActions(),h.put(e)}))),r[e][t]=0;var s=this.GetBallNode(e,t);null!=s&&(s.stopAllActions(),h.put(s))},CheckLose:function(){for(var e=0;e<6;e++){if(r[8][e]>0)if((s=this.GetBallNode(8,e))&&null==s.getActionByTag(99)){var t=s.color,o=cc.tintTo(.2,255,255,255),n=cc.tintTo(.2,t.getR(),t.getG(),t.getB()),i=cc.repeatForever(cc.sequence(o,n));i.setTag(99),s.runAction(i)}if(r[9][e]>0){for(var c in this.ballsParent.getChildren()){var s;(s=this.ballsParent.getChildren()[c]).runAction(cc.sequence(cc.moveTo(s.y/1e3,s.x,0).easing(cc.easeIn(5)),cc.jumpBy(.2,200*Math.random()-100,0,100*Math.random(),1),cc.callFunc(function(e){e.stopAllActions(),h.put(e)})))}return cc.Mgr.PlatformController.QuakeScreen(!0),cc.Mgr.AudioMgr.playSFX("lose"),this.scheduleOnce(function(){cc.Mgr.AdsMgr.ShowInsertAds(1)},.5),this.scheduleOnce(function(){this.pauseGameFunc(),this.resultLayer.node.active=!0,this.resultLayer.initWithMode(b)},1.5),void(f=!1)}}},Fire:function(e){var t=this.GetTrack(e);if(null!=t&&null!=t.ball){var o,n,i,c,h=this.GetBallPos(t.ball.x,t.ball.y);if(t.p.length>2)i=cc.moveTo(t.p[1].mag()/4e3,t.p[1]),o=(n=t.p[3].sub(t.p[1])).mag()-55,n.mulSelf(o/n.mag()),n.addSelf(t.p[2]),c=cc.moveTo(o/4e3,n),s.runAction(cc.sequence(i,c,cc.moveTo(n.sub(h).mag()/4e3,h),cc.callFunc(g,this,t.ball)));else o=t.p[1].mag()-55,n=t.p[1].mul(o/t.p[1].mag()),s.runAction(cc.sequence(cc.moveTo(o/4e3,n),cc.moveTo(n.sub(h).mag()/4e3,h),cc.callFunc(g,this,t.ball)));if(s.z=t.ball.y,r[t.ball.x][t.ball.y]=a,s=l,a=u,l.runAction(cc.scaleTo(.3,1)),l.runAction(cc.moveTo(.3,cc.v2(0,0))),v>0)u=2048,v-=1;else{var d=Math.random();u=d>.99?2048:d>.97?1024:d>.89?512:this.RandomNum(8)}(l=this.NewBall(u)).setScale(0),l.setPosition(-200,-40),this.gameBody.addChild(l),l.runAction(cc.scaleTo(.3,.5)),this.gameBody.pauseSystemEvents(),f=!1}function g(e,t){e.removeFromParent(!1),this.ballsParent.addChild(e),this.Process(t,!0),this.CheckLose(),this.RefreshBalls()}},GetSameValue:function(e,t,o){if(r[e.x][e.y]==t){o.push(100*e.x+e.y);var n=this.GetNeighbor(e.x,e.y);for(var i in n){var c=n[i];r[c.x][c.y]==t&&o.indexOf(100*c.x+c.y)<0&&this.GetSameValue(c,t,o)}}},Process:function(e,t){var o,n;if(r[e.x][e.y]>=2048){for(var i in cc.Mgr.AudioMgr.playSFX("bigsound"),o=this.GetNeighbor(e.x,e.y),n=new Array,o){r[o[i].x][o[i].y]>0&&this.EraseBall(o[i],null);var c=this.GetNeighbor(o[i].x,o[i].y);for(var s in c)r[c[s].x][c[s].y]>0&&this.EraseBall(cc.v2(c[s].x,c[s].y),null)}this.EraseBall(e,null),this.gameBody.resumeSystemEvents(),f=!0,this.CheckDrop()}else if(r[e.x][e.y]>0){if(n=new Array,this.GetSameValue(e,r[e.x][e.y],n),n.length<=1){if(t){var a=this.GetBallPos(e.x,e.y);for(var i in o=this.GetNeighbor(e.x,e.y))if(r[o[i].x][o[i].y]>0){var l=this.GetBallPos(o[i].x,o[i].y),u=this.GetBallNode(o[i].x,o[i].y);d=(d=cc.moveBy(.05,l.sub(a).mul(.15))).easing(cc.easeOut(5)),null!=u&&u.runAction(cc.sequence(d,d.clone().reverse()))}var h=this;return void this.scheduleOnce(function(){this.gameBody.resumeSystemEvents(),f=!0,this.CheckDrop()},.1)}return this.gameBody.resumeSystemEvents(),f=!0,void this.CheckDrop()}if(t){cc.Mgr.AudioMgr.playSFX("lightsound");a=this.GetBallPos(e.x,e.y);for(var i in o=this.GetNeighbor(e.x,e.y))if(r[o[i].x][o[i].y]>0&&r[o[i].x][o[i].y]!=r[e.x][e.y]){var d;l=this.GetBallPos(o[i].x,o[i].y),u=this.GetBallNode(o[i].x,o[i].y);d=(d=cc.moveBy(.05,l.sub(a).mul(.15))).easing(cc.easeOut(5)),null!=u&&u.runAction(cc.sequence(d,d.clone().reverse()))}}var g=2*r[e.x][e.y];g=Math.min(g,2048);var p=null,m=0,S=new Array;for(var i in n){var C=0,v=Math.floor(n[i]/100),A=n[i]%100;o=this.GetNeighbor(v,A);var w=!1;for(var s in o){var y=r[o[s].x][o[s].y];y==g?C++:y!=r[e.x][e.y]&&y>0&&(w=!0)}C>m?(m=C,p=cc.v2(v,A)):w&&S.push(n[i])}if(null==p){var M=9999;for(var i in S){v=Math.floor(S[i]/100),A=S[i]%100;v<M&&(p=cc.v2(v,A),M=v)}}if(null==p){M=9999;for(var i in n){v=Math.floor(n[i]/100),A=n[i]%100;v<M&&(p=cc.v2(v,A),M=v)}}var x=r[e.x][e.y];r[p.x][p.y]=g;var P=this.GetBallNode(p.x,p.y);for(var i in n){v=Math.floor(n[i]/100),A=n[i]%100;r[v][A]==x&&this.EraseBall(cc.v2(v,A),cc.v2(p))}h=this;this.scheduleOnce(function(){null!=P&&(cc.find("num",P).getComponent(cc.Label).string=g,P.color=this.GetColor(g)),h.Process(p,!1)},.2)}this.gameScoreLbl.string="Score:"+b},EraseBall:function(e,t){var o=r[e.x][e.y];if(0!=o){var n,i=this.GetColor(o),c=this.GetBallPos(e.x,e.y),s=null;s=d.size()>0?d.get():cc.instantiate(this.preBall),this.effectParent.addChild(s),s.active=!0,s.setPosition(c),s.color=i,s.setScale(1),s.opacity=255,s.runAction(cc.sequence(cc.fadeOut(.5),cc.callFunc(function(e){e.stopAllActions(),d.put(e)}))),s.runAction(cc.scaleTo(.5,1.5)),null!=t&&(s=d.size()>0?d.get():cc.instantiate(this.preBall),this.effectParent.addChild(s),s.active=!0,s.setPosition(c),s.setScale(1),s.opacity=255,s.color=i,s.runAction(cc.sequence(cc.moveTo(.2,this.GetBallPos(t.x,t.y)),cc.callFunc(function(e){e.stopAllActions(),d.put(e)}))));for(var a=0;a<5;a++)s=d.size()>0?d.get():cc.instantiate(this.preBall),this.effectParent.addChild(s),s.active=!0,s.setPosition(c),s.setScale(Math.random()/2+.1),s.opacity=255,s.color=i,s.runAction(cc.sequence(cc.jumpBy(Math.random(),200*Math.random()-100,200*-Math.random(),100*Math.random(),1),cc.callFunc(function(e){e.stopAllActions(),d.put(e)})));b+=o,n=g.size()>0?g.get():cc.instantiate(this.ballNumPre),this.effectParent.addChild(n),n.getComponent(cc.Label).string=o,n.setPosition(c.x,c.y+40),n.opacity=255,n.runAction(cc.sequence(cc.moveBy(.15,0,20),cc.fadeOut(.6),cc.callFunc(function(e){g.put(e)}))),r[e.x][e.y]=0,null!=(s=this.GetBallNode(e.x,e.y))&&(s.stopAllActions(),h.put(s))}},start:function(){var e=this;this.gameBody.on(cc.Node.EventType.TOUCH_START,function(t){if(t.getCurrentTarget().active){var o=e.gameBody.convertTouchToNodeSpaceAR(t.touch);e.RefreshPreview(o)}}),this.gameBody.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(t.getCurrentTarget().active){var o=e.gameBody.convertTouchToNodeSpaceAR(t.touch);e.RefreshPreview(o)}}),this.gameBody.on(cc.Node.EventType.TOUCH_END,function(t){if(t.getCurrentTarget().active){if(f){cc.Mgr.AudioMgr.playSFX("fire");var o=e.gameBody.convertTouchToNodeSpaceAR(t.touch);e.Fire(o)}e.lineA.active=!1,e.lineB.active=!1,e.PreviewBallNode.active=!1,S=null,C=null,y&&(y=!1,e.guideLayer.CloseLayer(),e.guideLayer.node.active=!1)}})},GetBallPos:function(e,t){return cc.v2(55*(e+c&1)+55*t*2-301,967-95.26279441628951*e)},GetColor:function(e){return i[e]},NewBall:function(e){var t=null;return t=h.size()>0?h.get():cc.instantiate(this.ballPre),cc.find("num",t).getComponent(cc.Label).string=e,t.color=this.GetColor(e),t.opacity=255,t},RefreshBalls:function(){},RefreshLines:function(e){this.lineA.active=!0;var t=0;if(e.y/e.x>1022/301){var o=Math.abs(1022*e.x/e.y);t=Math.sqrt(1044484+o*o)}else{var n=Math.abs(301*e.y/e.x);t=Math.sqrt(n*n+90601)}this.lineA.width=t/this.lineA.scaleX;var i=Math.atan(e.y/e.x);this.lineA.rotation=-i/2/Math.PI*360},RefreshPreview:function(e){S=e;var t=this.GetTrack(e);if(null!=t){var o=e.normalize().neg().mul(60);o=o.y>0?o.neg():o,s.setPosition(o);var n=t.p[1].mag()-20,i=-t.p[1].angle(cc.v2(1,0));if(2==A.GameModeIndex&&(n=200),this.lineA.width=n/this.lineA.scaleX,this.lineA.rotation=i/2/Math.PI*360,this.lineA.active=!0,t.p.length>2&&2!=A.GameModeIndex){this.lineB.setPosition(t.p[2]);var c=t.p[3].sub(t.p[2]);n=c.mag()-20,this.lineB.width=n/this.lineB.scaleX,i=-c.angle(cc.v2(1,0)),this.lineB.rotation=i/2/Math.PI*360,this.lineB.active=!0}else this.lineB.active=!1;null!=t.ball?(2==A.GameModeIndex?this.PreviewBallNode.active=!1:null!=C&&C.equals(t.ball)||(this.PreviewBallNode.active=!0,this.PreviewBallNode.setPosition(this.GetBallPos(t.ball.x,t.ball.y)),this.PreviewBallNode.runAction(cc.scaleTo(.2,1)),this.PreviewBallNode.opacity=0,this.PreviewBallNode.runAction(cc.spawn(cc.scaleTo(.3,1),cc.fadeIn(.5)))),C=t.ball):(this.PreviewBallNode.active=!1,C=null,s.setPosition(0,0))}else s.setPosition(0,0),this.lineA.active=!1,this.lineB.active=!1,this.PreviewBallNode.active=!1,C=null},pLineIntersect:function(e,t,o,n,i){if(e.x===t.x&&e.y===t.y||o.x===n.x&&o.y===n.y)return!1;var c=t.x-e.x,r=t.y-e.y,s=n.x-o.x,a=n.y-o.y,l=e.x-o.x,u=e.y-o.y,h=a*c-s*r;return i.x=s*u-a*l,i.y=c*u-r*l,0===h?0===i.x||0===i.y:(i.x=i.x/h,i.y=i.y/h,!0)},GetTrack:function(e){var t=cc.v2(0,0),o=e,n={};n.p=new Array,n.ball=null;for(var i=0;i<2;i++){var s=this.GetInterBall(t,o);if(null!=s){var a=this.GetNeighbor(s.row,s.col),l=99999,u=null;for(var h in a)if(0==r[a[h].x][a[h].y]){var d=this.GetBallPos(a[h].x,a[h].y),g=d.sub(s.inter).magSqr();g<l&&(u=cc.v2(a[h].x,a[h].y),l=g)}return n.ball=u,n.p.push(t),n.p.push(s.inter),n}var f=cc.v2(0,0),p=this.pLineIntersect(t,o,cc.v2(-301,1022),cc.v2(301,1022),f);if(!p)return null;if(f.y<0){if(!(p=this.pLineIntersect(t,o,cc.v2(-301,0),cc.v2(-301,1022),f)))return null;n.p.push(t),t=cc.v2(-301,0).addSelf(cc.v2(0,1022).mulSelf(f.y)),n.p.push(t),o=cc.v2(301,3*t.y)}else{if(!(f.y>1)){var m=cc.v2(-301,1022).addSelf(cc.v2(602,0).mulSelf(f.y)),S=(m.x+301+55*(1-c))/2/55;n.p.push(t),n.p.push(m);var C=Math.max(Math.min(Math.floor(S),5),0);if(0!=r[0][C]){for(var h in l=99999,a=this.GetNeighbor(0,C))0==r[a[h].x][a[h].y]&&(g=(d=this.GetBallPos(a[h].x,a[h].y)).sub(m).magSqr())<l&&(u=cc.v2(a[h].x,a[h].y),l=g);n.ball=u}else n.ball=cc.p(0,C);return n}if(!(p=this.pLineIntersect(t,o,cc.v2(301,0),cc.v2(301,1022),f)))return null;n.p.push(t),t=cc.v2(301,0).addSelf(cc.v2(0,1022).mulSelf(f.y)),n.p.push(t),o=cc.v2(-301,3*t.y)}}return n},GetInterBall:function(e,t){e.x==t.x&&(t.x+=1e-5),e.y==t.y&&(t.y+=1e-5);for(var o=999999999999,n=null,i={row:-1,col:-1},c=8;c>=0;c--){for(var s=0;s<6;s++)if(!(r[c][s]<=0)){var a=this.GetBallPos(c,s),l=t.x-e.x,u=t.y-e.y,h=u/l,d=-h*e.x+e.y-a.y,g=1+h*h,f=2*(h*d-a.x),p=f*f-4*g*(a.x*a.x+d*d-(55+(r[c+1][s]>0?0:15))*(55+(r[c+1][s]>0?0:15)));if(!(p<0)){var m=(-f+Math.sqrt(p))/2/g,S=(m-e.x)/l*u+e.y,C=(-f-Math.sqrt(p))/2/g,b=(C-e.x)/l*u+e.y,v=(n=S<b?cc.v2(m,S):cc.v2(C,b)).sub(e).magSqr();v<o&&(i.row=c,i.col=s,i.inter=n,o=v)}}if(-1!=i.row)return i}return null},GetNeighbor:function(e,t){var o=e+c&1,n=new Array;return t>0&&n.push(cc.v2(e,t-1)),t<5&&n.push(cc.v2(e,t+1)),1==o?(e>0&&(n.push(cc.v2(e-1,t)),t<5&&n.push(cc.v2(e-1,t+1))),e<9&&(n.push(cc.v2(e+1,t)),t<5&&n.push(cc.v2(e+1,t+1)))):(e>0&&(n.push(cc.v2(e-1,t)),t>0&&n.push(cc.v2(e-1,t-1))),e<9&&(n.push(cc.v2(e+1,t)),t>0&&n.push(cc.v2(e+1,t-1)))),n},update:function(e){f&&(3!=A.GameModeIndex&&(p+=e),p>m&&(m>5&&(m-=.5),this.Grow(1),p=0),this.refreshProgressing())},refreshProgressing:function(){var e=1-p/m;this.leftProgress.progress=e,this.righProgress.progress=e,e<=.4?this.leftProgress.getComponent(cc.Animation).getAnimationState("BarCorlorAni").isPlaying||(this.leftProgress.getComponent(cc.Animation).play(),this.righProgress.getComponent(cc.Animation).play()):this.leftProgress.getComponent(cc.Animation).getAnimationState("BarCorlorAni").isPlaying&&(this.leftProgress.getComponent(cc.Animation).setCurrentTime(0),this.righProgress.getComponent(cc.Animation).setCurrentTime(0),this.leftProgress.getComponent(cc.Animation).stop(),this.righProgress.getComponent(cc.Animation).stop())},pauseGameFunc:function(){this.gameBody.pauseSystemEvents(),f=!1},resumeGameFunc:function(){this.gameBody.resumeSystemEvents(),f=!0},GameNoPlayClick:function(){cc.Mgr.AudioMgr.playSFX("click"),this.gameBody.active=!1,this.hallLayer.node.active=!0,this.hallLayer.ShowLayer(),this.quitLayer.node.active=!1,this.pauseGameFunc(),y=!1,this.guideLayer.node.active=!1},GameWrongClickFun:function(){cc.Mgr.AudioMgr.playSFX("click"),this.quitLayer.node.active=!1,cc.Mgr.AdsMgr.HideBannerAd(),this.resumeGameFunc()},GameQuitClick:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.AdsMgr.RecoverShowBanner(),this.quitLayer.node.active=!0,cc.Mgr.AdsMgr.ShowInsertAds(2),this.pauseGameFunc()},GamePauseClick:function(){this.pauseGameFunc()},setIsShareing:function(){w+=1},getIsShareing:function(){return w},getSpwanMaxTimes:function(){var e=this;0!=cc.Mgr.Global.openAds?(this.pauseGameFunc(),cc.Mgr.AdsMgr.ShowVideoAds(4,function(t){e.resumeGameFunc(),0==t&&(cc.Mgr.PlatformController.showToast("\u83b7\u5f97\u8fde\u7eed\u4e24\u6b21\u4e0b\u4e00\u4e2a\u7403\u4e3a2048\u673a\u4f1a"),v=2)})):cc.Mgr.PlatformController.showToast("\u8be5\u529f\u80fd\u6682\u672a\u5f00\u653e")}});t.exports=I,cc._RF.pop()},{AudiuControl:"AudiuControl",EndResultLayer:"EndResultLayer",GameQuitLayer:"GameQuitLayer",GuideLayer:"GuideLayer",Hall:"Hall"}],Global:[function(e,t,o){"use strict";cc._RF.push(t,"725e5ScW7RGc6z1Cd4bRnWK","Global");var n=cc.Class({statics:{screenStartTime:0,openAds:!0,InitData:function(){}}});t.exports=n,cc._RF.pop()},{}],GuideLayer:[function(e,t,o){"use strict";cc._RF.push(t,"dbf84c/eWxHtKlUqziqUYmE","GuideLayer");var n=cc.Class({extends:cc.Component,properties:{guideAni:cc.Animation},ShowLayer:function(e){this.guideAni.node.active=!0,this.guideAni.play()},CloseLayer:function(){this.guideAni.node.active=!1,this.guideAni.stop()}});t.exports=n,cc._RF.pop()},{}],Hall_GiftLayer:[function(e,t,o){"use strict";cc._RF.push(t,"b89d2ZUyuVNXb9w+0S1ydKI","Hall_GiftLayer");e("AudiuControl");var n=cc.Class({extends:cc.Component,properties:{},start:function(){},closeCall:function(){}});t.exports=n,cc._RF.pop()},{AudiuControl:"AudiuControl"}],Hall:[function(e,t,o){"use strict";cc._RF.push(t,"8b7f3vmamVEeoMHNXXszBU0","Hall");e("AudiuControl");var n=e("GameModeLayer"),i=e("SuitLayer"),c=e("Rank"),r=null,s=cc.Class({extends:cc.Component,properties:{gameMode:n,animaRoot:cc.Animation,gameHighScore:cc.Label,coinLbl:cc.Label,suitLayer:i,rankLayer:c},onLoad:function(){r=this},start:function(){this.sharebutton=null,this.suitLayer.refreshLockState()},ShowLayer:function(){this.gameHighScore.string=cc.Mgr.UserData.getHighScore(),this.coinLbl.string=cc.Mgr.UserData.getCoinNum()},playGameClick:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.director.emit("ResetGame",{}),this.node.active=!1},SuitClick:function(){cc.Mgr.AudioMgr.playSFX("click"),this.suitLayer.node.active=!0,this.suitLayer.refreshLockState()},SoundClick:function(e,t){e.isChecked?cc.Mgr.AudioMgr.resumeAll():cc.Mgr.AudioMgr.pauseAll()},MoreGameClick:function(){cc.Mgr.AudioMgr.playSFX("click"),this.gameMode.node.active=!0,this.gameMode.initMaxScoreLabel()},onEnable:function(){this.animaRoot.play()},onDisable:function(){this.animaRoot.stop()},OpenRankPanel:function(){cc.Mgr.AdsMgr.RecoverShowBanner(),"tt"!=cc.Mgr.PlatformController.platform?"baidu"!=cc.Mgr.PlatformController.platform||cc.Mgr.PlatformController.IsLoginSync()?(this.rankLayer.node.active=!0,cc.Mgr.PlatformController.SendMessageToSubView("RankPanelOpen")):cc.log("\u8bf7\u5148\u767b\u5f55\u624b\u673a\u767e\u5ea6"):cc.Mgr.PlatformController.showToast("\u6392\u884c\u699c\u529f\u80fd\u6682\u672a\u5f00\u653e")},JustGetCoin:function(){0!=cc.Mgr.Global.openAds?cc.Mgr.AdsMgr.ShowVideoAds(1,function(e){0==e&&(cc.Mgr.UserData.coin+=500,cc.Mgr.PlatformController.showToast("\u606d\u559c\u83b7\u5f97500\u91d1\u5e01"),cc.Mgr.UserData.SaveData(),r.coinLbl.string=cc.Mgr.UserData.getCoinNum())}):cc.Mgr.PlatformController.showToast("\u8be5\u529f\u80fd\u6682\u672a\u5f00\u653e")}});t.exports=s,cc._RF.pop()},{AudiuControl:"AudiuControl",GameModeLayer:"GameModeLayer",Rank:"Rank",SuitLayer:"SuitLayer"}],JumpAppPanel:[function(e,t,o){"use strict";cc._RF.push(t,"94f9cocJg9NgYSGawedAzuh","JumpAppPanel");var n=cc.Class({extends:cc.Component,properties:{anima:cc.Animation},showPanel:function(){this.anima.play("jumpAppOut")},closePanel:function(){this.anima.play("jumpAppBack")},FinishOut:function(){this.node.active=!1},jumpAppOne:function(){cc.Mgr.PlatformController.JumpToOtherApp("wxd56975252f9fcf2c")},jumpAppTwo:function(){cc.Mgr.PlatformController.JumpToOtherApp("wxacaa8f3fc62bd8fd")}});t.exports=n,cc._RF.pop()},{}],PauseLayer:[function(e,t,o){"use strict";cc._RF.push(t,"d7849hMQnFBRZ6cH4FqnHDP","PauseLayer");var n=cc.Class({extends:cc.Component,properties:{}});t.exports=n,cc._RF.pop()},{}],PlatformController:[function(e,t,o){"use strict";cc._RF.push(t,"14759KM7UND6qDYXLeSI+QE","PlatformController");var n=cc.Class({statics:{IsScreenRecord:!1,wxSubContextViewLock:0,platform:"uc",Init:function(){},IsLoginSync:function(){return"baidu"!=this.platform||!!swan.isLoginSync().isLogin&&(console.log("\u5df2\u7ecf\u6709\u767b\u9646\u4e86"),!0)},CheckTTSession:function(e){tt.checkSession({success:function(t){e(!0),console.log("session\u672a\u8fc7\u671f")},fail:function(t){console.log("session\u5df2\u8fc7\u671f\uff0c\u9700\u8981\u91cd\u65b0\u767b\u5f55"),e(!1)}})},Login:function(){var e=this;"baidu"==this.platform?swan.login({success:function(){e.setUserCloudStorage(cc.Mgr.UserData.getHighScore())},fail:function(){swan.showModal({title:"\u767b\u5f55\u5931\u8d25",content:"\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f",cancelText:"\u9000\u51fa\u6e38\u620f",success:function(t){t.confirm?(console.log("\u70b9\u51fb\u4e86\u786e\u5b9a"),e.Login()):t.cancel&&(console.log("\u70b9\u51fb\u4e86\u53d6\u6d88"),swan.exit())}})}}):"tt"==this.platform&&tt.login({success:function(){e.setUserCloudStorage(cc.Mgr.UserDataMgr.HistoryHighAssets)},fail:function(){tt.showModal({title:"\u767b\u5f55\u5931\u8d25",content:"\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f",cancelText:"\u9000\u51fa\u6e38\u620f",success:function(t){t.confirm?(console.log("\u70b9\u51fb\u4e86\u786e\u5b9a"),e.Login()):t.cancel&&(console.log("\u70b9\u51fb\u4e86\u53d6\u6d88"),tt.exitMiniProgram({}))}})}})},CreateGameClub:function(){if("wx"==this.platform){var e=cc.view.getVisibleSize(),t=68/e.width,o=275/e.height,n=wx.getSystemInfoSync();this.leftPos=n.windowWidth*t,this.topPos=n.windowHeight*o,console.log(this.topPos+"  ================\u521b\u5efa\u6e38\u620f\u5708\u6309\u94ae==============="+this.leftPos);this.gameClubBtn=wx.createGameClubButton({icon:"green",text:"\u6e38\u620f\u5708",style:{left:this.leftPos-20,top:this.topPos-20,width:45,height:45}})}},ShowClubButton:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"wx"==this.platform&&null!=this.gameClubBtn&&(1==e?this.gameClubBtn.show():this.gameClubBtn.hide())},ShareTopNav:function(){var e=Math.floor(4*Math.random()),t=cc.Mgr.ShareInfos.getShareInfos(e);"wx"==this.platform?(wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:t.text,imageUrl:t.url}})):"tt"==this.platform?(tt.showShareMenu(!1),tt.onShareAppMessage(function(){return{title:t.text,imageUrl:t.url}})):"baidu"==this.platform&&(swan.showShareMenu(!1),swan.onShareAppMessage(function(){return{title:t.text,imageUrl:t.url}}))},ShareToFriendTxt:function(e){"wx"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),wx.shareAppMessage({title:e})):"tt"==this.platform?tt.shareAppMessage({title:e}):"baidu"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),swan.shareAppMessage({title:e})):"uc"==this.platform&&uc.shareAppMessage({title:e,imageUrl:info.url,query:"",success:function(e){console.log("shareAppMessage share success",JSON.stringify(e))},fail:function(e){console.log("shareAppMessage share fail",JSON.stringify(e))}})},ShareToFriend:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.cb=null;var o=this;this.cb=t;var n=cc.Mgr.ShareInfos.getShareInfos(e);"wx"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),wx.shareAppMessage({title:n.text,imageUrl:n.url})):"tt"==this.platform?tt.shareAppMessage({title:n.text,imageUrl:n.url,success:function(){null!=o.cb&&o.cb(0)},fail:function(e){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}}):"baidu"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),swan.shareAppMessage({title:n.text,imageUrl:n.url,success:function(){null!=o.cb&&o.cb(0)},fail:function(e){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25")}})):"uc"==this.platform&&uc.shareAppMessage({title:n.text,imageUrl:n.url,query:"",success:function(e){console.log("shareAppMessage share success",JSON.stringify(e))},fail:function(e){console.log("shareAppMessage share fail",JSON.stringify(e))}})},showToast:function(e){cc.log(e),"wx"==this.platform?wx.showToast({title:e,icon:"none",duration:2e3}):"tt"==this.platform?tt.showToast({title:e,icon:"none",duration:2e3}):"baidu"==this.platform&&swan.showToast({title:e,icon:"none",duration:2e3})},setUserCloudStorage:function(e){var t,o;(console.log("setUserCloudStorage socre = "+e),"wx"==this.platform)&&((t={wxgame:{}}).wxgame.score=e,t.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(t)),(o=new Array).push({key:"\bjzScore",value:JSON.stringify(t)}),wx.setUserCloudStorage({KVDataList:o,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail : "+e)}}));"baidu"==this.platform&&((t={wxgame:{}}).wxgame.score=e,t.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(t)),(o=new Array).push({key:"\bjzScore",value:JSON.stringify(t)}),swan.setUserCloudStorage({KVDataList:o,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail : "+e)}}))},IsSupportRank:function(){return"wx"==this.platform},showSubContentView:function(){"wx"==this.platform&&(this.wxSubContextViewLock++,console.log("showSubContentView   "+this.wxSubContextViewLock))},hideSubContentView:function(){"wx"==this.platform&&(this.wxSubContextViewLock--,console.log("hideSubContentView   "+this.wxSubContextViewLock))},SendMessageToSubView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o={};o.code=e,o.curScore=t,"wx"==this.platform?wx.getOpenDataContext().postMessage({message:o}):"baidu"==this.platform&&swan.getOpenDataContext().postMessage({message:o})},QuakeScreen:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];"pc"!=this.platform&&(1==e?"tt"==this.platform?tt.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"baidu"==this.platform?swan.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"wx"==this.platform&&wx.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"tt"==this.platform?tt.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"baidu"==this.platform?swan.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"wx"==this.platform&&wx.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}))},IsSupportRecordScreen:function(){return"tt"==this.platform||"baidu"==this.platform&&!!this.CompareSdkVesrion(swan.getSystemInfoSync().SDKVersion,"1.4.1")},CompareSdkVesrion:function(e,t){for(var o=e.split("."),n=t.split("."),i=0;i<o.length;i++){if(parseInt(o[i])<parseInt(n[i]))return 0;if(parseInt(o[i])>parseInt(n[i]))return 1}return 1},StartRecordScreen:function(){var e=this;this.videoPath="",this.IsScreenRecord=!0,this.showToast("\u5f00\u59cb\u5f55\u5236"),cc.Mgr.Global.screenStartTime=cc.Mgr.Utils.GetSysTime(),"tt"==this.platform?(null==this.recorderManager&&(this.recorderManager=tt.getGameRecorderManager(),this.recorderManager.onStart(function(e){console.log("\u5f55\u5236\u5f00\u59cb\u4e86: "+e)}),this.recorderManager.onStop(function(t){e.showToast("\u7ed3\u675f\u5f55\u5236"),console.log("\u5f55\u5236\u7ed3\u675f\u4e86: "+t.videoPath),e.IsScreenRecord=!1,cc.director.emit("ScreenOver",{}),e.videoPath=t.videoPath,e.ShareRecordScreen()}),this.recorderManager.onPause(function(){console.log("\u5f55\u5236\u6682\u505c\u4e86")}),this.recorderManager.onResume(function(){console.log("\u5f55\u5236\u6062\u590d\u4e86")}),this.recorderManager.onError(function(t){console.log("\u5f55\u5236\u51fa\u9519\u4e86:"+t),e.IsScreenRecord=!1})),this.recorderManager.start({duration:30})):"baidu"==this.platform&&(null==this.recorderManager&&(this.recorderManager=swan.getVideoRecorderManager(),this.recorderManager.onStart(function(e){console.log("\u5f55\u5236\u5f00\u59cb\u4e86: "+e)}),this.recorderManager.onStop(function(t){console.log("\u5f55\u5236\u7ed3\u675f\u4e86: "+t.videoPath),e.IsScreenRecord=!1,e.videoPath=t.videoPath,cc.director.emit("ScreenOver",{}),e.ShareRecordScreen()}),this.recorderManager.onPause(function(){console.log("\u5f55\u5236\u6682\u505c\u4e86")}),this.recorderManager.onResume(function(){console.log("\u5f55\u5236\u6062\u590d\u4e86")}),this.recorderManager.onError(function(t){console.log("\u5f55\u5236\u51fa\u9519\u4e86:"+t),e.IsScreenRecord=!1})),this.recorderManager.start({duration:30,microphoneEnabled:!0}))},StopRecordScreen:function(){if(this.IsScreenRecord=!1,"tt"==this.platform){if(null==this.recorderManager)return;console.log("\u505c\u6b62\u5f55\u5236"),this.recorderManager.stop()}else if("baidu"==this.platform){if(null==this.recorderManager)return;console.log("\u505c\u6b62\u5f55\u5236"),this.recorderManager.stop()}},ShareRecordScreen:function(){var e=this;if(cc.Mgr.Utils.GetSysTime()-cc.Mgr.Global.screenStartTime<=3)return cc.Mgr.Global.screenStartTime=0,this.showToast("\u5f55\u5236\u65f6\u95f4\u5c11\u4e8e\u4e09\u79d2,\u672a\u80fd\u6210\u529f\u4fdd\u5b58\u89c6\u9891"),void cc.director.emit("ShareVideoOver",{resumeNow:!0});if(this.showToast("\u7ed3\u675f\u5f55\u5c4f"),"tt"==this.platform){if(null==this.recorderManager||""==this.videoPath)return;console.log("\u5206\u4eab\u5f55\u5236\u7684\u89c6\u9891"),tt.shareVideo({videoPath:""+this.videoPath,success:function(){e.showToast("\u5206\u4eab\u5f55\u5236\u89c6\u9891\u6210\u529f\uff01")},fail:function(t){e.showToast("\u5206\u4eab\u5f55\u5236\u89c6\u9891\u5931\u8d25\uff01")}})}else if("baidu"==this.platform){if(null==this.recorderManager||null==this.videoPath)return;console.log("\u5206\u4eab\u5f55\u5236\u7684\u89c6\u9891"),swan.shareVideo({videoPath:""+this.videoPath,success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01")},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25\uff01"+e)}})}},JumpToOtherApp:function(e){"wx"==this.platform?wx.navigateToMiniProgram({appId:e,envVersion:"release",success:function(e){console.log("\u6210\u529f\u6253\u5f00\u4e86\u5176\u4ed6\u5c0f\u7a0b\u5e8f")}}):"baidu"==this.platform?swan.navigateToMiniProgram({appKey:e,extraData:{},success:function(e){console.log("\u767e\u5ea6\u8df3\u8f6c success",e)},fail:function(e){console.log("\u767e\u5ea6\u8df3\u8f6c fail",e)}}):"tt"==this.platform&&tt.navigateToMiniProgram({appId:e,extraData:{},success:function(e){console.log(" success",e)},fail:function(e){console.log(" fail",e)}})}}});t.exports=n,cc._RF.pop()},{}],PosSet:[function(e,t,o){"use strict";cc._RF.push(t,"3bbc4egPvBIm7m7v8tZt8PY","PosSet");var n=cc.Class({extends:cc.Component,properties:{},start:function(){var e=cc.view.getVisibleSize();this.node.x=e.width/2}});t.exports=n,cc._RF.pop()},{}],Rank:[function(e,t,o){"use strict";cc._RF.push(t,"38b0ajjAgdHZo8A6ER02Jtb","Rank");e("AudiuControl");var n=cc.Class({extends:cc.Component,properties:{},onLoad:function(){},start:function(){},ShowNextPage:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowNextPage")},ShowFrontPage:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontPage")},CloseBtnClick:function(){cc.Mgr.AudioMgr.playSFX("click"),cc.Mgr.PlatformController.SendMessageToSubView("CloseAllNodes"),this.node.active=!1}});t.exports=n,cc._RF.pop()},{AudiuControl:"AudiuControl"}],ShareInfos:[function(e,t,o){"use strict";cc._RF.push(t,"747b3uMa71Bx4tK12EFUCkl","ShareInfos");var n=cc.Class({extends:cc.Component,statics:{init:function(){this.Infos=[{text:"\u539f\u67652048\u8fd8\u80fd\u8fd9\u6837\u73a9,\u771f\u7684\u592a\u723d\u4e86",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5qbYINJIyoY5IBhzibWr9fHg9wt6LbOZ69KkicsVBgARRbJUkxnzYPTve/0"},{text:"2048\u53d1\u5c04\uff01\u4e0d\u4e00\u6837\u5f97\u73a9\u6cd5,\u8ba9\u4f60\u4f53\u9a8c\u6700\u597d\u76842048",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5qbYINJIyoY5IBhzibWr9fHg9wt6LbOZ69KkicsVBgARRbJUkxnzYPTve/0"},{text:"\u8fd9\u6050\u6015\u662f\u6211\u73a9\u8fc7\u6700\u597d\u7684\u6ce1\u6ce1\u9f99",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5qbYINJIyoY5IBhzibWr9fHg9wt6LbOZ69KkicsVBgARRbJUkxnzYPTve/0"},{text:"\u539f\u67652048\u8fd8\u80fd\u8fd9\u6837\u73a9,\u771f\u7684\u592a\u723d\u4e86",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5qbYINJIyoY5IBhzibWr9fHg9wt6LbOZ69KkicsVBgARRbJUkxnzYPTve/0"}]},getShareInfos:function(e){return this.Infos[e]}}});t.exports=n,cc._RF.pop()},{}],SubMainScript:[function(e,t,o){"use strict";cc._RF.push(t,"141a5hmLbNHFLqN84UuBcSY","SubMainScript");e("AudiuControl");cc.Class({extends:cc.Component,properties:{rankingScrollView:cc.Sprite},start:function(){0},_updateSubDomainCanvas:function(){void 0!=window.sharedCanvas&&(this.tex.initWithElement(window.sharedCanvas),this.tex.handleLoadedTexture(),this.rankingScrollView.spriteFrame=new cc.SpriteFrame(this.tex))},update:function(e){this._updateSubDomainCanvas()}}),cc._RF.pop()},{AudiuControl:"AudiuControl"}],SuitLayer:[function(e,t,o){"use strict";cc._RF.push(t,"26df8tzSEhD0rb/rK0n0+XX","SuitLayer");var n=e("AudiuControl"),i=[1],c=e("SuitUnLockLayer"),r=cc.Class({extends:cc.Component,properties:{SuitUnLockLayer:c,openIndex:1,NotfirstOpen:!1},onLoad:function(){this.selectSuit=n.SuitIndex,this.Selected(this.selectSuit)},refreshLockState:function(){0==this.NotfirstOpen&&(i.push(1),cc.Mgr.UserData.playTimes>=2&&i.push(2),cc.Mgr.UserData.playTimes>=5&&i.push(3),cc.Mgr.UserData.playTimes>=10&&i.push(4),cc.Mgr.UserData.coin>=1e5&&i.push(5),cc.Mgr.UserData.coin>=2e5&&i.push(6),this.NotfirstOpen=!0);for(var e=1;e<7;e++)for(var t=0;t<i.length;t++){if(i[t]==e)this.node.getChildByName("Suit_Select"+e).getChildByName("Suit_Lock").active=!1}},AdsUnLock:function(){var e=this;cc.Mgr.AdsMgr.ShowVideoAds(1,function(t){0==t&&(e.SuitUnLockLayer.node.active=!1,i.push(e.openIndex),e.refreshLockState())})},start:function(){},Selected:function(e){for(var t=1;t<7;t++){var o;if(t==e)cc.Mgr.AudioMgr.playSFX("click"),(o=this.node.getChildByName("Suit_Select"+t)).getChildByName("Suit_Nike").active=!0,o.x=50,this.selectSuit=t;else(o=this.node.getChildByName("Suit_Select"+t)).getChildByName("Suit_Nike").active=!1,o.x=0}},isCanSelect:function(e){for(var t=0;t<i.length;t++)if(i[t]==e)return!0;return!1},suit1Click:function(){this.isCanSelect(1)?this.Selected(1):(this.SuitUnLockLayer.node.active=!0,this.SuitUnLockLayer.initWithTag(1),this.openIndex=1)},suit2Click:function(){this.isCanSelect(2)?this.Selected(2):(this.SuitUnLockLayer.node.active=!0,this.SuitUnLockLayer.initWithTag(2),this.openIndex=2)},suit3Click:function(){this.isCanSelect(3)?this.Selected(3):(this.SuitUnLockLayer.node.active=!0,this.SuitUnLockLayer.initWithTag(3),this.openIndex=3)},suit4Click:function(){this.isCanSelect(4)?this.Selected(4):(this.SuitUnLockLayer.node.active=!0,this.SuitUnLockLayer.initWithTag(4),this.openIndex=4)},suit5Click:function(){this.isCanSelect(5)?this.Selected(5):(this.SuitUnLockLayer.node.active=!0,this.SuitUnLockLayer.initWithTag(5),this.openIndex=5)},suit6Click:function(){this.isCanSelect(6)?this.Selected(6):(this.SuitUnLockLayer.node.active=!0,this.SuitUnLockLayer.initWithTag(6),this.openIndex=6)},CheckBtnClick:function(){cc.Mgr.AudioMgr.playSFX("click"),this.node.active=!1,n.SuitIndex=this.selectSuit}});t.exports=r,cc._RF.pop()},{AudiuControl:"AudiuControl",SuitUnLockLayer:"SuitUnLockLayer"}],SuitUnLockLayer:[function(e,t,o){"use strict";cc._RF.push(t,"a5113f+G9JGOruvZ+tKKn0T","SuitUnLockLayer");var n=e("AudiuControl");cc.Class({extends:cc.Component,properties:{bigAtlas:cc.SpriteAtlas,LockDisplaySp:cc.Sprite,GuiZeTxtLabel:cc.Label,SuitUnLockPercentLabel:cc.Label,SuitUnLockProgress:cc.ProgressBar},start:function(){},initWithTag:function(e){if(this.LockDisplaySp.spriteFrame=this.bigAtlas.getSpriteFrame("Suit"+e),1==e)this.SuitUnLockPercentLabel.string="",this.SuitUnLockProgress.progress=0;else if(2==e)this.GuiZeTxtLabel.string="\u5b8c\u6210\u4e24\u6b21\u6e38\u620f",this.SuitUnLockPercentLabel.string="1/2",this.SuitUnLockProgress.progress=.5;else if(3==e){this.GuiZeTxtLabel.string="\u5b8c\u6210\u4e8c\u5341\u6b21\u6e38\u620f",this.SuitUnLockPercentLabel.string=cc.Mgr.UserData.playTimes+"/20";var t=cc.Mgr.UserData.playTimes/20;this.SuitUnLockProgress.progress=t}else if(4==e){this.GuiZeTxtLabel.string="\u5b8c\u6210\u4e94\u5341\u6b21\u6e38\u620f",this.SuitUnLockPercentLabel.string=cc.Mgr.UserData.playTimes+"/50";t=cc.Mgr.UserData.playTimes/50;this.SuitUnLockProgress.progress=t}else if(5==e){this.GuiZeTxtLabel.string="\u83b7\u5f97\u91d1\u5e01\u8fbe\u52301000000",this.SuitUnLockPercentLabel.string=cc.Mgr.UserData.coin+"/1000000";t=cc.Mgr.UserData.coin/1e6;this.SuitUnLockProgress.progress=t}else if(6==e){this.GuiZeTxtLabel.string="\u83b7\u5f97\u91d1\u5e01\u8fbe\u52302000000",this.SuitUnLockPercentLabel.string=cc.Mgr.UserData.coin+"/2000000";t=cc.Mgr.UserData.coin/2e6;this.SuitUnLockProgress.progress=t}},checkClickF:function(){cc.audioEngine.play(this.circleTouchAudio,!1,n.SoundVolum),this.node.active=!1}}),cc._RF.pop()},{AudiuControl:"AudiuControl"}],UIMgr:[function(e,t,o){"use strict";cc._RF.push(t,"00a15z2Mj9HiajzEaXr1pzi","UIMgr");var n=e("Hall"),i=e("JumpAppPanel"),c=null;cc.Class({extends:cc.Component,properties:{Atlas:cc.SpriteAtlas,hallLayer:n,screenSpA:cc.Sprite,screenSpB:cc.Sprite,jumpApp:i},onLoad:function(){c=this},start:function(){this.SetScreenSps(),cc.director.on("ScreenOver",function(e){c.SetScreenSps()})},ShareGame:function(){var e=Math.floor(2*Math.random());cc.Mgr.PlatformController.ShareToFriend(e)},SetScreenSps:function(){0==cc.Mgr.PlatformController.IsScreenRecord?(this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_off"),this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("luping_off")):(this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_on"),this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("luping_on"))},ScreenRecord:function(){cc.Mgr.AudioMgr.playSFX("click"),0==cc.Mgr.PlatformController.IsScreenRecord?(cc.Mgr.PlatformController.StartRecordScreen(),this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_on"),this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("luping_on")):(cc.Mgr.PlatformController.StopRecordScreen(),this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_off"),this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("luping_off"))},JumpApp:function(){cc.Mgr.PlatformController.JumpToOtherApp("wxacaa8f3fc62bd8fd")},OpenJumpAppPanel:function(){this.jumpApp.node.active=!0,this.jumpApp.showPanel()}});cc._RF.pop()},{Hall:"Hall",JumpAppPanel:"JumpAppPanel"}],UserData:[function(e,t,o){"use strict";cc._RF.push(t,"06b3cYo0dFGSqOoneL+jgZQ","UserData");e("Global");var n=cc.Class({extends:cc.Component,properties:{modeAscore:0,modeBscore:0,modeCscore:0,hasGetSkin1:!1,hasGetSkin2:!1,hasGetSkin3:!1,hasGetSkin4:!1,hasGetSkin5:!1,hasGetSkin6:!1,coin:0,playTimes:0},initData:function(){var e=cc.sys.localStorage.getItem("pp_userdata");if(null!=e&&""!=e){console.log("\u5e72\uff0c\u6709\u6570\u636e");var t=JSON.parse(e);this.modeAscore=t.modeAscore,this.modeBscore=t.modeBscore,this.modeCscore=t.modeCscore,this.hasGetSkin1=t.hasGetSkin1,this.hasGetSkin2=t.hasGetSkin2,this.hasGetSkin3=t.hasGetSkin3,this.hasGetSkin4=t.hasGetSkin4,this.hasGetSkin5=t.hasGetSkin5,this.hasGetSkin6=t.hasGetSkin6,this.playTimes=t.playTimes,this.coin=t.coin,cc.log("\u6570\u636e = "+JSON.stringify(e))}else{console.log("\u5e72\uff0c\u4e4b\u524d\u6ca1\u6709\u6570\u636e");var o={};this.modeAscore=0,this.modeBscore=0,this.modeCscore=0,this.coin=0,this.hasGetSkin1=!1,this.hasGetSkin2=!1,this.hasGetSkin3=!1,this.hasGetSkin4=!1,this.hasGetSkin5=!1,this.hasGetSkin6=!1,this.playTimes=0,o.modeAscore=0,o.modeBscore=0,o.modeCscore=0,o.coin=0,o.playTimes=0,o.hasGetSkin6=!1,o.hasGetSkin5=!1,o.hasGetSkin4=!1,o.hasGetSkin3=!1,o.hasGetSkin2=!1,o.hasGetSkin1=!1,cc.sys.localStorage.setItem("pp_userdata",JSON.stringify(o))}},SaveData:function(){var e={};e.modeAscore=this.modeAscore,e.modeBscore=this.modeBscore,e.modeCscore=this.modeCscore,e.coin=this.coin,e.hasGetSkin6=this.hasGetSkin6,e.hasGetSkin5=this.hasGetSkin5,e.hasGetSkin4=this.hasGetSkin4,e.hasGetSkin3=this.hasGetSkin3,e.hasGetSkin2=this.hasGetSkin2,e.hasGetSkin1=this.hasGetSkin1,e.playTimes=this.playTimes,cc.sys.localStorage.setItem("pp_userdata",JSON.stringify(e))},getCoinNum:function(){return this.coin},getHighScore:function(){var e=[this.modeAscore,this.modeBscore,this.modeCscore];return e.sort(function(e,t){return t-e}),e[0]}});t.exports=n,cc._RF.pop()},{Global:"Global"}],Utils:[function(e,t,o){"use strict";cc._RF.push(t,"bf1369y7hhK2KkF7G5UDyqW","Utils");var n=cc.Class({extends:cc.Component,statics:{FormatNumToTime:function(e){var t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60),n=Math.floor(e-3600*t-60*o),i=t,c=o,r=n;return t<10&&(i="0"+t),o<10&&(c="0"+o),n<10&&(r="0"+n),i+":"+c+":"+r},GetSysTime:function(){return Math.round(new Date/1e3)-1545264e3}}});t.exports=n,cc._RF.pop()},{}]},{},["AppStart","AudioMgr","AudiuControl","EndResultLayer","Game","GameModeLayer","GameQuitLayer","GameResultLayer","Global","GuideLayer","Hall","Hall_GiftLayer","JumpAppPanel","PauseLayer","PosSet","Rank","SubMainScript","SuitLayer","SuitUnLockLayer","UIMgr","UserData","Utils","AdsMgr","AdsParam","PlatformController","ShareInfos"]);