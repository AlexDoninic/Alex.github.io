window.__require=function e(t,o,i){function n(r,a){if(!o[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!a&&l)return l(c,!0);if(s)return s(c,!0);throw new Error("Cannot find module '"+r+"'")}}var h=o[r]={exports:{}};t[r][0].call(h.exports,function(e){return n(t[r][1][e]||e)},h,h.exports,e,t,o,i)}return o[r].exports}for(var s="function"==typeof __require&&__require,r=0;r<i.length;r++)n(i[r]);return n}({AdsMgr:[function(e,t,o){"use strict";cc._RF.push(t,"f5d07bLhSRFwpkOfkwHMju/","AdsMgr");var i=e("AdsParam"),n=cc.Class({statics:{openAds:!0,platform:"uc",wxAppId:"",bdAppId:"",ttAppId:"",bannerId_uc:"466581985",ucVideoId:"132387847",bannerId_baidu:"",bannerId_wx:"adunit-068ca904a63c571d",bannerId_tt:"48m51jjkkhba4bm915",bannerId_qq:"48m51jjkkhba4bm915",insertId_wx_1:"adunit-3ca284c727559731",insertId_wx_2:"adunit-99ac89a904bdd337",insertId_qq_1:"adunit-3ca284c727559731",insertId_qq_2:"adunit-99ac89a904bdd337",bdVideoId_1:"",bdVideoId_2:"",bdVideoId_3:"",bdVideoId_4:"",bdVideoId_5:"",bdVideoId_6:"",bdVideoId_7:"",bdVideoId_8:"",bdVideoId_9:"",bdVideoId_10:"",wxVideoId_1:"adunit-84caca42d00167cd",wxVideoId_2:"adunit-d23a4dc42e147ee9",wxVideoId_3:"adunit-5ce4827ead730f9f",wxVideoId_4:"adunit-bbfa3e7a97fe68b8",wxVideoId_5:"adunit-1f599c0d7b4f4084",wxVideoId_6:"adunit-199066890e5a5ae1",wxVideoId_7:"adunit-a8cf91a589cfe744",wxVideoId_8:"adunit-5ff2910c9d66fda2",wxVideoId_9:"",wxVideoId_10:"",ttVideoId_1:"57we1h5gw9t98fdijc",ttVideoId_2:"b3h6os9egn1n8f5yl1",ttVideoId_3:"5761bbii51k4hfdb1l",ttVideoId_4:"39blffi89afh3fochm",ttVideoId_5:"1q7r863hrlcfgm8gcg",ttVideoId_6:"3l4bdlqbr4cc9s6pta",ttVideoId_7:"t9d21titan87p72jme",ttVideoId_8:"k56o7lem7o51ef9e9d",ttVideoId_9:"",ttVideoId_10:"",qqVideoId_1:"57we1h5gw9t98fdijc",qqVideoId_2:"b3h6os9egn1n8f5yl1",qqVideoId_3:"5761bbii51k4hfdb1l",qqVideoId_4:"39blffi89afh3fochm",qqVideoId_5:"1q7r863hrlcfgm8gcg",qqVideoId_6:"3l4bdlqbr4cc9s6pta",qqVideoId_7:"t9d21titan87p72jme",qqVideoId_8:"k56o7lem7o51ef9e9d",qqVideoId_9:"",qqVideoId_10:"",resizeTime:0,allScreen:!1,Init:function(){console.log("\u9009\u62e9\u5e73\u53f0 = "+this.platform),this.allScreen=!1},getBannerAdId:function(){return"wx"==this.platform?this.bannerId_wx:"baidu"==this.platform?this.bannerId_baidu:"qq"==this.platform?this.bannerId_qq:"tt"==this.platform?this.bannerId_tt:"uc"==this.platform?this.bannerId_uc:null},getInsertAdId:function(e){if("wx"==this.platform){if(1==e)return this.insertId_wx_1;if(2==e)return this.insertId_wx_2}else if("qq"==this.platform){if(1==e)return this.insertId_qq_1;if(2==e)return this.insertId_qq_2}else"baidu"==this.platform||this.platform;return null},getVideoAdId:function(e){var t;if("wx"==this.platform)switch(e){case i.PointA:t=this.wxVideoId_1;break;case i.PointB:t=this.wxVideoId_2;break;case i.PointC:t=this.wxVideoId_3;break;case i.PointD:t=this.wxVideoId_4;break;case i.PointE:t=this.wxVideoId_5;break;case i.PointF:t=this.wxVideoId_6;break;case i.PointG:t=this.wxVideoId_7;break;case i.PointH:t=this.wxVideoId_8;break;case i.PointI:t=this.wxVideoId_9;break;case i.PointJ:t=this.wxVideoId_10}else if("qq"==this.platform)switch(e){case i.PointA:t=this.qqVideoId_1;break;case i.PointB:t=this.qqVideoId_2;break;case i.PointC:t=this.qqVideoId_3;break;case i.PointD:t=this.qqVideoId_4;break;case i.PointE:t=this.qqVideoId_5;break;case i.PointF:t=this.qqVideoId_6;break;case i.PointG:t=this.qqVideoId_7;break;case i.PointH:t=this.qqVideoId_8;break;case i.PointI:t=this.qqVideoId_9;break;case i.PointJ:t=this.qqVideoId_10}else if("baidu"==this.platform)switch(e){case i.PointA:t=this.bdVideoId_1;break;case i.PointB:t=this.bdVideoId_2;break;case i.PointC:t=this.bdVideoId_3;break;case i.PointD:t=this.bdVideoId_4;break;case i.PointE:t=this.bdVideoId_5;break;case i.PointF:t=this.bdVideoId_6;break;case i.PointG:t=this.bdVideoId_7;break;case i.PointH:t=this.bdVideoId_8;break;case i.PointI:t=this.bdVideoId_9;break;case i.PointJ:t=this.bdVideoId_10}else if("tt"==this.platform)switch(e){case i.PointA:t=this.ttVideoId_1;break;case i.PointB:t=this.ttVideoId_2;break;case i.PointC:t=this.ttVideoId_3;break;case i.PointD:t=this.ttVideoId_4;break;case i.PointE:t=this.ttVideoId_5;break;case i.PointF:t=this.ttVideoId_6;break;case i.PointG:t=this.ttVideoId_7;break;case i.PointH:t=this.ttVideoId_8;break;case i.PointI:t=this.ttVideoId_9;break;case i.PointJ:t=this.ttVideoId_10}return t},ShowBannerAds:function(){var e=this;if(0!=this.openAds){var t=this;if(this.resizeTime=0,"wx"==this.platform){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var o={};o.W=wx.getSystemInfoSync().windowWidth,o.H=wx.getSystemInfoSync().windowHeight;var i=0;i=this.allScreen?o.W:300,this.bannerAdCtrl=wx.createBannerAd({adUnitId:this.getBannerAdId(),style:{left:0,top:0,width:i}}),this.bannerAdCtrl.onResize(function(e){console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "+o.H+" , "+t.bannerAdCtrl.style.realHeight),t.bannerAdCtrl.style.top=o.H-t.bannerAdCtrl.style.realHeight,t.bannerAdCtrl.style.left=(o.W-t.bannerAdCtrl.style.realWidth)/2,t.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("qq"==this.platform){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var n={};n.W=qq.getSystemInfoSync().windowWidth,n.H=qq.getSystemInfoSync().windowHeight;var s=0;s=this.allScreen?n.W:320,this.bannerAdCtrl=qq.createBannerAd({adUnitId:t.getBannerAdId(),style:{left:(n.W-320)/2,top:n.H-77,width:s}}),this.bannerAdCtrl.onResize(function(o){console.log("\u5e73\u53f0\u9009\u62e9 "+qq.getSystemInfoSync().platform),"ios"==qq.getSystemInfoSync().platform||(e.bannerAdCtrl.style.top=n.H-o.height,e.bannerAdCtrl.style.left=(n.W-o.width)/2),console.log("\u91cd\u7f6e\u4f4d\u7f6e =  top = "+e.bannerAdCtrl.style.top+"   left =  "+e.bannerAdCtrl.style.left),t.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("baidu"==this.platform){if("ios"==swan.getSystemInfoSync().platform)return;null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var r={};r.W=swan.getSystemInfoSync().windowWidth,r.H=swan.getSystemInfoSync().windowHeight,console.log("\u767e\u5ea6\u7684 bannerId = "+this.getBannerAdId()),this.bannerAdCtrl=swan.createBannerAd({adUnitId:this.getBannerAdId(),appSid:"c0fb407f",style:{left:0,top:0,width:321}}),this.allScreen?t.bannerAdCtrl.style.width=r.H:t.bannerAdCtrl.style.width=300,this.bannerAdCtrl.onResize(function(e){console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "),t.bannerAdCtrl.style.top=r.H-e.height,t.bannerAdCtrl.style.left=(r.W-e.width)/2,t.bannerAdCtrl.show()}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),t.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("tt"==this.platform){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var a={};a.W=tt.getSystemInfoSync().windowWidth,a.H=tt.getSystemInfoSync().windowHeight,console.log("\u5934\u6761 bannerId = "+this.getBannerAdId()),this.bannerAdCtrl=tt.createBannerAd({adUnitId:this.getBannerAdId(),style:{left:0,top:0,width:321}}),this.allScreen?t.bannerAdCtrl.style.width=a.H:t.bannerAdCtrl.style.width=300,this.bannerAdCtrl.onResize(function(e){t.resizeTime<=5&&(console.log("\u91cd\u7f6e\u5e7f\u544a\u5bbd\u5ea6 "),t.bannerAdCtrl.style.top=a.H-e.height,t.bannerAdCtrl.style.left=(a.W-e.width)/2,t.bannerAdCtrl.show(),t.resizeTime+=1)}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),t.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)}),console.log("\u663e\u793a\u5e7f\u544a")}else if("uc"==this.platform){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy();var c=uc.getSystemInfoSync();this.bannerAdCtrl=uc.createBannerAd({adIntervals:32,style:{width:250*c.pixelRatio,height:0,gravity:7}}),this.bannerAdCtrl.onLoad(function(){console.log(" banner \u52a0\u8f7d\u5b8c\u6210"),t.bannerAdCtrl.show()}),this.bannerAdCtrl.onError(function(e){console.log(e)})}}},HideBannerAd:function(){console.log("\u9690\u85cfbanner"),null!=this.bannerAdCtrl&&this.bannerAdCtrl.hide(),this.DestroyBanner()},RecoverShowBanner:function(){console.log("\u91cd\u5f00banner"),null!=this.bannerAdCtrl?this.bannerAdCtrl.show():this.ShowBannerAds()},DestroyBanner:function(){null!=this.bannerAdCtrl&&this.bannerAdCtrl.destroy(),this.bannerAdCtrl=null},ShowInterstitialAd:function(e){if(0!=this.openAds)if("wx"==this.platform){if(this.CompareSdkVesrion(wx.getSystemInfoSync().SDKVersion,"2.6.0")){var t=wx.createInterstitialAd({adUnitId:this.getInsertAdId(e)});t.onLoad(function(){t.show()}),t.onClose(function(){console.log("\u5173\u95ed\u63d2\u5c4f"),t.offLoad(),t.offError(),t.offClose()}),t.onError(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg+"  "+e.errCode)})}}else"qq"==this.platform||"baidu"==this.platform||this.platform},ShowVideoAds:function(e,t){var o=this;if(0!=this.openAds)if(this.cb=null,this.cb=t,"wx"==this.platform){console.log("\u5fae\u4fe1\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(e));var i=wx.createRewardedVideoAd({adUnitId:this.getVideoAdId(e)});i.load().then(function(){return i.show()}).catch(function(e){return console.log(e.errMsg)}),i.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),i.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),i.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1),i.offLoad(),i.offError(),i.offClose()})}else if("qq"==this.platform){var n=qq.createRewardedVideoAd({adUnitId:self.getVideoAdId(e)});n.load().then(function(){return n.show()}).catch(function(e){return console.log(e.errMsg)}),n.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),n.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),n.onClose(function(t){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+t.isEnded),t.isEnded?cc.Mgr.PlatformController.AldEventStatis("Finish-"+cc.Mgr.global.getVedioRewardName(e),{Reward:"jiba"}):cc.Mgr.PlatformController.AldEventStatis("NotFinish-"+cc.Mgr.global.getVedioRewardName(e),{Reward:"jiba"}),o.cb(t.isEnded?0:1),n.offLoad(),n.offError(),n.offClose()})}else if("baidu"==this.platform){console.log("\u767e\u5ea6\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(e));var s=swan.createRewardedVideoAd({adUnitId:this.getVideoAdId(e),appSid:"ad8b61de"});s.load().then(function(){return s.show()}).catch(function(e){return console.log(e.errMsg)}),s.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),s.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),s.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1),s.offLoad(),s.offError(),s.offClose()})}else if("tt"==this.platform){console.log("\u5934\u6761\u7684\u89c6\u9891\u5e7f\u544a  "+this.getVideoAdId(e));var r=tt.createRewardedVideoAd({adUnitId:this.getVideoAdId(e)});r.load().then(function(){return r.show()}).catch(function(e){return console.log(e.errMsg)}),r.onError(function(e){console.log("\u5e7f\u544a\u52a0\u8f7d\u51fa\u9519 "+e.errMsg),o.cb(-1)}),r.onLoad(function(){console.log("\u52a0\u8f7d\u4e8b\u4ef6\u56de\u8c03")}),r.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1),r.offLoad(),r.offError(),r.offClose()})}else if("uc"==this.platform){var a=uc.createRewardVideoAd();a.load().then(function(){return a.show()}).catch(function(e){return console.log(e.errMsg)}),a.onLoad(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u6210\u529f")}),a.onClose(function(e){console.log("\u662f\u5426\u89c2\u770b\u5b8c\u6574\u4e86 "+e.isEnded),o.cb(e.isEnded?0:1)})}else this.cb(0);else cc.Mgr.PlatformController.showToast("\u5e7f\u544a\u529f\u80fd\u6682\u672a\u5f00\u653e")},CompareSdkVesrion:function(e,t){for(var o=e.split("."),i=t.split("."),n=Math.max(o.length,i.length);o.length<n;)o.push("0");for(;i.length<n;)i.push("0");for(var s=0;s<n;s++){if(parseInt(o[s])<parseInt(i[s]))return 0;if(parseInt(o[s])>parseInt(i[s]))return 1}return 1}}});t.exports=n,cc._RF.pop()},{AdsParam:"AdsParam"}],AdsParam:[function(e,t,o){"use strict";cc._RF.push(t,"0e2c1Mqx69BDIpK5wM6z6HA","AdsParam");var i=cc.Enum({PointA:1,PointB:2,PointC:3,PointD:4,PointE:5,PointF:6,PointG:7,PointH:8,PointI:9,PointJ:10});t.exports=i,cc._RF.pop()},{}],AppStart:[function(e,t,o){"use strict";function i(){cc.Mgr={},cc.Mgr.InitAll=!1;var t=e("AudioMgr");cc.Mgr.AudioMgr=new t,cc.Mgr.AudioMgr.init(),cc.Mgr.Global=e("Global"),cc.Mgr.Global.InitData(),cc.Mgr.Utils=e("Utils");var o=e("DataMapMgr");cc.Mgr.DataMapMgr=new o,cc.Mgr.DataMapMgr.InitMaps();var i=e("UserData");cc.Mgr.UserData=new i,cc.Mgr.AdsMgr=e("AdsMgr"),cc.Mgr.AdsMgr.Init(),cc.Mgr.ShareInfos=e("ShareInfos"),cc.Mgr.ShareInfos.init(),cc.Mgr.PlatformController=e("PlatformController"),cc.Mgr.PlatformController.Init()}cc._RF.push(t,"1857aBD2CxP8r6kveq+KWQN","AppStart");var n=e("UIMgr");cc.Class({extends:cc.Component,properties:{uiMgr:n},onLoad:function(){i();var e=this;cc.director.on("DecoderMapsEnd",function(t){cc.Mgr.Global.RefreshBonusData(),cc.Mgr.UserData.initData(),cc.Mgr.PlatformController.setUserCloudStorage(cc.Mgr.UserData.getHighScore()),e.RefreshUI(),cc.Mgr.InitAll=!0}),cc.Mgr.Utils.GetSysTime()},RefreshUI:function(){this.uiMgr.RefreshUI()},start:function(){cc.Mgr.Global.InitRewardLifeTime(),cc.Mgr.PlatformController.ShareTopNav(),cc.Mgr.AudioMgr.playBGM("bgm"),cc.Mgr.AdsMgr.ShowBannerAds()}}),cc._RF.pop()},{AdsMgr:"AdsMgr",AudioMgr:"AudioMgr",DataMapMgr:"DataMapMgr",Global:"Global",PlatformController:"PlatformController",ShareInfos:"ShareInfos",UIMgr:"UIMgr",UserData:"UserData",Utils:"Utils"}],AudioMgr:[function(e,t,o){"use strict";cc._RF.push(t,"fb34faItr9BNo7ofM1Dk7Xd","AudioMgr");var i=cc.Class({extends:cc.Component,properties:{bgmVolume:.5,sfxVolume:.5,bgmAudioID:-1,sfxAudioID:-1,musicState:1,voiceState:1},init:function(){var e;cc.Mgr.loadSound=!1,null!=(e=cc.sys.localStorage.getItem("bgmVolume"))&&(this.bgmVolume=parseFloat(e)),null!=(e=cc.sys.localStorage.getItem("sfxVolume"))&&(this.sfxVolume=parseFloat(e)),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("cc.audioEngine.pauseAll"),cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){console.log("cc.audioEngine.resumeAll"),cc.audioEngine.resumeAll()})},getUrl:function(e){return cc.url.raw("resources/sound/"+e+".mp3")},playBGM:function(e){var t=this.getUrl(e);this.bgmAudioID>=0&&cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=cc.audioEngine.play(t,!0,this.bgmVolume)},playSFX:function(e){if(0!=this.voiceState){var t=this.getUrl(e);cc.audioEngine.play(t,!1,this.sfxVolume)}},setSFXVolume:function(e){this.sfxVolume!=e&&(cc.sys.localStorage.setItem("sfxVolume",e),this.sfxVolume=e)},setBGMVolume:function(e,t){this.bgmAudioID>=0&&(e>0?cc.audioEngine.resume(this.bgmAudioID):cc.audioEngine.pause(this.bgmAudioID)),(this.bgmVolume!=e||t)&&(cc.sys.localStorage.setItem("bgmVolume",e),this.bgmVolume=e,cc.audioEngine.setVolume(this.bgmAudioID,e))},pauseAll:function(){this.musicState=0,this.voiceState=0,this.bgmVolume=0,this.sfxVolume=0,cc.audioEngine.pauseAll()},resumeAll:function(){this.musicState=1,this.voiceState=1,this.bgmVolume=.5,this.sfxVolume=.5,cc.audioEngine.resumeAll()},pauseMusic:function(){this.musicState=0,this.bgmVolume=0,this.bgmAudioID>=0&&cc.audioEngine.pause(this.bgmAudioID)},resumeMusic:function(){this.musicState=1,this.bgmVolume=.5,this.bgmAudioID>=0&&cc.audioEngine.resume(this.bgmAudioID)},pauseVoice:function(){this.voiceState=0,this.sfxVolume=0},resumeVoice:function(){this.voiceState=1,this.sfxVolume=.5},getMusicState:function(){return this.musicState},getVoiceState:function(){return this.voiceState}});t.exports=i,cc._RF.pop()},{}],BirdVoiceCtrl:[function(e,t,o){"use strict";cc._RF.push(t,"36f07eHlpBG9qlBA2oJXPCk","BirdVoiceCtrl");var i=cc.Class({extends:cc.Component,properties:{AudioCtrl:cc.AudioSource,audioClip_1:{default:null,type:cc.AudioClip},audioClip_2:{default:null,type:cc.AudioClip},lastClip:2},SetData:function(){this.AudioCtrl.volume=.5,this.AudioCtrl.loop=!1},Stop:function(){this.AudioCtrl.volume=0},Resume:function(){this.AudioCtrl.volume=.5},start:function(){this.SetData(),this.schedule(function(){2==this.lastClip?(this.lastClip=1,this.AudioCtrl.clip=this.audioClip_1):(this.lastClip=2,this.AudioCtrl.clip=this.audioClip_2),this.AudioCtrl.play()},15)}});t.exports=i,cc._RF.pop()},{}],BonusType:[function(e,t,o){"use strict";cc._RF.push(t,"dce32AyQ3VKZZwIkBNZ99k4","BonusType");var i=cc.Enum({CoinBonus:1,RuneBonus:2,DiamondBonus:3});t.exports=i,cc._RF.pop()},{}],BoxType:[function(e,t,o){"use strict";cc._RF.push(t,"bc8b6hIS/lE0Jme8iyOdg5h","BoxType");var i=cc.Enum({Blank:0,Normal:1,Stone:2,Bubble:3,Flower:4,Mine:5});t.exports=i,cc._RF.pop()},{}],Box:[function(e,t,o){"use strict";cc._RF.push(t,"1e540AdGGFIb7sRN89LEHE/","Box");var i=e("BoxType"),n=e("Global"),s=e("DIR"),r=cc.Class({extends:cc.Component,properties:{flagNum:1,boxType:{default:i.Blank,type:i},ContentNode:cc.Node,ContentNodes:[cc.Node],RoleNodes:[cc.Node],coinNode:cc.Node,seedNode:cc.Node,exploreNode:cc.Node,boxAnima:cc.Animation,flowerBornAni:cc.Animation,effectAnima:cc.Animation,moveAnima:cc.Animation},start:function(){var e=this;cc.director.on("MoveRoleBox",function(t){if(t.DIR==s.LEFT)for(var o=0;o<e.RoleNodes.length;o++)e.RoleNodes[o].scaleX=-1;else if(t.DIR==s.RIGHT)for(o=0;o<e.RoleNodes.length;o++)e.RoleNodes[o].scaleX=1})},InitBox:function(e,t,o){this.HideLastContentNode(),this.flagNum=o,this.posX=e,this.posY=t,this.ContentNode.setPosition(0,0),this.coinNode.active=!1,this.seedNode.active=!1,this.RefreshBoxType()},RefreshBoxInit:function(){this.HideLastContentNode(),this.flagNum=0,this.ContentNode.setPosition(0,0),this.RefreshBoxType(),this.coinNode.active=!1,this.seedNode.active=!1},RefreshToBoxLastStep:function(e){this.HideLastContentNode(),this.flagNum=e.flagNum,this.ContentNode.setPosition(0,0),this.RefreshBoxType(),this.coinNode.active=e.showCoin,this.seedNode.active=e.showSeed},RefreshBoxFlagNum:function(e){this.HideLastContentNode(),this.flagNum=e,this.ContentNode.setPosition(0,0),this.RefreshBoxType()},RefreshBox:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.NULL;if(this.HideLastContentNode(),this.flagNum=e.flagNum,this.flagNum!=i.Blank&&t!=s.NULL){this.ContentNode.stopAllActions();var o=0,r=0;t==s.LEFT?o=112:t==s.RIGHT?o=-112:t==s.UP?r=-112:t==s.DOWN&&(r=112),this.ContentNode.setPosition(o,r)}else this.flagNum!=i.Blank&&t!=s.NULL||this.ContentNode.setPosition(0,0);if(this.RefreshBoxType(),this.boxType!=i.Blank&&t!=s.NULL){t==s.LEFT?this.moveAnima.play("boxmoveL"):t==s.RIGHT?this.moveAnima.play("boxmoveR"):t==s.UP?this.moveAnima.play("boxmoveU"):t==s.DOWN&&this.moveAnima.play("boxmoveD")}1==this.coinNode.active?(this.coinNode.active=!1,this.effectAnima.node.active=!0,this.effectAnima.play("coinEffect"),cc.Mgr.AudioMgr.playSFX("coin"),cc.director.emit("AddGameScore",{})):1==this.seedNode.active&&(cc.log("\u79cd\u5b50\u4eae\u8d77\u7684\u7684 \u9700\u8981\u7f6e\u9ed1  this.boxType = "+this.boxType),this.boxType==i.Blank||this.boxType==i.Normal?(this.seedNode.active=!1,this.boxType==i.Blank&&(this.flagNum=4,this.RefreshBoxType(),this.flowerBornAni.play(),this.scheduleOnce(function(){cc.director.emit("CheckCanMoveAllDir",{})},n.WaitCheckCanMoveAllDir))):this.boxType==i.Mine&&cc.log("\u79cd\u5b50\u4eae\u8d77\u7684\u7684 \u4e0d\u9700\u8981\u7f6e\u9ed1  this.boxType = "+this.boxType))},RefreshBoxType:function(){2==this.flagNum?(this.boxType=i.Stone,cc.Mgr.UserData.IsFinishStoneTutor()||cc.director.emit("TutorialStone",{})):1==this.flagNum?this.boxType=i.Normal:this.flagNum<=7&&this.flagNum>=5?this.boxType=i.Mine:3==this.flagNum?this.boxType=i.Bubble:4==this.flagNum?this.boxType=i.Flower:0==this.flagNum&&(this.boxType=i.Blank),this.ContentNodes[this.flagNum].active=!0},HideLastContentNode:function(){this.ContentNodes[this.flagNum].active=!1},PlayAnimation:function(e){"boxblink"==e&&this.setContentScale(1.1),this.boxAnima.play(e)},setContentScale:function(e){this.ContentNode.setScale(e)},DisShow:function(){this.RefreshBoxInit(),this.setContentScale(1),cc.director.emit("SetPlayState",{}),this.coinNode.active=!0},SpwanCoinNode:function(){this.RefreshBoxInit(),this.coinNode.active=!0},SpwanSeedNode:function(){this.RefreshBoxInit(),this.seedNode.active=!0},UseBoomSkill:function(){if(cc.Mgr.Global.checkPos[0]!=this.posX||cc.Mgr.Global.checkPos[1]!=this.posY){if(1==cc.Mgr.Global.UseSkillState){if(this.flagNum==i.Blank){if(1==this.coinNode.active)return;if(1!=this.seedNode.active)return}cc.Mgr.AudioMgr.playSFX("coin"),this.exploreNode.active=!0,this.boxAnima.play("explore"),cc.director.emit("UseBoomSkillEnd",{})}else if(1==cc.Mgr.Global.UseSkillSpwanNow&&this.flagNum==i.Blank){cc.Mgr.AudioMgr.playSFX("du");var e={};e.flagNum=i.Normal,this.RefreshBox(e,s.NULL),this.PlayAnimation("boxSpwan"),cc.director.emit("UseSpwanSkillEnd",{})}}else cc.log("\u4f60\u600e\u4e48\u80fd\u70b9\u51fb\u73a9\u5bb6\u8282\u70b9\u5462")},EndExplore:function(){this.RefreshBoxInit(),this.coinNode.active=!1,this.exploreNode.active=!1},IsCoinNodeActive:function(){return 1==this.coinNode.active},IsSeedNodeActive:function(){return 1==this.seedNode.active},PlayAction:function(){}});t.exports=r,cc._RF.pop()},{BoxType:"BoxType",DIR:"DIR",Global:"Global"}],BuyBoomPanel:[function(e,t,o){"use strict";cc._RF.push(t,"f5d8f2wshRJk55Sday2RNXP","BuyBoomPanel");var i=cc.Class({extends:cc.Component,properties:{coinNumLbl:cc.Label,btnBgSp:cc.Sprite,Atlas:cc.SpriteAtlas},ShowPanel:function(){var e=cc.Mgr.UserData.getCoinNum();this.coinNumLbl.string=e,e>cc.Mgr.Global.BoomCost?this.btnBgSp.spriteFrame=this.Atlas.getSpriteFrame("btnbg_1"):this.btnBgSp.spriteFrame=this.Atlas.getSpriteFrame("btnbg_2")},ClosePanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.node.active=!1}});t.exports=i,cc._RF.pop()},{}],CoinEffect:[function(e,t,o){"use strict";cc._RF.push(t,"ec112Fg+QFEj7xH+P5yfcN1","CoinEffect");var i=cc.Class({extends:cc.Component,properties:{EffectNode:cc.Node},EndCoinEffect:function(){this.EffectNode.active=!1}});t.exports=i,cc._RF.pop()},{}],CommonTipPanel:[function(e,t,o){"use strict";cc._RF.push(t,"06394t6pTdPzrm3EZQkpRCk","CommonTipPanel");var i=cc.Class({extends:cc.Component,properties:{TipDesLbl:cc.Label},ShowPanel:function(e){this.TipDesLbl.string=e},ClosePanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.node.active=!1}});t.exports=i,cc._RF.pop()},{}],CurUseData:[function(e,t,o){"use strict";cc._RF.push(t,"25a22U7aqFFwb0TM9POlqqf","CurUseData");var i=cc.Enum({});t.exports=i,cc._RF.pop()},{}],DIR:[function(e,t,o){"use strict";cc._RF.push(t,"151a1l9fORPRKWDH7vY769o","DIR");var i=cc.Enum({LEFT:1,RIGHT:2,UP:3,DOWN:4,NULL:5});t.exports=i,cc._RF.pop()},{}],DataMapMgr:[function(e,t,o){"use strict";cc._RF.push(t,"ea360DSHMNHw79ZbQP7komE","DataMapMgr");var i=e("SkinMap"),n=e("DataType"),s=cc.Class({extends:cc.Component,properties:{skinMap:null},InitMaps:function(e){this.skinMap=new i;var t=this;this.decodeAll=0,this.skinMap.DecodeJson(function(e){e&&(t.decodeAll+=100,100==t.decodeAll&&cc.director.emit("DecoderMapsEnd",{}))})},getDataByDataTypeAndId:function(e,t){var o=null;switch(e){case n.Skin:o=this.skinMap.getDataById(t)}return o},getDataListLengthByDataType:function(e){var t=0;switch(e){case n.Skin:t=this.skinMap.getJsonLength()}return t},getDataListByDataType:function(e){var t=0;switch(e){case n.Skin:t=this.skinMap.getDataList()}return t}});t.exports=s,cc._RF.pop()},{DataType:"DataType",SkinMap:"SkinMap"}],DataType:[function(e,t,o){"use strict";cc._RF.push(t,"78fc2emXFlO7LF5tmlnAtzw","DataType");var i=cc.Enum({Skin:1});t.exports=i,cc._RF.pop()},{}],DiamondPanel:[function(e,t,o){"use strict";cc._RF.push(t,"16cb1U33K5NiLLVQ5VdoEsb","DiamondPanel");var i=cc.Class({extends:cc.Component,properties:{startUiNode:cc.Node,Atlas:cc.SpriteAtlas,Icon:cc.Sprite},ShowPanel:function(e){this.Icon.spriteFrame=this.Atlas.getSpriteFrame("target_"+e)},ClosePanel:function(){cc.Mgr.AdsMgr.HideBannerAd(),0==this.startUiNode.active&&cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.node.active=!1}});t.exports=i,cc._RF.pop()},{}],GameController:[function(e,t,o){"use strict";cc._RF.push(t,"1d84cMbAEBN570AMd9CemLg","GameController");e("Box");var i=e("DIR"),n=e("Global"),s=e("UIScore"),r=e("GameState"),a=e("BoxType"),c=cc.Class({extends:cc.Component,properties:{colsNum:5,rowsNum:5,parentNode:cc.Node,playerFlagNum:10,gameState:{default:r.Play,type:r},checkPos:{default:[],type:[cc.Integer]},uiScore:s,uiOverNode:cc.Node},onLoad:function(){var e=this.parentNode.children;this.boxMap=new Array(this.rowsNum);for(var t=0;t<this.rowsNum;t++){for(var o=new Array(this.colsNum),i=0;i<this.colsNum;i++){var s=t*this.colsNum+i;o[i]=e[s].getComponent("Box")}this.boxMap[t]=o}this.addListeners();var a=this;cc.director.on("SetPlayState",function(e){a.gameState=r.Play}),cc.director.on("UseSkin",function(e){a.RefreshRoleBoxFlagNum()}),cc.director.on("CheckCanMoveAllDir",function(e){a.CheckCanDispelAfterSpwanNewBox()}),cc.director.on("UseSpwanSkillEnd",function(e){a.scheduleOnce(function(){a.CheckCanDispelAfterSpwanNewBox()},n.WaitAfterSpwanCheck)})},RefreshRoleBoxFlagNum:function(){this.boxMap[this.checkPos[0]][this.checkPos[1]].RefreshBoxFlagNum(cc.Mgr.UserData.getCurSkinId()),cc.Mgr.UserData.RefreshBoxMapRem(this.checkPos[0],this.checkPos[1],cc.Mgr.UserData.getCurSkinId(),!1,!1)},SaveRememberBoxMapData:function(){for(var e=0;e<this.rowsNum;e++)for(var t=0;t<this.colsNum;t++){var o=this.boxMap[e][t].flagNum,i=this.boxMap[e][t].IsCoinNodeActive(),n=this.boxMap[e][t].IsSeedNodeActive();cc.Mgr.UserData.RefreshBoxMapRem(e,t,o,i,n)}cc.Mgr.UserData.SaveBoxMapData(this.uiScore.score,1)},ReturnBackOneStep:function(){for(var e=0;e<this.rowsNum;e++)for(var t=0;t<this.colsNum;t++){var o=cc.Mgr.UserData.GetReBoxParam(e,t);if(this.boxMap[e][t].RefreshToBoxLastStep(o),this.boxMap[e][t].boxType==a.Mine){var i={};i.x=e,i.y=t,this.refreshCheckPos(i)}}},StartGameUseProgressData:function(){this.playerFlagNum=cc.Mgr.UserData.getCurSkinId(),this.RefreshLayOutUseProgress()},RefreshLayOutUseProgress:function(){for(var e=0;e<this.rowsNum;e++)for(var t=0;t<this.colsNum;t++)this.boxMap[e][t].InitBox(e,t,0);var o=cc.Mgr.UserData.GetReBoxMapUnNullLength(),i=o.length-1,n=0;this.schedule(function(){cc.Mgr.AudioMgr.playSFX("du");var e=o[n].posX,t=o[n].posY,s=cc.Mgr.UserData.GetReBoxParam(e,t);if(this.boxMap[e][t].PlayAnimation("boxspwan"),this.boxMap[e][t].RefreshToBoxLastStep(s),this.boxMap[e][t].boxType==a.Mine){var c={};c.x=e,c.y=t,this.refreshCheckPos(c)}n==i&&(this.gameState=r.Play),n+=1},.15,i,.5)},StartGame:function(){this.playerFlagNum=cc.Mgr.UserData.getCurSkinId(),cc.Mgr.UserData.IsTutorialOver()?this.RefreshLayOut():this.RefreshLayOutForTutorial()},ReStartGame:function(){this.playerFlagNum=cc.Mgr.UserData.getCurSkinId(),this.RefreshLayOut()},OffTouchEventListener:function(){this.node.off(cc.Node.EventType.TOUCH_END,this.onTouched,this)},AddTouchEventListener:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouched,this)},addListeners:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouched,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKey,this)},ClearBoard:function(){for(var e=this.rowsNum-1;e>=0;e--)for(var t=0;t<this.colsNum;t++)this.boxMap[e][t].RefreshBoxInit()},checkGameOver:function(){var e=this.checkCanMoveToDir(i.LEFT),t=this.checkCanMoveToDir(i.RIGHT),o=this.checkCanMoveToDir(i.UP),s=this.checkCanMoveToDir(i.DOWN);0==e.canMove&&0==t.canMove&&0==o.canMove&&0==s.canMove&&(cc.Mgr.AudioMgr.playSFX("di"),this.PlayScaleAnima(),cc.Mgr.UserData.ClearReBoxMap(),this.gameState=r.Over,this.scheduleOnce(function(){cc.director.emit("ShowOver",{})},n.WaitShowGameOver))},PlayScaleAnima:function(){for(var e=this.rowsNum-1;e>=0;e--)for(var t=this.colsNum-1;t>=0;t--)this.boxMap[e][t].boxType!=a.Blank&&this.boxMap[e][t].PlayAnimation("boxScale")},RefreshLayOut:function(){for(var e=0;e<this.rowsNum;e++)for(var t=0;t<this.colsNum;t++)this.boxMap[e][t].InitBox(e,t,a.Blank);var o=this.getArrayByItems(this.rowsNum*this.colsNum,10),i=0;Math.floor(9*Math.random());this.schedule(function(){var e=Math.floor(o[i]/this.colsNum),t=o[i]%this.colsNum;cc.log("\u884c = "+e+"   \u5217 = "+t),cc.Mgr.AudioMgr.playSFX("du"),this.boxMap[e][t].PlayAnimation("boxspwan"),9==i?(this.boxMap[e][t].InitBox(e,t,this.playerFlagNum),this.checkPos[0]=e,this.checkPos[1]=t,cc.Mgr.Global.setCheckPos(e,t),this.gameState=r.Play):this.boxMap[e][t].InitBox(e,t,1),i+=1},.15,9,.5)},RefreshLayOutForTutorial:function(){for(var e=0;e<this.rowsNum;e++)for(var t=0;t<this.colsNum;t++)this.boxMap[e][t].InitBox(e,t,0);var o=[20,8,23,10,21,24,14,7,4,2],i=0;this.schedule(function(){var e=Math.floor(o[i]/this.colsNum),t=o[i]%this.colsNum;cc.log("\u884c = "+e+"   \u5217 = "+t),cc.Mgr.AudioMgr.playSFX("du"),this.boxMap[e][t].PlayAnimation("boxspwan"),9==i?(this.boxMap[e][t].InitBox(e,t,this.playerFlagNum),this.checkPos[0]=e,this.checkPos[1]=t,cc.Mgr.Global.setCheckPos(e,t),this.gameState=r.Play):this.boxMap[e][t].InitBox(e,t,1),i+=1},.15,9,.5)},getArrayByItems:function(e,t){for(var o=new Array,i=0;i<e;i++)o.push(i);for(var n=new Array,s=0;s<t&&o.length>0;s++){var r=Math.floor(Math.random()*o.length);n[s]=o[r],o.splice(r,1)}return n},checkCanMoveToDir:function(e){var t={canMove:!0,indexList:[]};if(e==i.LEFT){if(0==this.checkPos[1])return t.canMove=!1,t;for(var o=this.checkPos[1]-1;o>=0&&(this.boxMap[this.checkPos[0]][o].boxType!=a.Stone&&this.boxMap[this.checkPos[0]][o].boxType!=a.Flower);o--)this.boxMap[this.checkPos[0]][o].boxType==a.Blank&&t.indexList.push(o);return 0==t.indexList.length&&(t.canMove=!1),t}if(e==i.RIGHT){if(this.checkPos[1]==this.colsNum-1)return t.canMove=!1,t;for(o=this.checkPos[1]+1;o<=this.colsNum-1&&(this.boxMap[this.checkPos[0]][o].boxType!=a.Stone&&this.boxMap[this.checkPos[0]][o].boxType!=a.Flower);o++)this.boxMap[this.checkPos[0]][o].boxType==a.Blank&&t.indexList.push(o);return 0==t.indexList.length&&(t.canMove=!1),t}if(e==i.DOWN){if(this.checkPos[0]==this.rowsNum-1)return t.canMove=!1,t;for(o=this.checkPos[0]+1;o<=this.rowsNum-1&&(this.boxMap[o][this.checkPos[1]].boxType!=a.Stone&&this.boxMap[o][this.checkPos[1]].boxType!=a.Flower);o++)this.boxMap[o][this.checkPos[1]].boxType==a.Blank&&t.indexList.push(o);return 0==t.indexList.length&&(t.canMove=!1),t}if(e==i.UP){if(0==this.checkPos[0])return t.canMove=!1,t;for(o=this.checkPos[0]-1;o>=0&&(this.boxMap[o][this.checkPos[1]].boxType!=a.Stone&&this.boxMap[o][this.checkPos[1]].boxType!=a.Flower);o--)this.boxMap[o][this.checkPos[1]].boxType==a.Blank&&t.indexList.push(o);return 0==t.indexList.length&&(t.canMove=!1),t}return t},refreshCheckPos:function(e){this.checkPos[0]=e.x,this.checkPos[1]=e.y,cc.Mgr.Global.setCheckPos(e.x,e.y)},getCheckPos:function(){var e={};return e.row=this.checkPos[0],e.col=this.checkPos[1],e},getCheckPosBoxFlagNum:function(){return this.boxMap[this.checkPos[0]][this.checkPos[1]].flagNum},getPosBoxFlagNum:function(e,t){return this.boxMap[e][t].flagNum},getNullRectPos:function(){for(var e=[],t=0;t<this.colsNum;t++)for(var o=0;o<this.rowsNum;o++)if(this.boxMap[o][t].boxType==a.Blank&&0==this.boxMap[o][t].IsCoinNodeActive()&&0==this.boxMap[o][t].IsSeedNodeActive()){var i={};i.row=o,i.col=t,e.push(i)}return e},JudeHasCheckNumNormalBoxInCol:function(e,t){for(var o=0,i=this.rowsNum-1;i>=0;i--)this.boxMap[i][t].boxType==a.Normal&&(o+=1);return o==e},JudeHasCheckNumNormalBoxInRow:function(e,t){for(var o=0,i=this.colsNum-1;i>=0;i--)this.boxMap[t][i].boxType==a.Normal&&(o+=1);return o==e},PickOutNullPosCantDispel:function(e){for(var t=[],o=e.length-1;o>=0;o--){var i=e[o].col,n=e[o].row,s=this.JudeHasCheckNumNormalBoxInRow(this.colsNum-1,n);if(0==this.JudeHasCheckNumNormalBoxInCol(this.rowsNum-1,i)&&0==s){var r={};r.row=n,r.col=i,t.push(r)}}return t},IsPosOnCheckPosWay:function(e){var t=this.getCheckPos();return t.row==e.row||t.col==e.col},PickOutPosOnWayDisFromCheckPos:function(e,t){for(var o=this.getCheckPos(),i=[],n=t.length-1;n>=0;n--)t[n].row+e!=o.row&&t[n].row-e!=o.row&&t[n].col+e!=o.col&&t[n].col-e!=o.col||i.push(t[n]);return i},PickOutNullPosOnCheckPosWay:function(e){for(var t=[],o=e.length-1;o>=0;o--)this.IsPosOnCheckPosWay(e[o])&&t.push(e[o]);return t},SpwanSeedAtBoxPos:function(){this.scheduleOnce(function(){var e=this.getNullRectPos(),t=this.PickOutNullPosCantDispel(e),o=this.PickOutNullPosOnCheckPosWay(t);if(0==e.length)return cc.Mgr.AudioMgr.playSFX("di"),this.gameState=r.Over,cc.Mgr.UserData.ClearReBoxMap(),void cc.director.emit("ShowOver",{});if(cc.Mgr.AudioMgr.playSFX("du"),cc.Mgr.UserData.IsFinishSeedTutor()||cc.director.emit("TutorialSeed",{}),0==t.length){var i=e[Math.floor(Math.random()*e.length)];this.boxMap[i.row][i.col].SpwanSeedNode()}else if(0==o.length){i=t[Math.floor(Math.random()*t.length)];this.boxMap[i.row][i.col].SpwanSeedNode()}else{if(Math.random()<.9){var n=Math.random();if(n<.5){var s=this.PickOutPosOnWayDisFromCheckPos(2,o);if(0==s.length){i=o[Math.floor(Math.random()*o.length)];this.boxMap[i.row][i.col].SpwanSeedNode()}else{i=s[Math.floor(Math.random()*s.length)];this.boxMap[i.row][i.col].SpwanSeedNode()}}else if(n<.9){var a=this.PickOutPosOnWayDisFromCheckPos(1,o);if(0==a.length){i=o[Math.floor(Math.random()*o.length)];this.boxMap[i.row][i.col].SpwanSeedNode()}else{i=a[Math.floor(Math.random()*a.length)];this.boxMap[i.row][i.col].SpwanSeedNode()}}else{var c=this.PickOutPosOnWayDisFromCheckPos(3,o);if(0==c.length){i=o[Math.floor(Math.random()*o.length)];this.boxMap[i.row][i.col].SpwanSeedNode()}else{i=c[Math.floor(Math.random()*c.length)];this.boxMap[i.row][i.col].SpwanSeedNode()}}}else{i=t[Math.floor(Math.random()*t.length)];this.boxMap[i.row][i.col].SpwanSeedNode()}}},n.WaitSpwanInterval)},SpwanBeiKeAtBoxPos:function(){this.scheduleOnce(function(){var e=this.getNullRectPos(),t=this.PickOutNullPosCantDispel(e),o=this.PickOutNullPosOnCheckPosWay(t);if(0==e.length)return cc.Mgr.AudioMgr.playSFX("di"),this.gameState=r.Over,cc.Mgr.UserData.ClearReBoxMap(),void cc.director.emit("ShowOver",{});if(cc.Mgr.AudioMgr.playSFX("du"),0==t.length){var i=e[Math.floor(Math.random()*e.length)];this.boxMap[i.row][i.col].SpwanCoinNode()}else if(0==o.length){i=t[Math.floor(Math.random()*t.length)];this.boxMap[i.row][i.col].SpwanCoinNode()}else{if(Math.random()<.9){var n=Math.random();if(n<.5){var s=this.PickOutPosOnWayDisFromCheckPos(2,o);if(0==s.length){i=o[Math.floor(Math.random()*o.length)];this.boxMap[i.row][i.col].SpwanCoinNode()}else{i=s[Math.floor(Math.random()*s.length)];this.boxMap[i.row][i.col].SpwanCoinNode()}}else if(n<.9){var a=this.PickOutPosOnWayDisFromCheckPos(1,o);if(0==a.length){i=o[Math.floor(Math.random()*o.length)];this.boxMap[i.row][i.col].SpwanCoinNode()}else{i=a[Math.floor(Math.random()*a.length)];this.boxMap[i.row][i.col].SpwanCoinNode()}}else{var c=this.PickOutPosOnWayDisFromCheckPos(3,o);if(0==c.length){i=o[Math.floor(Math.random()*o.length)];this.boxMap[i.row][i.col].SpwanCoinNode()}else{i=c[Math.floor(Math.random()*c.length)];this.boxMap[i.row][i.col].SpwanCoinNode()}}}else{i=t[Math.floor(Math.random()*t.length)];this.boxMap[i.row][i.col].SpwanCoinNode()}}},n.WaitSpwanInterval)},SpwanNewBoxAtPos:function(e){var t=this;t.func=e,this.scheduleOnce(function(){var e=this.getNullRectPos(),o=this.PickOutNullPosCantDispel(e),i=this.PickOutNullPosOnCheckPosWay(o),n=this.getRatioSpawnStone();if(0==e.length)return cc.Mgr.AudioMgr.playSFX("di"),this.gameState=r.Over,cc.Mgr.UserData.ClearReBoxMap(),void cc.director.emit("ShowOver",{});if(cc.Mgr.AudioMgr.playSFX("du"),0==o.length){var s=e[Math.floor(Math.random()*e.length)],c={},l=Math.random();c.flagNum=l<n?a.Stone:a.Normal,this.boxMap[s.row][s.col].RefreshBox(c),this.boxMap[s.row][s.col].PlayAnimation("boxspwan")}else if(0==i.length){s=o[Math.floor(Math.random()*o.length)],c={},l=Math.random();c.flagNum=l<n?a.Stone:a.Normal,this.boxMap[s.row][s.col].RefreshBox(c),this.boxMap[s.row][s.col].PlayAnimation("boxspwan")}else{if(Math.random()<.9){var h=Math.random();if(h<.5){var u=this.PickOutPosOnWayDisFromCheckPos(2,i);if(0==u.length){s=i[Math.floor(Math.random()*i.length)],c={},l=Math.random();c.flagNum=l<n?a.Stone:a.Normal,this.boxMap[s.row][s.col].RefreshBox(c),this.boxMap[s.row][s.col].PlayAnimation("boxspwan")}else{s=u[Math.floor(Math.random()*u.length)],c={},l=Math.random();c.flagNum=l<n?a.Stone:a.Normal,this.boxMap[s.row][s.col].RefreshBox(c),this.boxMap[s.row][s.col].PlayAnimation("boxspwan")}}else if(h<.9){var d=this.PickOutPosOnWayDisFromCheckPos(1,i);if(0==d.length){s=i[Math.floor(Math.random()*i.length)],c={},l=Math.random();c.flagNum=l<n?a.Stone:a.Normal,this.boxMap[s.row][s.col].RefreshBox(c),this.boxMap[s.row][s.col].PlayAnimation("boxspwan")}else{s=d[Math.floor(Math.random()*d.length)],c={},l=Math.random();c.flagNum=l<n?a.Stone:a.Normal,this.boxMap[s.row][s.col].RefreshBox(c),this.boxMap[s.row][s.col].PlayAnimation("boxspwan")}}else{var g=this.PickOutPosOnWayDisFromCheckPos(3,i);if(0==g.length){s=i[Math.floor(Math.random()*i.length)],c={},l=Math.random();c.flagNum=l<n?a.Stone:a.Normal,this.boxMap[s.row][s.col].RefreshBox(c),this.boxMap[s.row][s.col].PlayAnimation("boxspwan")}else{s=g[Math.floor(Math.random()*g.length)],c={},l=Math.random();c.flagNum=l<n?a.Stone:a.Normal,this.boxMap[s.row][s.col].RefreshBox(c),this.boxMap[s.row][s.col].PlayAnimation("boxspwan")}}}else{s=o[Math.floor(Math.random()*o.length)],c={},l=Math.random();c.flagNum=l<n?a.Stone:a.Normal,this.boxMap[s.row][s.col].RefreshBox(c),this.boxMap[s.row][s.col].PlayAnimation("boxspwan")}}t.func()},n.WaitSpwanInterval)},getRatioSpawnStone:function(){var e=cc.Mgr.UserData.getGameLv()-n.SpawnStoneLv,t=n.SpawnStoneInitRatio;return e>0?e/20>t?t:e/20:0},getRatioSpawnSeed:function(){var e=cc.Mgr.UserData.getGameLv()-n.SpawnSeedLv,t=n.SpawnSeedInitRatio;return e>0?e/20>t?t:e/20:0},CheckCanDispelAfterSpwanNewBox:function(){this.scheduleOnce(function(){var e=this.CheckCanDispelofAllCol(),t=this.CheckCanDispelofAllRow();if(0==e.length&&0==t.length)this.gameState=r.Play,this.checkGameOver();else{if(cc.Mgr.AudioMgr.playSFX("Crush"),cc.Mgr.PlatformController.QuakeScreen(!0),0!=e.length)for(var o=e.length-1;o>=0;o--)for(var i=this.rowsNum-1;i>=0;i--)this.boxMap[i][e[o]].boxType==a.Stone?n.DispelStoneScore:n.DispelNormalScore,this.boxMap[i][e[o]].PlayAnimation("boxblink");if(0!=t.length)for(o=t.length-1;o>=0;o--)for(i=this.colsNum-1;i>=0;i--)this.boxMap[t[o]][i].boxType==a.Stone?n.DispelStoneScore:n.DispelNormalScore,this.boxMap[t[o]][i].PlayAnimation("boxblink")}},n.WaitDispelInterval)},OperateDispelOperate:function(){cc.Mgr.AudioMgr.playSFX("box"),this.scheduleOnce(function(){var e=this.CheckCanDispelofAllCol(),t=this.CheckCanDispelofAllRow();if(cc.log("\u7b2c\u51e0\u6b65 = "+n.SpwanStep),0==e.length&&0==t.length)if(2==n.SpwanStep){var o=Math.random();cc.Mgr.UserData.getGameLv()>=n.SpawnSeedLv&&o<n.SpwanSeedVsBoxRatio?(this.SpwanSeedAtBoxPos(),this.gameState=r.Play):this.SpwanNewBoxAtPos(function(){this.CheckCanDispelAfterSpwanNewBox()})}else cc.Mgr.UserData.getGameLv()>=n.SpawnCoinLv&&1==n.SpwanStep&&this.SpwanBeiKeAtBoxPos(),this.gameState=r.Play;else{if(cc.Mgr.AudioMgr.playSFX("Crush"),cc.Mgr.PlatformController.QuakeScreen(!0),0!=e.length)for(var i=e.length-1;i>=0;i--)for(var s=this.rowsNum-1;s>=0;s--)this.boxMap[s][e[i]].boxType==a.Stone?n.DispelStoneScore:n.DispelNormalScore,this.boxMap[s][e[i]].PlayAnimation("boxblink");if(0!=t.length)for(i=t.length-1;i>=0;i--)for(s=this.colsNum-1;s>=0;s--)this.boxMap[t[i]][s].boxType==a.Stone?n.DispelStoneScore:n.DispelNormalScore,this.boxMap[t[i]][s].PlayAnimation("boxblink")}},n.WaitDispelInterval)},CheckCanDispelofAllCol:function(){for(var e=[],t=this.colsNum-1;t>=0;t--){for(var o=!0,i=0;i<this.rowsNum;i++)if(this.boxMap[i][t].boxType!=a.Normal&&this.boxMap[i][t].boxType!=a.Stone&&this.boxMap[i][t].boxType!=a.Flower){o=!1;break}1==o&&e.push(t)}return e},CheckCanDispelofAllRow:function(){for(var e=[],t=this.rowsNum-1;t>=0;t--){for(var o=!0,i=0;i<this.colsNum;i++)if(this.boxMap[t][i].boxType!=a.Normal&&this.boxMap[t][i].boxType!=a.Stone&&this.boxMap[t][i].boxType!=a.Flower){o=!1;break}1==o&&e.push(t)}return e},OperateRoleMoveAction:function(e,t){var o=this.checkCanMoveToDir(e);if(0!=o.canMove){this.gameState=r.Merge;var s=this;s.func=t,e==i.LEFT?this.scheduleOnce(function(){for(var t=o.indexList[0];t<this.checkPos[1];t++){var n=t,r=this.getPosBoxFlagNum(this.checkPos[0],n+1),c={};c.flagNum=a.Blank,this.boxMap[this.checkPos[0]][n+1].RefreshBox(c);var l={};if(l.flagNum=r,this.boxMap[this.checkPos[0]][n].RefreshBox(l,i.LEFT),n==this.checkPos[1]-1){var h={};h.x=this.checkPos[0],h.y=n,this.refreshCheckPos(h)}}var u=this.checkCanMoveToDir(e);s.func(u)},n.moveOneInterval):e==i.RIGHT?this.scheduleOnce(function(){for(var t=o.indexList[0];t>this.checkPos[1];t--){var n=t,r=this.getPosBoxFlagNum(this.checkPos[0],n-1),c={};c.flagNum=a.Blank,this.boxMap[this.checkPos[0]][n-1].RefreshBox(c);var l={};if(l.flagNum=r,this.boxMap[this.checkPos[0]][n].RefreshBox(l,i.RIGHT),n==this.checkPos[1]+1){var h={};h.x=this.checkPos[0],h.y=n,this.refreshCheckPos(h)}}var u=this.checkCanMoveToDir(e);s.func(u)},n.moveOneInterval):e==i.UP?this.scheduleOnce(function(){for(var t=o.indexList[0];t<this.checkPos[0];t++){var n=t,r=this.getPosBoxFlagNum(n+1,this.checkPos[1]),c={};c.flagNum=a.Blank,this.boxMap[n+1][this.checkPos[1]].RefreshBox(c);var l={};if(l.flagNum=r,this.boxMap[n][this.checkPos[1]].RefreshBox(l,i.UP),n==this.checkPos[0]-1){var h={};h.x=n,h.y=this.checkPos[1],this.refreshCheckPos(h)}}var u=this.checkCanMoveToDir(e);s.func(u)},n.moveOneInterval):e==i.DOWN&&this.scheduleOnce(function(){for(var t=o.indexList[0];t>this.checkPos[0];t--){var n=t,r=this.getPosBoxFlagNum(n-1,this.checkPos[1]),c={};c.flagNum=a.Blank,this.boxMap[n-1][this.checkPos[1]].RefreshBox(c);var l={};if(l.flagNum=r,this.boxMap[n][this.checkPos[1]].RefreshBox(l,i.DOWN),n==this.checkPos[0]+1){var h={};h.x=n,h.y=this.checkPos[1],this.refreshCheckPos(h)}}var u=this.checkCanMoveToDir(e);s.func(u)},n.moveOneInterval)}},MoveBoxDirLeft:function(e){this.OperateRoleMoveAction(i.LEFT,function(e){0==e.canMove?(n.AddSpwanStep(),this.gameState=r.Merge,this.OperateDispelOperate()):this.MoveBoxDirLeft(i.LEFT)})},MoveBoxDirRight:function(e){this.OperateRoleMoveAction(i.RIGHT,function(e){0==e.canMove?(n.AddSpwanStep(),this.gameState=r.Merge,this.OperateDispelOperate()):this.MoveBoxDirRight(i.RIGHT)})},MoveBoxDirUp:function(e){this.OperateRoleMoveAction(i.UP,function(e){0==e.canMove?(n.AddSpwanStep(),this.gameState=r.Merge,this.OperateDispelOperate()):this.MoveBoxDirUp(i.UP)})},MoveBoxDirDown:function(e){this.OperateRoleMoveAction(i.DOWN,function(e){0==e.canMove?(n.AddSpwanStep(),this.gameState=r.Merge,this.OperateDispelOperate()):this.MoveBoxDirDown(i.DOWN)})},onTouched:function(e){if(this.gameState==r.Play){this.SaveRememberBoxMapData(),n.hasMove=!0;var t=e.getStartLocation(),o=e.getLocation(),s=o.x-t.x,a=o.y-t.y;Math.abs(s)>Math.abs(a)?s>0?s>5&&(cc.director.emit("MoveRoleBox",{DIR:i.RIGHT}),this.MoveBoxDirRight(i.RIGHT)):s<0&&s<-5&&(cc.director.emit("MoveRoleBox",{DIR:i.LEFT}),this.MoveBoxDirLeft(i.LEFT)):a>5?this.MoveBoxDirUp(i.UP):a<0&&this.MoveBoxDirDown(i.DOWN)}},onKey:function(e){if(this.gameState==r.Play)switch(this.SaveRememberBoxMapData(),n.hasMove=!0,e.keyCode){case cc.macro.KEY.up:case cc.macro.KEY.w:this.MoveBoxDirUp(i.UP);break;case cc.macro.KEY.down:case cc.macro.KEY.s:this.MoveBoxDirDown(i.DOWN);break;case cc.macro.KEY.left:case cc.macro.KEY.a:this.MoveBoxDirLeft(i.LEFT);break;case cc.macro.KEY.right:case cc.macro.KEY.d:this.MoveBoxDirRight(i.RIGHT)}}});t.exports=c,cc._RF.pop()},{Box:"Box",BoxType:"BoxType",DIR:"DIR",GameState:"GameState",Global:"Global",UIScore:"UIScore"}],GameState:[function(e,t,o){"use strict";cc._RF.push(t,"e8574c/3JdC3r6oCDUAjngc","GameState");var i=cc.Enum({Wait:0,Play:1,Over:2,Spwan:3,Merge:4,Pause:5});t.exports=i,cc._RF.pop()},{}],Global:[function(e,t,o){"use strict";cc._RF.push(t,"d2af1TemoxOJb1Yy4Sfzn0a","Global");var i=e("BonusType"),n=e("DataType"),s=cc.Class({statics:{SpwanStep:0,SpwanFlag:2,SpawnStoneLv:6,SpawnSeedLv:4,SpawnCoinLv:2,DispelNormalScore:10,DispelAddScore:50,moveOneInterval:.0515,WaitSpwanInterval:.2,WaitShowGameOver:.5,WaitCheckCanMoveAllDir:.45,WaitAfterSpwanCheck:.35,WaitDispelInterval:.1,LvScore:21,RuneRewardTimesForOneDay:10,DispelStoneScore:50,SpawnSeedInitRatio:.3,SpawnStoneInitRatio:.3,SpwanSeedVsBoxRatio:.12,ContinueRebornTimes:3,rewardGetInterval:900,rewardGetLifeTime:900,LeftRebornTime:3,UseSkillState:!1,UseSkillSpwanNow:!1,SKillBoomNum:0,BoomCost:800,ReturnStepCost:500,PassLvGetCoin:100,DiamondGetScore:100,DiamondGetNum:100,CoinBonus:0,DiamondBonus:0,canGetReward:!1,hasMove:!1,checkPos:[],screenStartTime:0,RefreshBonusData:function(){var e=cc.Mgr.UserData.getCurSkinId(),t=cc.Mgr.DataMapMgr.getDataByDataTypeAndId(n.Skin,e).bonusList;this.CoinBonus=0,this.DiamondBonus=0;for(var o=t.length-1;o>=0;o--)t[o].bonusType==i.CoinBonus?this.CoinBonus+=t[o].bonusNum:t[o].bonusType==i.RuneBonus&&(this.DiamondBonus=t[o].bonusNum);this.CoinBonus=1+this.CoinBonus/100,this.DiamondBonus=1+this.DiamondBonus/100},InitRewardLifeTime:function(){this.rewardGetLifeTime=900,this.canGetReward=!1},SubLeftRewardTime:function(){0==this.canGetReward&&(cc.Mgr.Global.rewardGetLifeTime-=1,0==this.rewardGetLifeTime&&(this.canGetReward=!0))},AddSpwanStep:function(){this.SpwanStep+=1,this.SpwanStep>2&&(this.SpwanStep=1)},clearCheckPos:function(){this.checkPos[0]=-1,this.checkPos[1]=-1},InitData:function(){this.SpwanStep=0,this.SpwanFlag=2,this.SKillBoomNum=0,this.UseSkillState=!1,this.UseSkillSpwanNow=!1,this.hasMove=!1,this.clearCheckPos()},InitReBornTime:function(){this.LeftRebornTime=3},setCheckPos:function(e,t){this.checkPos[0]=e,this.checkPos[1]=t}}});t.exports=s,cc._RF.pop()},{BonusType:"BonusType",DataType:"DataType"}],LvUpPanel:[function(e,t,o){"use strict";cc._RF.push(t,"5048b9EVlFHCLcDe/O9uWBI","LvUpPanel");var i=cc.Class({extends:cc.Component,properties:{getNumLbl:cc.Label},ShowPanel:function(e){this.getNumLbl.string=e}});t.exports=i,cc._RF.pop()},{}],MenuPanel:[function(e,t,o){"use strict";cc._RF.push(t,"8624eSf5iNHxauwEek72C4L","MenuPanel");var i=cc.Class({extends:cc.Component,properties:{Atlas:cc.SpriteAtlas,Icon:cc.Sprite},ShowPanel:function(e){this.Icon.spriteFrame=this.Atlas.getSpriteFrame("target_"+e),cc.Mgr.AdsMgr.RecoverShowBanner()},ClosePanel:function(){cc.Mgr.AdsMgr.HideBannerAd(),cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.node.active=!1}});t.exports=i,cc._RF.pop()},{}],OverPanel:[function(e,t,o){"use strict";cc._RF.push(t,"df80ee8UyRB9IE0kFIMVmvE","OverPanel");var i=cc.Class({extends:cc.Component,properties:{Atlas:cc.SpriteAtlas,scoreLbl:cc.Label,btnBgSp:cc.Sprite,btnLbl:cc.Label,shareLbl:cc.Label,rebornLeftLbl:cc.Label},ShowPanel:function(){this.scoreLbl.string=cc.Mgr.UserData.getCurScore(),this.rebornLeftLbl.string="("+cc.Mgr.UserData.leftRebornTimes+"/3)",cc.Mgr.UserData.leftRebornTimes>0?(this.shareLbl.string="\u5206\u4eab\u91cd\u7f6e",this.btnBgSp.spriteFrame=this.Atlas.getSpriteFrame("btnbg_1"),this.btnLbl.string="\u89c6\u9891\u91cd\u7f6e"):(this.shareLbl.string="\u70ab\u8000\u4e00\u4e0b",this.btnBgSp.spriteFrame=this.Atlas.getSpriteFrame("btnbg_2"),this.btnLbl.string="\u6e38\u620f\u7ed3\u675f"),cc.Mgr.AdsMgr.RecoverShowBanner()}});t.exports=i,cc._RF.pop()},{}],PlatformController:[function(e,t,o){"use strict";cc._RF.push(t,"05882nT34pGTa94tDlCdCoR","PlatformController");var i=cc.Class({statics:{wxSubContextViewLock:0,platform:"uc",QuakeState:1,isScreen:!1,Init:function(){},IsLoginSync:function(){return"baidu"==this.platform?!!swan.isLoginSync().isLogin&&(console.log("\u5df2\u7ecf\u6709\u767b\u9646\u4e86"),!0):(this.platform,!0)},Login:function(){var e=this;return"baidu"==this.platform?swan.login({success:function(){},fail:function(){swan.showModal({title:"\u767b\u5f55\u5931\u8d25",content:"\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f",cancelText:"\u9000\u51fa\u6e38\u620f",success:function(t){t.confirm?(console.log("\u70b9\u51fb\u4e86\u786e\u5b9a"),e.Login()):t.cancel&&(console.log("\u70b9\u51fb\u4e86\u53d6\u6d88"),swan.exit())}})}}):"tt"==this.platform&&tt.login({success:function(e){},fail:function(t){tt.showModal({title:"\u767b\u5f55\u5931\u8d25",content:"\u662f\u5426\u91cd\u65b0\u767b\u5f55\uff1f",cancelText:"\u9000\u51fa\u6e38\u620f",success:function(t){t.confirm?(console.log("\u70b9\u51fb\u4e86\u786e\u5b9a"),e.Login()):t.cancel&&(console.log("\u70b9\u51fb\u4e86\u53d6\u6d88"),tt.exit())}})}}),!0},CreateGameClub:function(){if("wx"==this.platform){var e=cc.view.getVisibleSize(),t=68/e.width,o=275/e.height,i=wx.getSystemInfoSync();this.leftPos=i.windowWidth*t,this.topPos=i.windowHeight*o;this.gameClubBtn=wx.createGameClubButton({icon:"green",text:"\u6e38\u620f\u5708",style:{left:this.leftPos-20,top:this.topPos-20,width:45,height:45}})}},ShowClubButton:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"wx"==this.platform&&null!=this.gameClubBtn&&(1==e?this.gameClubBtn.show():this.gameClubBtn.hide())},CreateFeedBackButton:function(){if("wx"==this.platform){var e=cc.view.getVisibleSize(),t=68/e.width,o=275/e.height,i=wx.getSystemInfoSync();this.lPos=i.windowWidth*t,this.tPos=i.windowHeight*o;var n=this;cc.loader.loadRes("/share.png",function(e,t){n.feedBackBtn=wx.createFeedbackButton({type:"image",image:t,style:{left:n.lPos-20,top:n.tPos-20,width:45,height:45}})})}},ShowFeedbackBtn:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];"wx"==this.platform&&null!=this.feedBackBtn&&(1==e?this.feedBackBtn.show():this.feedBackBtn.hide())},ShareTopNav:function(){var e=cc.Mgr.ShareInfos.getShareInfos(1);"wx"==this.platform?(wx.showShareMenu({withShareTicket:!0}),wx.onShareAppMessage(function(){return{title:e.text,imageUrl:e.url}})):"qq"==this.platform?(qq.showShareMenu({showShareItems:["qq","qzone","wechatFriends","wechatMoment"]}),qq.onShareAppMessage(function(){return{title:e.text,imageUrl:e.url}})):"tt"==this.platform?(tt.showShareMenu(!1),tt.onShareAppMessage(function(){return{title:e.text,imageUrl:e.url}})):"baidu"==this.platform&&(swan.showShareMenu(!1),swan.onShareAppMessage(function(){return{title:e.text,imageUrl:e.url}}))},ShareToFriendTxt:function(e){var t=cc.Mgr.ShareInfos.getShareInfos(0);"wx"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),wx.shareAppMessage({title:e,imageUrl:t.url})):"qq"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),wx.shareAppMessage({title:e,imageUrl:t.url})):"tt"==this.platform?tt.shareAppMessage({title:e}):"baidu"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),swan.shareAppMessage({title:e})):"uc"==this.platform&&uc.shareAppMessage({title:e,imageUrl:t.url,query:"",target:"wechat",success:function(e){console.log("shareAppMessage share success",JSON.stringify(e))},fail:function(e){console.log("shareAppMessage share fail",JSON.stringify(e))}})},getUrl:function(e){return cc.url.raw("resources/"+e+".jpg")},ShareToFriend:function(e){var t=cc.Mgr.ShareInfos.getShareInfos(e);"wx"==this.platform?wx.shareAppMessage({title:t.text,imageUrl:t.url}):"qq"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),qq.shareAppMessage({title:t.text,imageUrl:t.url})):"tt"==this.platform?tt.shareAppMessage({title:t.text,imageUrl:t.url}):"baidu"==this.platform?(console.log("\u70b9\u51fb\u4e86\u5206\u4eab\u554a"),swan.shareAppMessage({title:t.text,imageUrl:t.url})):"uc"==this.platform&&uc.shareAppMessage({title:t.text,imageUrl:t.url,query:"",target:"wechat",success:function(e){console.log("shareAppMessage share success",JSON.stringify(e))},fail:function(e){console.log("shareAppMessage share fail",JSON.stringify(e))}})},showToast:function(e){cc.log(e),"wx"==this.platform?wx.showToast({title:e,icon:"none",duration:1e3}):"qq"==this.platform?qq.showToast({title:e,icon:"none",duration:1500}):"tt"==this.platform?tt.showToast({title:e,icon:"none",duration:1e3}):"baidu"==this.platform&&swan.showToast({title:e,icon:"success",duration:2e3})},setUserCloudStorage:function(e){if(cc.log("setUserCloudStorage socre = "+e),"wx"==this.platform)(t={wxgame:{}}).wxgame.score=e,t.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(t)),(o=new Array).push({key:"\bjzScore",value:JSON.stringify(t)}),wx.setUserCloudStorage({KVDataList:o,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail : "+e)}});else if("qq"==this.platform){(t={wxgame:{}}).wxgame.score=e,t.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(t)),(o=new Array).push({key:"\bjzScore",value:JSON.stringify(t)}),qq.setUserCloudStorage({KVDataList:o,success:function(e){console.log("success:"+JSON.stringify(e))},fail:function(e){console.log("fail : "+e)}})}else if("baidu"==this.platform){var t,o;(t={wxgame:{}}).wxgame.score=e,t.wxgame.update_time=(new Date).getTime(),console.log(JSON.stringify(t)),(o=new Array).push({key:"\bjzScore",value:JSON.stringify(t)}),swan.setUserCloudStorage({KVDataList:o,success:function(e){return console.log("success "+e)},fail:function(e){return console.log("fail "+e)},complete:function(e){return console.log("complete "+e)}})}},OpenServiceConversation:function(){"wx"==this.platform?wx.openCustomerServiceConversation({sessionFrom:"",showMessageCard:!0}):"baidu"==this.platform?swan.openCustomerServiceConversation({}):this.platform},IsSupportRank:function(){return"wx"==this.platform||"baidu"==this.platform||"qq"==this.platform},showSubContentView:function(){if("wx"==this.platform||"baidu"==this.platform||"qq"==this.platform){var e={};e.platform=this.platform,e.flag=!0,cc.director.GlobalEvent.emit(cc.Mgr.Event.ShowRank,e)}},hideSubContentView:function(){if("wx"==this.platform||"baidu"==this.platform||"qq"==this.platform){var e={flag:!1};e.platform=this.platform,cc.director.GlobalEvent.emit(cc.Mgr.Event.ShowRank,e)}},SendMessageToSubView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o={};o.code=e,o.curScore=t,"wx"==this.platform?wx.getOpenDataContext().postMessage({message:o}):"qq"==this.platform?qq.getOpenDataContext().postMessage({message:o}):"baidu"==this.platform?swan.getOpenDataContext().postMessage({message:o}):"tt"==this.platform&&tt.getOpenDataContext().postMessage({message:o})},IsSupportRecordScreen:function(){return"tt"==this.platform||"baidu"==this.platform&&!!this.CompareSdkVesrion(swan.getSystemInfoSync().SDKVersion,"1.4.1")},StartRecordScreen:function(){this.isScreen=!0;var e=this;this.videoPath="","tt"==this.platform?(null==this.recorderManager&&(this.recorderManager=tt.getGameRecorderManager(),this.recorderManager.onStart(function(t){cc.Mgr.Global.screenStartTime=cc.Mgr.Utils.GetSysTime(),console.log("\u5f55\u5236\u5f00\u59cb\u4e86: "+t),e.showToast("\u5f00\u59cb\u5f55\u5c4f")}),this.recorderManager.onStop(function(t){e.showToast("\u7ed3\u675f\u5f55\u5c4f"),e.isScreen=!1,cc.director.emit("OnStopScreen",{}),e.videoPath=t.videoPath,e.ShareRecordScreen()}),this.recorderManager.onPause(function(){console.log("\u5f55\u5236\u6682\u505c\u4e86")}),this.recorderManager.onResume(function(){console.log("\u5f55\u5236\u6062\u590d\u4e86")}),this.recorderManager.onError(function(e){console.log("\u5f55\u5236\u51fa\u9519\u4e86:"+e)})),this.recorderManager.start({duration:30})):"baidu"==this.platform&&(null==this.recorderManager&&(this.recorderManager=swan.getVideoRecorderManager(),this.recorderManager.onStart(function(e){console.log("\u5f55\u5236\u5f00\u59cb\u4e86: "+e)}),this.recorderManager.onStop(function(t){console.log("\u5f55\u5236\u7ed3\u675f\u4e86: "+t.videoPath),e.videoPath=t.videoPath}),this.recorderManager.onPause(function(){console.log("\u5f55\u5236\u6682\u505c\u4e86")}),this.recorderManager.onResume(function(){console.log("\u5f55\u5236\u6062\u590d\u4e86")}),this.recorderManager.onError(function(e){console.log("\u5f55\u5236\u51fa\u9519\u4e86:"+e)})),this.recorderManager.start({duration:30,microphoneEnabled:!0}))},StopRecordScreen:function(){if(this.isScreen=!1,"tt"==this.platform){if(null==this.recorderManager)return;console.log("\u505c\u6b62\u5f55\u5236"),this.recorderManager.stop()}else if("baidu"==this.platform){if(null==this.recorderManager)return;console.log("\u505c\u6b62\u5f55\u5236"),this.recorderManager.stop()}},ShareRecordScreen:function(){var e=this;if(cc.Mgr.Utils.GetSysTime()-cc.Mgr.Global.screenStartTime<=3)return cc.Mgr.Global.screenStartTime=0,void this.showToast("\u5f55\u5236\u65f6\u95f4\u5c11\u4e8e\u4e09\u79d2,\u672a\u80fd\u6210\u529f\u4fdd\u5b58\u89c6\u9891");if(this.showToast("\u7ed3\u675f\u5f55\u5c4f"),"tt"==this.platform){if(null==this.recorderManager||""==this.videoPath)return;console.log("\u5206\u4eab\u5f55\u5236\u7684\u89c6\u9891"),tt.shareVideo({videoPath:""+this.videoPath,success:function(){e.showToast("\u5206\u4eab\u6210\u529f\uff01"),console.log("\u5206\u4eab\u6210\u529f\uff01")},fail:function(t){e.showToast("\u5206\u4eab\u5931\u8d25\uff01"),console.log("\u5206\u4eab\u5931\u8d25\uff01"+t)}})}else if("baidu"==this.platform){if(null==this.recorderManager||null==this.videoPath)return;console.log("\u5206\u4eab\u5f55\u5236\u7684\u89c6\u9891"),swan.shareVideo({videoPath:""+this.videoPath,success:function(){console.log("\u5206\u4eab\u6210\u529f\uff01")},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25\uff01"+e)}})}},QuakeScreen:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];1==this.QuakeState&&"pc"!=this.platform&&(1==e?"tt"==this.platform?tt.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"qq"==this.platform?qq.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"baidu"==this.platform?swan.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"wx"==this.platform&&wx.vibrateLong({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}):"tt"==this.platform?tt.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"baidu"==this.platform?swan.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"qq"==this.platform?qq.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}):"wx"==this.platform&&wx.vibrateShort({success:function(e){console.log(""+e)},fail:function(e){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}))},SetQuakeState:function(){this.QuakeState=(this.QuakeState+1)%2},GetQuakeState:function(){return this.QuakeState},JumpToOtherApp:function(e){"wx"==this.platform?wx.navigateToMiniProgram({appId:e,envVersion:"release",success:function(e){console.log("\u6210\u529f\u6253\u5f00\u4e86\u5176\u4ed6\u5c0f\u7a0b\u5e8f")}}):"baidu"==this.platform||this.platform},CompareSdkVesrion:function(e,t){for(var o=e.split("."),i=t.split("."),n=Math.max(o.length,i.length);o.length<n;)o.push("0");for(;i.length<n;)i.push("0");for(var s=0;s<n;s++){if(parseInt(o[s])<parseInt(i[s]))return 0;if(parseInt(o[s])>parseInt(i[s]))return 1}return 1},AldEventStatis:function(e,t){"wx"==this.platform&&wx.aldSendEvent(e,t)}}});t.exports=i,cc._RF.pop()},{}],RankPanel:[function(e,t,o){"use strict";cc._RF.push(t,"f97caUCsMBF4ZKKm77sXkmE","RankPanel");var i=cc.Class({extends:cc.Component,properties:{},ShowNextPage:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowNextPage")},ShowFrontPage:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontPage")}});t.exports=i,cc._RF.pop()},{}],ReBox:[function(e,t,o){"use strict";cc._RF.push(t,"e788bZGBn1MUJM+EnB7LQak","ReBox");var i=cc.Class({name:"ReBox",properties:{posX:-1,posY:-1,flagNum:0,showCoin:!1,showSeed:!1},InitBox:function(e,t){this.posX=e,this.posY=t,this.flagNum=0,this.showCoin=!1,this.showSeed=!1},RefreshReBox:function(e,t,o){this.flagNum=e,this.showCoin=t,this.showSeed=o}});t.exports=i,cc._RF.pop()},{}],RewardGetTipPanel:[function(e,t,o){"use strict";cc._RF.push(t,"fcf345rePJFO5nS+JMrZAZb","RewardGetTipPanel");var i=cc.Class({extends:cc.Component,properties:{numLbl:cc.Label,Sp:cc.Sprite,SpSkill:cc.Sprite,Atals:cc.SpriteAtlas,StartNode:cc.Node},ShowPanel:function(e){this.numLbl.string=e.num,this.Sp.node.active=1==e.Tp,this.SpSkill.node.active=2==e.Tp,this.SpSkill.spriteFrame=this.Atals.getSpriteFrame(e.sp),this.Sp.spriteFrame=this.Atals.getSpriteFrame(e.sp),this.TimeToClose()},TimeToClose:function(){this.scheduleOnce(function(){this.ClosePanel()},1.5)},ClosePanel:function(){0==this.StartNode.active&&cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.node.active=!1}});t.exports=i,cc._RF.pop()},{}],SettingPanel:[function(e,t,o){"use strict";cc._RF.push(t,"99a9aWFrJJGAJhbDMGJ81Rh","SettingPanel");var i=e("BirdVoiceCtrl"),n=cc.Class({extends:cc.Component,properties:{Atlas:cc.SpriteAtlas,checkMarkM:cc.Sprite,checkMarkV:cc.Sprite,checkMarkQ:cc.Sprite,birdVoice:i,KeFuNode:cc.Node},ShowPanel:function(){0==cc.Mgr.AudioMgr.musicState?this.checkMarkM.spriteFrame=this.Atlas.getSpriteFrame("m_off"):this.checkMarkM.spriteFrame=this.Atlas.getSpriteFrame("m_on"),0==cc.Mgr.AudioMgr.voiceState?this.checkMarkV.spriteFrame=this.Atlas.getSpriteFrame("v_off"):this.checkMarkV.spriteFrame=this.Atlas.getSpriteFrame("v_on"),1==cc.Mgr.PlatformController.GetQuakeState()?this.checkMarkQ.spriteFrame=this.Atlas.getSpriteFrame("quake_on"):this.checkMarkQ.spriteFrame=this.Atlas.getSpriteFrame("quake_off"),"wx"!=cc.Mgr.PlatformController.platform&&(this.KeFuNode.active=!1)},MusicTog:function(){0==cc.Mgr.AudioMgr.musicState?(this.OnMusic(),this.birdVoice.Resume()):(this.OffMusic(),this.birdVoice.Stop())},VoiceTog:function(){0==cc.Mgr.AudioMgr.voiceState?this.OnVoice():this.OffVoice()},QuakeTog:function(){0==cc.Mgr.PlatformController.GetQuakeState()?this.checkMarkQ.spriteFrame=this.Atlas.getSpriteFrame("quake_on"):this.checkMarkQ.spriteFrame=this.Atlas.getSpriteFrame("quake_off"),cc.Mgr.PlatformController.SetQuakeState()},OnMusic:function(){cc.Mgr.AudioMgr.resumeMusic(),this.checkMarkM.spriteFrame=this.Atlas.getSpriteFrame("m_on")},OffMusic:function(){cc.Mgr.AudioMgr.pauseMusic(),this.checkMarkM.spriteFrame=this.Atlas.getSpriteFrame("m_off")},OnVoice:function(){cc.Mgr.AudioMgr.resumeVoice(),this.checkMarkV.spriteFrame=this.Atlas.getSpriteFrame("v_on")},OffVoice:function(){cc.Mgr.AudioMgr.pauseVoice(),this.checkMarkV.spriteFrame=this.Atlas.getSpriteFrame("v_off")},Help:function(){},KeFu:function(){cc.Mgr.PlatformController.OpenServiceConversation()},ClosePanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.node.active=!1}});t.exports=n,cc._RF.pop()},{BirdVoiceCtrl:"BirdVoiceCtrl"}],ShareInfos:[function(e,t,o){"use strict";cc._RF.push(t,"cbabaJR2rFNv4Pbgoaogc9i","ShareInfos");var i=cc.Class({extends:cc.Component,statics:{init:function(){this.Infos=[{text:"\u56fd\u6f2b\u548c\u98ce,\u63a8\u7bb1\u5b50\u4e0e\u6d88\u9664\u7ed3\u5408\u73a9\u6cd5,\u8ba9\u4f60\u6e05\u65b0\u4e00\u590f",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5oBqUjzhN2uaibicSTibICibjYHgdtvQea6hb8DSoibWiaTgcRPfFDNGCOksG/0"},{text:"\u56fd\u6f2b\u548c\u98ce,\u63a8\u7bb1\u5b50\u4e0e\u6d88\u9664\u7ed3\u5408\u73a9\u6cd5,\u5feb\u6765\u4f53\u9a8c\u5427",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5oBqUjzhN2uaibicSTibICibjYHgdtvQea6hb8DSoibWiaTgcRPfFDNGCOksG/0"},{text:"\u4e0d\u540c\u89d2\u8272,\u63a8\u7bb1\u5b50\u4e0e\u6d88\u9664\u7ed3\u5408\u73a9\u6cd5,\u5feb\u6765\u4f53\u9a8c\u5427",url:"https://mmocgame.qpic.cn/wechatgame/VW5UT1uqQ5oabRezePO6O7kISDhVIHYWDN9KwnbiaTdwuVMOYqwIzXnxnuRC23lem/0"},{text:"\u4f60\u7684\u597d\u53cb\u5411\u4f60\u53d1\u51fa\u4e86\u6311\u6218,\u4f60\u6562\u5e94\u6218\u5417\uff1f",url:""},{text:"\u4f60\u7684\u597d\u53cb\u5411\u4f60\u53d1\u51fa\u4e86\u6311\u6218,\u4f60\u6562\u5e94\u6218\u5417\uff1f",url:""},{text:"\u4f60\u7684\u597d\u53cb\u5411\u4f60\u53d1\u51fa\u4e86\u6311\u6218,\u4f60\u6562\u5e94\u6218\u5417\uff1f",url:""},{text:"\u4f60\u7684\u597d\u53cb\u5411\u4f60\u53d1\u51fa\u4e86\u6311\u6218,\u4f60\u6562\u5e94\u6218\u5417\uff1f",url:""},{text:"\u4f60\u7684\u597d\u53cb\u5411\u4f60\u53d1\u51fa\u4e86\u6311\u6218,\u4f60\u6562\u5e94\u6218\u5417\uff1f",url:""},{text:"\u672c\u6765\u53ea\u662f\u968f\u4fbf\u73a9\u73a9\uff0c\u5367\u69fd\u505c\u4e0d\u4e0b\u6765",url:""}]},getShareInfos:function(e){return this.Infos[e]}}});t.exports=i,cc._RF.pop()},{}],ShopPanel:[function(e,t,o){"use strict";cc._RF.push(t,"bba64AB7eBNtIe2AywpxO+S","ShopPanel");var i=e("SkinItem"),n=e("DataType"),s=e("BonusType"),r=e("CommonTipPanel"),a=cc.Class({extends:cc.Component,properties:{tipPanel:r,Atlas:cc.SpriteAtlas,runeSp:cc.Sprite,nameLbl:cc.Label,DesLbl:cc.Label,priceLbl:cc.Label,BuyUseBtnBgSp:cc.Sprite,skinItemList:[i],BuyUseTxt:cc.Label,chooseId:5},start:function(){var e=this;cc.director.on("ChooseSkinItem",function(t){e.RefreshPanel(t.skinId)})},RefreshPanel:function(e){var t=cc.Mgr.UserData.IsSkinUnLock(e),o=cc.Mgr.DataMapMgr.getDataByDataTypeAndId(n.Skin,e);this.BuyUseTxt.string=t?"\u4f7f  \u7528":"\u8d2d  \u4e70";for(var i="",r=o.bonusList.length-1;r>=0;r--)o.bonusList[r].bonusType==s.CoinBonus?i=i+"\u91d1\u5e01\u6536\u96c6:+"+o.bonusList[r].bonusNum+"%":o.bonusList[r].bonusType==s.RuneBonus&&(i=i+"\u7b26\u6587\u6536\u96c6:+"+o.bonusList[r].bonusNum+"%"),0!=r&&(i+="\n");this.priceLbl.string="\u4ef7\u683c:"+o.price,this.DesLbl.string=i,this.chooseId=e,this.nameLbl.string=o.rname,this.runeSp.spriteFrame=this.Atlas.getSpriteFrame("target_"+o.skinRuneType)},ShowPanel:function(){for(var e=cc.Mgr.DataMapMgr.getDataListByDataType(n.Skin),t=0;t<=this.skinItemList.length-1;t++)null!=e[t]&&this.skinItemList[t].InitItem(e[t].skinId);this.RefreshPanel(cc.Mgr.UserData.getCurSkinId())},BuyUse:function(){var e=cc.Mgr.UserData.IsSkinUnLock(this.chooseId),t=cc.Mgr.DataMapMgr.getDataByDataTypeAndId(n.Skin,this.chooseId);if(e){cc.Mgr.UserData.refreshUseSkinId(this.chooseId);var o={};o.skinId=this.chooseId,cc.director.emit("UseSkin",o),this.ClosePanel()}else if(cc.Mgr.UserData.getRuneNum(this.chooseId-4)>=t.price)cc.Mgr.UserData.addRuneFunc(-t.price,t.skinRuneType),cc.director.emit("BuySkin",{}),cc.Mgr.UserData.UnlockSkinById(this.chooseId),this.BuyUseTxt.string="\u4f7f  \u7528";else{this.tipPanel.node.active=!0;this.tipPanel.ShowPanel("\u4f60\u7684\u7b26\u6587\u4e0d\u591f,\u60a8\u53ef\u4ee5\u901a\u8fc7\u89c2\u770b\u89c6\u9891\u5e7f\u544a\u83b7\u5f97,\u6216\u8005\u5728\u6e38\u620f\u4e2d\u79ef\u6512\u8db3\u591f\u7b26\u6587")}},ClosePanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.node.active=!1}});t.exports=a,cc._RF.pop()},{BonusType:"BonusType",CommonTipPanel:"CommonTipPanel",DataType:"DataType",SkinItem:"SkinItem"}],SkillBackTipPanel:[function(e,t,o){"use strict";cc._RF.push(t,"99d0110CQ1C/q8O91oX/peA","SkillBackTipPanel");var i=cc.Class({extends:cc.Component,properties:{desLbl:cc.Label},ShowPanel:function(){this.desLbl.string="\u5269\u4f59\u4e2a\u6570:"+cc.Mgr.UserData.getSkillBackNum()},ClosePanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.node.active=!1}});t.exports=i,cc._RF.pop()},{}],SkillUsePanel:[function(e,t,o){"use strict";cc._RF.push(t,"4acb1rSvg5N94jhZH7JV1Mx","SkillUsePanel");var i=cc.Class({extends:cc.Component,properties:{diamondLbl:cc.Label,btnBgSp:cc.Sprite,Atlas:cc.SpriteAtlas},ShowPanel:function(){var e=cc.Mgr.UserData.getCoinNum();cc.log("+++++++++++++++++++++ "+e),this.diamondLbl.string=e,e>=cc.Mgr.Global.ReturnStepCost?this.btnBgSp.spriteFrame=this.Atlas.getSpriteFrame("btnbg_1"):this.btnBgSp.spriteFrame=this.Atlas.getSpriteFrame("btnbg_2")},ClosePanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.node.active=!1}});t.exports=i,cc._RF.pop()},{}],SkinBonus:[function(e,t,o){"use strict";cc._RF.push(t,"37e20KwaXVHq6zC2dE0WfBw","SkinBonus");cc.Class({name:"SkinBonus",properties:{bonusType:cc.Integer,bonusNum:cc.Integer}});cc._RF.pop()},{}],SkinData:[function(e,t,o){"use strict";cc._RF.push(t,"00be6HQojpEcqRlhiJGNEIw","SkinData");var i=e("SkinBonus"),n=cc.Class({name:"SkinData",properties:{skinId:cc.Integer,price:cc.Integer,rname:"",skinRuneType:1,bonusList:[i]}});t.exports=n,cc._RF.pop()},{SkinBonus:"SkinBonus"}],SkinItem:[function(e,t,o){"use strict";cc._RF.push(t,"5451boFJshI3rdpO5cEgXWM","SkinItem");var i=cc.Class({extends:cc.Component,properties:{skinId:cc.Integer,tog:cc.Toggle},InitItem:function(e){this.skinId=e,this.skinId==cc.Mgr.UserData.getCurSkinId()?this.tog.isChecked=!0:this.tog.isChecked=!1},ChooseItem:function(){var e={};e.skinId=this.skinId,cc.director.emit("ChooseSkinItem",e)}});t.exports=i,cc._RF.pop()},{}],SkinMap:[function(e,t,o){"use strict";cc._RF.push(t,"abccajbhrJH3YbOodi4LwEo","SkinMap");var i=e("SkinData"),n=e("SkinBonus"),s=cc.Class({extends:cc.Component,properties:{jsonName:"skin",skinList:{default:[],type:[i]}},DecodeJson:function(e){var t=this;t.reCb=e,cc.loader.loadRes("json/"+t.jsonName,function(e,o){if(e)t.reCb(!1);else{for(var s=o.json.skin,r=0;r<s.length;r++){var a=new i;a.skinId=s[r].skinId,a.price=s[r].price,a.rname=s[r].name,a.skinRuneType=s[r].skinRuneType;for(var c=0;c<s[r].bonusList.length;c++){var l=new n;l.bonusType=s[r].bonusList[c][0],l.bonusNum=s[r].bonusList[c][1],a.bonusList[c]=l}t.skinList[r]=a}t.reCb(!0)}})},getDataById:function(e){for(var t=null,o=this.skinList.length-1;o>=0;o--)if(e==this.skinList[o].skinId){t=this.skinList[o];break}return t},getJsonLength:function(){return this.skinList.length},getDataList:function(){return this.skinList}});t.exports=s,cc._RF.pop()},{SkinBonus:"SkinBonus",SkinData:"SkinData"}],SkinStruct:[function(e,t,o){"use strict";cc._RF.push(t,"6f331O4fGJFobQN8AIUKtpF","SkinStruct");var i=cc.Class({name:"SkinStruct",properties:{skinId:cc.Integer,price:cc.Integer,unLock:0}});t.exports=i,cc._RF.pop()},{}],StartPanel:[function(e,t,o){"use strict";cc._RF.push(t,"5a50cIF/iZHh4OK+WnBNng6","StartPanel");var i=cc.Class({extends:cc.Component,properties:{startAni:cc.Animation,coinNumLbl:cc.Label,runeBNumLbl:cc.Label,runeCNumLbl:cc.Label,rewardAni:cc.Animation,runeBAdd:cc.Label,runeCAdd:cc.Label,LuPingNode:cc.Node},start:function(){this.startAni.play();var e=this;cc.director.on("RewardCallBack",function(t){e.playAnimation(t)}),"wx"==cc.Mgr.PlatformController.platform&&(this.LuPingNode.active=!1)},playAnimation:function(e){1==e.RewardType&&(this.runeBAdd.string="runeB"==e.Tp?"+"+e.num:"",this.runeCAdd.string="runeC"==e.Tp?"+"+e.num:"",this.scheduleOnce(function(){this.rewardAni.play("startRewardAni"),this.RefreshUI()},.5))},ShowPanel:function(){this.startAni.play(),this.RefreshUI()},RefreshUI:function(){"tt"==cc.Mgr.PlatformController.platform&&(this.LuPingNode.active=!0),this.coinNumLbl.string=cc.Mgr.UserData.getCoinNum(),this.runeBNumLbl.string=cc.Mgr.UserData.getRuneNum(2),this.runeCNumLbl.string=cc.Mgr.UserData.getRuneNum(3)}});t.exports=i,cc._RF.pop()},{}],TipPlayPanel:[function(e,t,o){"use strict";cc._RF.push(t,"415ebZw2TNDtIijRAb6Xidq","TipPlayPanel");var i=cc.Class({extends:cc.Component,properties:{},ClosePanel:function(){this.node.active=!1}});t.exports=i,cc._RF.pop()},{}],TutorialPanel:[function(e,t,o){"use strict";cc._RF.push(t,"44327xJKAVIJ5y40suV+Bs9","TutorialPanel");var i=e("GameController"),n=e("DIR"),s=cc.Class({extends:cc.Component,properties:{gameCtrl:i,FingerNode:cc.Node,Anima:cc.Animation,TipDesLbl:cc.Label,GoStep:1},start:function(){this.AddTouchEventListener()},OperFirstStep:function(){this.GoStep=1,this.Anima.play("tutorialFinger"),this.TipDesLbl.string="\u5411\u4e0b\u6ed1\u52a8,\u63a7\u5236\u5c0f\u5973\u5b69\u79fb\u52a8,\u5c06\u6728\u7bb1\u63a8\u79fb\u5230\u4e00\u6761\u76f4\u7ebf\u4e0a"},OperFirstSubStep:function(){this.GoStep=2,this.Anima.play("tutorialFinger"),this.TipDesLbl.string="\u5f53\u6728\u7bb1\u5f62\u6210\u4e00\u6761\u76f4\u7ebf\u65f6\uff0c\u6728\u7bb1\u4f1a\u88ab\u6253\u5f00\uff0c\u7bb1\u5b50\u6253\u5f00\u540e\u51fa\u73b0\u8d1d\u58f3,\u62fe\u53d6\u53ef\u83b7\u5f97\u79ef\u5206"},OperSecondStep:function(){this.GoStep=3,this.Anima.play("tutorialFingerH"),this.TipDesLbl.string="\u8ba9\u5c0f\u5973\u5b69\u5de6\u53f3\u884c\u8d70,\u62fe\u53d6\u8d1d\u58f3,\u83b7\u5f97\u79ef\u5206"},OperThirdStep:function(){this.GoStep=4,this.FingerNode.active=!1,this.TipDesLbl.string="\u975e\u5e38\u597d,\u4f60\u5df2\u7ecf\u638c\u63e1\u4e86\u57fa\u672c\u6e38\u620f\u89c4\u5219,\u5c3d\u60c5\u7684\u6e38\u620f\u5427",cc.Mgr.UserData.FinishTutorial()},OperSeedStep:function(){this.GoStep=5,this.FingerNode.active=!1,this.TipDesLbl.string="\u6e38\u620f\u8fbe\u5230"+cc.Mgr.Global.SpawnSeedLv+"\u7ea7\u65f6,\u6709\u51e0\u7387\u5728\u65b9\u683c\u4e2d\u51fa\u73b0\u79cd\u5b50,\u79cd\u5b50\u4e0d\u662f\u969c\u788d,\u53ef\u88ab\u63a8\u52a8\u7684\u6728\u7bb1\u538b\u788e,\u4f46\u5f53\u5c0f\u5973\u5b69\u8e29\u8e0f\u8fc7\u540e\u79cd\u5b50\u5c06\u53d1\u82bd\u957f\u6210\u82b1\u4e1b",cc.Mgr.UserData.FinishTutorialSeed()},OperStoneStep:function(){this.GoStep=6,this.FingerNode.active=!1,this.TipDesLbl.string="\u6e38\u620f\u8fbe\u5230"+cc.Mgr.Global.SpawnStoneLv+"\u7ea7\u65f6,\u6709\u51e0\u7387\u5728\u65b9\u683c\u4e2d\u51fa\u73b0\u77f3\u5757,\u77f3\u5757\u5c5e\u4e8e\u4e0d\u53ef\u63a8\u52a8\u969c\u788d,\u4f60\u53ef\u4ee5\u4f7f\u7528\u77f3\u9524\u7206\u7834\u8be5\u7c7b\u578b\u969c\u788d",cc.Mgr.UserData.FinishTutorialStone()},ClosePanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.node.active=!1},AddTouchEventListener:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onTouched,this)},onTouched:function(e){this.gameCtrl.SaveRememberBoxMapData(),cc.Mgr.Global.hasMove=!0;var t=e.getStartLocation(),o=e.getLocation(),i=o.x-t.x,s=o.y-t.y;5==this.GoStep||6==this.GoStep?this.scheduleOnce(function(){this.ClosePanel()},2.5):Math.abs(i)>Math.abs(s)?i>0?i>5&&(cc.director.emit("MoveRoleBox",{DIR:n.RIGHT}),3==this.GoStep?(this.gameCtrl.MoveBoxDirRight(n.RIGHT),this.scheduleOnce(function(){this.OperThirdStep()},.1)):4==this.GoStep&&(this.gameCtrl.MoveBoxDirRight(n.RIGHT),this.ClosePanel())):i<0&&i<-5&&(cc.director.emit("MoveRoleBox",{DIR:n.LEFT}),3==this.GoStep?(this.gameCtrl.MoveBoxDirLeft(n.LEFT),this.scheduleOnce(function(){this.OperThirdStep()},.1)):4==this.GoStep&&(this.gameCtrl.MoveBoxDirLeft(n.LEFT),this.ClosePanel())):s>5?4==this.GoStep&&(this.gameCtrl.MoveBoxDirUp(n.UP),this.ClosePanel()):s<0&&(1==this.GoStep?(this.gameCtrl.MoveBoxDirDown(n.DOWN),this.scheduleOnce(function(){this.OperFirstSubStep()},.1)):2==this.GoStep?(this.gameCtrl.MoveBoxDirDown(n.DOWN),this.scheduleOnce(function(){this.OperSecondStep()},.1)):4==this.GoStep&&(this.gameCtrl.MoveBoxDirDown(n.DOWN),this.ClosePanel()))}});t.exports=s,cc._RF.pop()},{DIR:"DIR",GameController:"GameController"}],UIMgr:[function(e,t,o){"use strict";cc._RF.push(t,"865c6W6/69HUqhmC8vxYaPi","UIMgr");var i=e("GameController"),n=e("SettingPanel"),s=e("GameState"),r=e("UIScore"),a=e("SkillUsePanel"),c=e("ShopPanel"),l=e("TutorialPanel"),h=e("OverPanel"),u=e("CommonTipPanel"),d=e("BuyBoomPanel"),g=e("TipPlayPanel"),p=e("MenuPanel"),m=e("AdsParam"),f=e("SkillBackTipPanel"),S=e("StartPanel"),M=cc.Class({extends:cc.Component,properties:{pauseForReborn:!1,lastShareTime:0,gameCtrl:i,StartUINode:S,RankUINode:cc.Node,boomSkillBuyPanel:d,spwanSkillBuyPanel:d,BoomSkillTipNode:cc.Node,SpawnSkillTipNode:cc.Node,ProgressTipNode:cc.Node,LuPingNode:cc.Node,skillUsePanel:a,skillBackTip:f,settingPanel:n,shopPanel:c,tutorialPanel:l,overPanel:h,tipPanel:u,tipPlayPanel:g,menuPanel:p,highScoreLbl:cc.Label,boomHasNumLbl:cc.Label,spwanHasNumLbl:cc.Label,backHasNumLbl:cc.Label,Atlas:cc.SpriteAtlas,screenSpA:cc.Sprite,screenSpB:cc.Sprite,uiScore:r,wxSubContextView:cc.Node},start:function(){var e=this;cc.director.on("ShowOver",function(t){e.ShowRebornPanel()}),cc.director.on("UseBoomSkillEnd",function(t){e.UseBoomSkillEnd()}),cc.director.on("UseSpwanSkillEnd",function(t){e.UseSpwanSkillEnd()}),cc.director.on("TutorialSeed",function(t){e.tutorialPanel.node.active=!0,e.tutorialPanel.OperSeedStep()}),cc.director.on("TutorialStone",function(t){e.tutorialPanel.node.active=!0,e.tutorialPanel.OperStoneStep()}),cc.director.on("OnStopScreen",function(){e.SetScreenSps()}),cc.game.on(cc.game.EVENT_HIDE,function(){1==e.pauseForReborn&&(e.lastShareTime=cc.Mgr.Utils.GetSysTime())}),cc.game.on(cc.game.EVENT_SHOW,function(){1==e.pauseForReborn&&e.RebornCallFunc()})},RefreshUI:function(){"wx"==cc.Mgr.PlatformController.platform?this.LuPingNode.active=!1:"tt"==cc.Mgr.PlatformController.platform&&(this.LuPingNode.active=!0),this.StartUINode.RefreshUI(),this.highScoreLbl.string=cc.Mgr.UserData.getHighScore(),this.boomHasNumLbl.string=cc.Mgr.UserData.getSkillBoomNum(),this.spwanHasNumLbl.string=cc.Mgr.UserData.getSkillSpwanNum(),this.backHasNumLbl.string=cc.Mgr.UserData.getSkillBackNum()},JumpToApp:function(e,t){cc.log("=============== "+t),cc.Mgr.PlatformController.JumpToOtherApp(t)},CloseProgressTipNode:function(){this.ProgressTipNode.active=!1},BackUIMenu:function(){cc.Mgr.UserData.leftRebornTimes=3,cc.Mgr.UserData.SaveData(),cc.Mgr.AdsMgr.RecoverShowBanner(),this.menuPanel.node.active=!1,this.StartUINode.node.active=!0,this.StartUINode.ShowPanel(),this.overPanel.node.active=!1,this.RankUINode.active=!1,cc.Mgr.PlatformController.SendMessageToSubView("CloseAllNodes"),this.RefreshUI()},JustBackHome:function(){cc.Mgr.AdsMgr.ShowInterstitialAd(2),cc.Mgr.AdsMgr.RecoverShowBanner(),this.menuPanel.node.active=!1,this.StartUINode.node.active=!0,this.StartUINode.ShowPanel(),this.overPanel.node.active=!1,this.RankUINode.active=!1,cc.Mgr.PlatformController.SendMessageToSubView("CloseAllNodes"),this.RefreshUI()},StartPlay:function(){cc.Mgr.AdsMgr.HideBannerAd(),this.overPanel.node.active=!1,0==cc.Mgr.UserData.hasLastProgress&&cc.Mgr.AudioMgr.playSFX("dong"),1==this.ProgressTipNode.active&&(cc.Mgr.UserData.leftRebornTimes=3,this.ProgressTipNode.active=!1,cc.Mgr.UserData.ClearReBoxMap()),this.scheduleOnce(function(){cc.Mgr.Global.InitData(),this.gameCtrl.gameState=s.Wait,1==cc.Mgr.UserData.hasLastProgress?(cc.Mgr.AudioMgr.playSFX("dong"),this.ProgressTipNode.active=!0):(this.uiScore.ResetScore(),this.StartUINode.node.active=!1,this.gameCtrl.StartGame(),cc.Mgr.UserData.leftRebornTimes=3,cc.Mgr.PlatformController.SendMessageToSubView("GetRankList"),0==cc.Mgr.UserData.IsTutorialOver()&&this.scheduleOnce(function(){this.tutorialPanel.node.active=!0,this.tutorialPanel.OperFirstStep()},.25))},.25)},StartGameUseProgress:function(){cc.Mgr.AdsMgr.HideBannerAd(),cc.Mgr.AudioMgr.playSFX("dong"),this.overPanel.node.active=!1,this.scheduleOnce(function(){this.StartUINode.node.active=!1,this.ProgressTipNode.active=!1,cc.Mgr.PlatformController.SendMessageToSubView("GetRankList"),this.uiScore.ResetScore(),this.uiScore.ResetScoreUseProgress(cc.Mgr.UserData.remScore),cc.Mgr.Global.InitData(),this.gameCtrl.gameState=s.Wait,this.gameCtrl.StartGameUseProgressData(),0==cc.Mgr.UserData.IsTutorialOver()&&this.scheduleOnce(function(){this.tutorialPanel.node.active=!0,this.tutorialPanel.OperFirstStep()},1.5)},.25)},RePlayStart:function(){cc.Mgr.AdsMgr.HideBannerAd(),cc.Mgr.AudioMgr.playSFX("dong"),this.overPanel.node.active=!1,this.scheduleOnce(function(){this.StartUINode.node.active=!1,cc.Mgr.PlatformController.SendMessageToSubView("GetRankList"),this.uiScore.ResetScore(),this.gameCtrl.ClearBoard(),cc.Mgr.Global.InitData(),cc.Mgr.Global.InitReBornTime(),this.gameCtrl.gameState=s.Wait,this.gameCtrl.ReStartGame()},.25)},OpenShop:function(){cc.Mgr.AudioMgr.playSFX("dong"),this.menuPanel.node.active=!1,cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes"),this.shopPanel.node.active=!0,this.shopPanel.ShowPanel()},RebornGame:function(){cc.Mgr.AdsMgr.HideBannerAd(),cc.Mgr.AudioMgr.playSFX("dong"),this.overPanel.node.active=!1,cc.Mgr.PlatformController.SendMessageToSubView("GetRankList"),this.scheduleOnce(function(){this.StartUINode.node.active=!1,this.gameCtrl.ClearBoard(),cc.Mgr.Global.InitData(),this.gameCtrl.gameState=s.Wait,this.gameCtrl.ReStartGame()},.25)},RebornToGame:function(){cc.Mgr.AdsMgr.HideBannerAd(),cc.Mgr.Global.LeftRebornTime<=0?this.BackUIMenu():(this.pauseForReborn=!0,cc.Mgr.PlatformController.ShareToFriend(2))},RebornCallFunc:function(){cc.Mgr.AdsMgr.HideBannerAd(),console.log("\u73b0\u5728\u7684\u65f6\u95f4 = "+cc.Mgr.Utils.GetSysTime()+"    \u8bb0\u5f55\u7684\u65f6\u95f4 = "+this.lastShareTime),cc.Mgr.Utils.GetSysTime()>this.lastShareTime+3?(cc.Mgr.PlatformController.SendMessageToSubView("RefreshBeyondNormalNode",this.uiScore.score),this.RebornGame(),cc.Mgr.Global.LeftRebornTime-=1,cc.Mgr.Global.LeftRebornTime<0&&(cc.Mgr.Global.LeftRebornTime=0)):cc.Mgr.PlatformController.showToast("\u8bf7\u5148\u5b8c\u6210\u5206\u4eab"),this.pauseForReborn=!1},RebornBackFunc:function(){cc.Mgr.PlatformController.SendMessageToSubView("RefreshBeyondNormalNode",this.uiScore.score),this.RebornGame(),cc.Mgr.UserData.leftRebornTimes-=1,cc.Mgr.UserData.leftRebornTimes<0&&(cc.Mgr.UserData.leftRebornTimes=0),cc.Mgr.UserData.SaveData()},ShareToFriend:function(){if(cc.Mgr.Global.LeftRebornTime<=0){var e="\u6211\u5728-\u8a00\u5ead\u4e4b\u590f-\u62fe\u53d6\u4e86"+this.uiScore.score+"\u4e2a\u8d1d\u58f3,\u4e00\u8d77\u6765\u73a9\u5427?";cc.Mgr.PlatformController.ShareToFriendTxt(e)}else{this.pauseForReborn=!0;e="\u6211\u5728-\u8a00\u5ead\u4e4b\u590f-\u62fe\u53d6\u4e86"+this.uiScore.score+"\u4e2a\u8d1d\u58f3,\u4e00\u8d77\u6765\u73a9\u5427?";cc.Mgr.PlatformController.ShareToFriendTxt(e)}},WatchAdsReborn:function(){if(cc.Mgr.UserData.leftRebornTimes<=0)this.BackUIMenu();else{cc.Mgr.AdsMgr.HideBannerAd();var e=this;cc.Mgr.AdsMgr.ShowVideoAds(m.PointA,function(t){0==t&&e.RebornBackFunc()})}},OpenRankPanel:function(){if(cc.Mgr.AudioMgr.playSFX("dong"),"uc"==cc.Mgr.PlatformController.platform)return this.tipPanel.node.active=!0,void this.tipPanel.ShowPanel("\u6392\u884c\u699c\u529f\u80fd\u6682\u672a\u5f00\u653e");"tt"!=cc.Mgr.PlatformController.platform?(cc.Mgr.PlatformController.SendMessageToSubView("RankPanelOpen"),"wx"!=cc.Mgr.PlatformController.platform&&"qq"!=cc.Mgr.PlatformController.platform||(this.RankUINode.active=!0)):cc.Mgr.PlatformController.showToast("\u8be5\u529f\u80fd\u5c1a\u672a\u5f00\u653e")},CloseRankPanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("RankPanelCloseInMainView"),this.RankUINode.active=!1},ShowRebornPanel:function(){cc.Mgr.AdsMgr.ShowInterstitialAd(1),cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes"),this.overPanel.node.active=!0,cc.Mgr.PlatformController.setUserCloudStorage(cc.Mgr.UserData.getHighScore()),this.overPanel.ShowPanel(),cc.Mgr.UserData.SaveData(),cc.Mgr.PlatformController.SendMessageToSubView("ShowThreeNodes")},UseBoomSkillOpen:function(){if(cc.Mgr.AudioMgr.playSFX("dong"),this.gameCtrl.gameState==s.Play){if(cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes"),0==cc.Mgr.UserData.getSkillBoomNum())return this.boomSkillBuyPanel.node.active=!0,void this.boomSkillBuyPanel.ShowPanel();cc.Mgr.Global.UseSkillState=!0,this.BoomSkillTipNode.active=!0,this.gameCtrl.OffTouchEventListener()}},CancelUseBoomSkill:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),cc.Mgr.Global.UseSkillState=!1,this.BoomSkillTipNode.active=!1,this.gameCtrl.AddTouchEventListener()},UseBoomSkillEnd:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),cc.Mgr.UserData.addSkillBoomNum(-1),this.boomHasNumLbl.string=cc.Mgr.UserData.getSkillBoomNum(),cc.Mgr.Global.UseSkillState=!1,this.BoomSkillTipNode.active=!1,this.gameCtrl.AddTouchEventListener()},UseSpwanSkillOpen:function(){if(cc.Mgr.AudioMgr.playSFX("dong"),this.gameCtrl.gameState==s.Play){if(cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes"),0==cc.Mgr.UserData.getSkillSpwanNum())return this.spwanSkillBuyPanel.node.active=!0,void this.spwanSkillBuyPanel.ShowPanel();cc.Mgr.Global.UseSkillSpwanNow=!0,this.SpawnSkillTipNode.active=!0,this.gameCtrl.OffTouchEventListener()}},CancelUseSpwanSkill:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),cc.Mgr.Global.UseSkillSpwanNow=!1,this.SpawnSkillTipNode.active=!1,this.gameCtrl.AddTouchEventListener()},UseSpwanSkillEnd:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),cc.Mgr.UserData.addSkillSpwanNum(-1),this.spwanHasNumLbl.string=cc.Mgr.UserData.getSkillSpwanNum(),cc.Mgr.Global.UseSkillSpwanNow=!1,this.SpawnSkillTipNode.active=!1,this.gameCtrl.AddTouchEventListener()},BuySpwanSkill:function(){if(cc.Mgr.UserData.coin<cc.Mgr.Global.BoomCost){var e={des:"\u60a8\u7684\u91d1\u5e01\u4e0d\u591f,\u53ef\u4ee5\u901a\u8fc7\u70b9\u51fb\u5de6\u4e0a\u89d2\u89c6\u9891\u6309\u94ae,\u89c2\u770b\u89c6\u9891\u5e7f\u544a\u83b7\u5f97\u6280\u80fd\u70b9,\u6216\u8005\u5728\u6e38\u620f\u4e2d\u8d5a\u8db3\u591f\u7684\u91d1\u5e01\u8d2d\u4e70\u6280\u80fd\u70b9"};this.ShowTipDesPanel(e)}else cc.Mgr.UserData.addSkillSpwanNum(1),cc.Mgr.UserData.coin-=cc.Mgr.Global.BoomCost,this.uiScore.coinLbl.string=cc.Mgr.UserData.getCoinNum(),this.spwanHasNumLbl.string=cc.Mgr.UserData.getSkillSpwanNum()},BuyBoomSkill:function(){if(cc.Mgr.UserData.coin<cc.Mgr.Global.BoomCost){var e={des:"\u60a8\u7684\u91d1\u5e01\u4e0d\u591f,\u53ef\u4ee5\u901a\u8fc7\u70b9\u51fb\u5de6\u4e0a\u89d2\u89c6\u9891\u6309\u94ae,\u89c2\u770b\u89c6\u9891\u5e7f\u544a\u83b7\u5f97\u6280\u80fd\u70b9,\u6216\u8005\u5728\u6e38\u620f\u4e2d\u8d5a\u8db3\u591f\u7684\u91d1\u5e01\u8d2d\u4e70\u6280\u80fd\u70b9"};this.ShowTipDesPanel(e)}else cc.Mgr.UserData.addSkillBoomNum(1),cc.Mgr.UserData.coin-=cc.Mgr.Global.BoomCost,this.uiScore.coinLbl.string=cc.Mgr.UserData.getCoinNum(),this.boomHasNumLbl.string=cc.Mgr.UserData.getSkillBoomNum()},CloseBuyBoomPanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.boomSkillBuyPanel.node.active=!1,this.spwanSkillBuyPanel.node.active=!1},ShowTipDesPanel:function(e){cc.Mgr.AudioMgr.playSFX("dong"),this.tipPanel.node.active=!0,this.tipPanel.ShowPanel(e.des)},CloseTipDesPanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.tipPanel.node.active=!1},OpenSetting:function(){cc.Mgr.AudioMgr.playSFX("dong"),this.menuPanel.node.active=!1,cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes"),this.settingPanel.node.active=!0,this.settingPanel.ShowPanel()},OpenTipPlay:function(){cc.Mgr.AudioMgr.playSFX("dong"),cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes"),this.tipPlayPanel.node.active=!0},CloseSettingPanel:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.settingPanel.node.active=!1},ReturnOneStep:function(){if(cc.Mgr.UserData.getCoinNum()<cc.Mgr.Global.ReturnStepCost){var e={des:"\u60a8\u7684\u91d1\u5e01\u4e0d\u591f,\u53ef\u4ee5\u901a\u8fc7\u70b9\u51fb\u5de6\u4e0a\u89d2\u89c6\u9891\u6309\u94ae,\u89c2\u770b\u89c6\u9891\u5e7f\u544a\u83b7\u5f97\u6280\u80fd\u70b9,\u6216\u8005\u5728\u6e38\u620f\u4e2d\u8d5a\u8db3\u591f\u7684\u91d1\u5e01\u8d2d\u4e70\u6280\u80fd\u70b9"};this.ShowTipDesPanel(e)}else cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),this.uiScore.AddCoinFunc(-cc.Mgr.Global.ReturnStepCost),this.skillUsePanel.node.active=!1,this.skillBackTip.node.active=!1,this.gameCtrl.ReturnBackOneStep(),cc.Mgr.Global.hasMove=!1},ReturnOneStepUseOne:function(){cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes"),cc.Mgr.UserData.addSkillBackNum(-1),this.backHasNumLbl.string=cc.Mgr.UserData.getSkillBackNum(),this.skillUsePanel.node.active=!1,this.skillBackTip.node.active=!1,this.gameCtrl.ReturnBackOneStep(),cc.Mgr.Global.hasMove=!1},OpenUseSkillPanel:function(){if(cc.Mgr.AudioMgr.playSFX("dong"),this.gameCtrl.gameState==s.Play)if(cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes"),0!=cc.Mgr.Global.hasMove){if(cc.Mgr.UserData.getSkillBackNum()>0)return this.skillBackTip.node.active=!0,void this.skillBackTip.ShowPanel();this.skillUsePanel.node.active=!0,this.skillUsePanel.ShowPanel()}else{var e={des:"\u65e0\u9700\u56de\u9000,\u53ea\u6709\u79fb\u52a8\u8fc7\u540e\u624d\u80fd\u6267\u884c\u56de\u9000"};this.ShowTipDesPanel(e)}},ScreenRecord:function(){cc.Mgr.AudioMgr.playSFX("dong"),0==cc.Mgr.PlatformController.isScreen?(cc.Mgr.PlatformController.StartRecordScreen(),this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_on"),this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("luping_on")):(cc.Mgr.PlatformController.StopRecordScreen(),this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("video"),this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("video"))},SetScreenSps:function(){0==cc.Mgr.PlatformController.isScreen?(this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("video"),this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("video")):(this.screenSpA.spriteFrame=this.Atlas.getSpriteFrame("luping_on"),this.screenSpB.spriteFrame=this.Atlas.getSpriteFrame("luping_on"))},OpenMenuPanel:function(){cc.Mgr.AudioMgr.playSFX("dong"),cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes"),this.menuPanel.node.active=!0,this.menuPanel.ShowPanel(this.uiScore.runeType)},OpenTimeRewardB:function(){cc.Mgr.AudioMgr.playSFX("dong"),this.menuPanel.node.active=!1,this.uiScore.OpenTimeReward(2)},OpenTimeRewardC:function(){cc.Mgr.AudioMgr.playSFX("dong"),this.menuPanel.node.active=!1,this.uiScore.OpenTimeReward(3)},OpenTimeRewardS:function(){cc.Mgr.AudioMgr.playSFX("dong"),this.menuPanel.node.active=!1,this.uiScore.OpenTimeRewardS()},AdsRewardSkill:function(){var e=this;cc.Mgr.AdsMgr.ShowVideoAds(m.PointE,function(t){if(0==t){cc.Mgr.UserData.addSkillBackNum(2),cc.Mgr.UserData.addSkillBoomNum(2),cc.Mgr.UserData.addSkillSpwanNum(2);var o={Tp:"",RewardType:2,getAll:1,num:2};e.uiScore.playAnimationTypeB(o),e.RefreshUILater()}})},RefreshUILater:function(){this.scheduleOnce(function(){this.RefreshUI()},.65)},AdsGetReturnBackSkill:function(){var e=this;cc.Mgr.AdsMgr.ShowVideoAds(m.PointF,function(t){if(0==t){cc.Mgr.UserData.addSkillBackNum(3),e.skillUsePanel.node.active=!1;e.OpenUseSkillPanel(),e.RefreshUI()}})},AdsGetBoomSkill:function(){var e=this;cc.Mgr.AdsMgr.ShowVideoAds(m.PointG,function(t){if(0==t){cc.Mgr.UserData.addSkillBoomNum(3);e.RefreshUI(),e.boomSkillBuyPanel.node.active=!1,e.UseBoomSkillOpen()}})},AdsGetSpwanSkill:function(){var e=this;cc.Mgr.AdsMgr.ShowVideoAds(m.PointH,function(t){if(0==t){cc.Mgr.UserData.addSkillSpwanNum(3);e.RefreshUI(),e.spwanSkillBuyPanel.node.active=!1,e.UseSpwanSkillOpen()}})}});t.exports=M,cc._RF.pop()},{AdsParam:"AdsParam",BuyBoomPanel:"BuyBoomPanel",CommonTipPanel:"CommonTipPanel",GameController:"GameController",GameState:"GameState",MenuPanel:"MenuPanel",OverPanel:"OverPanel",SettingPanel:"SettingPanel",ShopPanel:"ShopPanel",SkillBackTipPanel:"SkillBackTipPanel",SkillUsePanel:"SkillUsePanel",StartPanel:"StartPanel",TipPlayPanel:"TipPlayPanel",TutorialPanel:"TutorialPanel",UIScore:"UIScore"}],UIScore:[function(e,t,o){"use strict";cc._RF.push(t,"849e3dPAkJPLqkYfhXhB8yQ","UIScore");var i=e("Global"),n=e("LvUpPanel"),s=e("AdsParam"),r=e("DiamondPanel");cc.Class({extends:cc.Component,properties:{score:0,gameLv:1,Atlas:cc.SpriteAtlas,ScoreLbl:cc.Label,diamondLbl:cc.Label,runeType:2,StartUiRuneSp:cc.Sprite,runeBNumLbl:cc.Label,runeCNumLbl:cc.Label,gameLvLbl:cc.Label,coinLbl:cc.Label,lvUpPanel:n,startUiNode:cc.Node,scoreGetDiaLbl:cc.Label,getDiamondLbl:cc.Label,diamondDesLbl:cc.Label,getDiamondDesLbl:cc.Label,diamondBtnSp:cc.Sprite,DiamondRewardNode:r,DiamondTimePanel:r,doubleBtnSp:cc.Sprite,diamondForm:"Score",rewardGetAniA:cc.Animation,rewardGetAniB:cc.Animation,coinAdd:cc.Label,runeBAdd:cc.Label,runeCAdd:cc.Label,skillAddA:cc.Label,skillAddB:cc.Label,skillAddC:cc.Label},playAnimationTypeA:function(e){1==e.RewardType&&(this.runeBAdd.string="runeB"==e.Tp?"+"+e.num:"",this.runeCAdd.string="runeC"==e.Tp?"+"+e.num:"",this.coinAdd.string="coin"==e.Tp?"+"+e.num:"",this.scheduleOnce(function(){this.rewardGetAniA.play("gameRewardA"),this.RefreshUILbl()},.5))},playAnimationTypeB:function(e){2==e.RewardType&&(this.skillAddA.node.active="skillA"==e.Tp,this.skillAddB.node.active="skillB"==e.Tp,this.skillAddC.node.active="skillC"==e.Tp,1==e.getAll?(this.skillAddA.string="+"+e.num,this.skillAddB.string="+"+e.num,this.skillAddC.string="+"+e.num):(this.skillAddA.string="skillA"==e.Tp?"+"+e.num:"",this.skillAddB.string="skillB"==e.Tp?"+"+e.num:"",this.skillAddC.string="skillC"==e.Tp?"+"+e.num:""),this.scheduleOnce(function(){this.rewardGetAniB.play("gameRewardB")},.5))},start:function(){var e=this;cc.director.on("AddGameScore",function(t){e.AddScoreFunc(1)}),cc.director.on("BuySkin",function(t){e.RefreshUILbl()}),this.StartUiRuneSp.spriteFrame=this.Atlas.getSpriteFrame("target_"+this.runeType),this.schedule(function(){if(this.SubLeftRewardTime(),1==cc.Mgr.Global.canGetReward)this.diamondBtnSp.spriteFrame=this.Atlas.getSpriteFrame("btnbg_1"),this.doubleBtnSp.spriteFrame=this.Atlas.getSpriteFrame("btnbg_1"),this.getDiamondDesLbl.string="\u53ef\u83b7\u5f97\u5956\u52b1";else if(this.doubleBtnSp.spriteFrame=this.Atlas.getSpriteFrame("btnbg_2"),this.diamondBtnSp.spriteFrame=this.Atlas.getSpriteFrame("btnbg_2"),cc.Mgr.UserData.gerRewardHasTimes()>=cc.Mgr.Global.RuneRewardTimesForOneDay)this.getDiamondDesLbl.string="\u4eca\u65e5\u7684\u9886\u53d6\u6b21\u6570\u5df2\u7ecf\u7528\u5b8c";else{var e=cc.Mgr.UserData.getRewardLastTime()+cc.Mgr.Global.rewardGetInterval-cc.Mgr.Utils.GetSysTime(),t=cc.Mgr.Utils.FormatNumToTime(e);this.getDiamondDesLbl.string=t+" \u540e\u53ef\u83b7\u5f97\u5956\u52b1\n(\u5269\u4f59"+(10-cc.Mgr.UserData.gerRewardHasTimes())+"/"+cc.Mgr.Global.RuneRewardTimesForOneDay+")"}this.getDiamondLbl.string=200},1)},RefreshUILbl:function(){this.runeCNumLbl.string=cc.Mgr.UserData.getRuneNum(3),this.runeBNumLbl.string=cc.Mgr.UserData.getRuneNum(2),this.coinLbl.string=cc.Mgr.UserData.getCoinNum()},SubLeftRewardTime:function(){cc.Mgr.Utils.GetSysTime()-cc.Mgr.UserData.getRewardLastTime()>=cc.Mgr.Global.rewardGetInterval&&cc.Mgr.UserData.gerRewardHasTimes()<cc.Mgr.Global.RuneRewardTimesForOneDay?cc.Mgr.Global.canGetReward=!0:cc.Mgr.Global.canGetReward=!1},AddScoreFunc:function(e){this.score+=e,cc.Mgr.UserData.addScore(e),this.ScoreLbl.string=this.score,0==this.lvUpPanel.node.active&&0==this.DiamondRewardNode.node.active&&cc.Mgr.PlatformController.SendMessageToSubView("RefreshBeyondNormalNode",this.score);var t=cc.scaleTo(.01,1,1.5),o=cc.scaleTo(.01,1.5,1),n=cc.sequence(t,o);this.ScoreLbl.node.runAction(n);var s=this.gameLv;if(this.gameLv=Math.floor(this.score/i.LvScore)+1,this.gameLvLbl.string=this.gameLv,this.score>cc.Mgr.UserData.getHighScore()&&cc.Mgr.UserData.refreshHighScore(this.score),this.gameLv>s){cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes"),cc.Mgr.AudioMgr.playSFX("lv"),this.lvUpPanel.node.active=!0;var r=Math.floor((cc.Mgr.Global.PassLvGetCoin+10*this.gameLv)*cc.Mgr.Global.CoinBonus);this.lvUpPanel.ShowPanel(r)}if(cc.Mgr.UserData.refreshGameLv(this.score),this.score%100==0&&0!=this.score&&0==this.lvUpPanel.node.active){cc.Mgr.AudioMgr.playSFX("lv"),cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes"),this.diamondForm="Score",this.DiamondRewardNode.node.active=!0,this.DiamondRewardNode.ShowPanel(this.runeType),this.diamondDesLbl.node.active=!0;r=Math.floor((cc.Mgr.Global.DiamondGetNum+10*this.gameLv)*cc.Mgr.Global.DiamondBonus);this.scoreGetDiaLbl.string=r}},AddGetCoinFunc:function(){var e=Math.floor((cc.Mgr.Global.PassLvGetCoin+10*this.gameLv)*cc.Mgr.Global.CoinBonus);cc.Mgr.UserData.addCoinFunc(e),this.lvUpPanel.node.active=!1;var t={Tp:"coin",RewardType:1,getAll:0};t.num=e,this.playAnimationTypeA(t),cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes")},RefreshUILblLater:function(){this.scheduleOnce(function(){this.RefreshUILbl()},.65)},ShareGetCoin:function(){var e=this.score+"\u4e2a\u8d1d\u58f3\u4e86,\u8fde\u6211\u81ea\u5df1\u90fd\u65e0\u6cd5\u76f8\u4fe1\u6211\u6709\u8fd9\u4e48\u5389\u5bb3";cc.Mgr.PlatformController.ShareToFriendTxt(e),this.AddGetCoinFunc()},WatchAdsAddDoubleCoin:function(){var e=this;cc.Mgr.AdsMgr.ShowVideoAds(s.PointC,function(t){0==t&&e.AddDoubleCoinFunc()})},WatchAdsAddDoubleDiaScore:function(){var e=this;cc.Mgr.AdsMgr.ShowVideoAds(s.PointB,function(t){0==t&&e.AddDoubleDiamondFunc()})},WatchAdsAddDoubleDiaTime:function(){if(0!=cc.Mgr.Global.canGetReward){var e=this;cc.Mgr.AdsMgr.ShowVideoAds(s.PointD,function(t){0==t&&e.AddDoubleDiamondFunc()})}},AddDoubleCoinFunc:function(){var e=2*Math.floor((cc.Mgr.Global.PassLvGetCoin+10*this.gameLv)*cc.Mgr.Global.CoinBonus);cc.Mgr.UserData.addCoinFunc(e),this.lvUpPanel.node.active=!1;var t={Tp:"coin",RewardType:1,getAll:0};t.num=e,this.playAnimationTypeA(t),cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes")},AddCoinFunc:function(e){cc.Mgr.UserData.addCoinFunc(e),this.coinLbl.string=cc.Mgr.UserData.getCoinNum()},AddDiamondFunc:function(e){cc.Mgr.UserData.addDiamondFunc(e),this.runeCNumLbl.string=cc.Mgr.UserData.getRuneNum(3),this.runeBNumLbl.string=cc.Mgr.UserData.getRuneNum(2)},AddGetDiamondFunc:function(){var e=400,t={Tp:"runeC"},o=!0;"Score"==this.diamondForm?(e=Math.floor((cc.Mgr.Global.DiamondGetNum+10*this.gameLv)*cc.Mgr.Global.DiamondBonus),cc.Mgr.UserData.addRuneFunc(e,this.runeType),2==this.runeType&&(t.Tp="runeB"),this.runeType=this.runeType+1>3?2:3,this.StartUiRuneSp.spriteFrame=this.Atlas.getSpriteFrame("target_"+this.runeType)):1==cc.Mgr.Global.canGetReward?(e=200,cc.Mgr.UserData.addRuneFunc(e,this.runeType),2==this.runeType&&(t.Tp="runeB"),this.runeType=this.runeType+1>3?2:3,this.StartUiRuneSp.spriteFrame=this.Atlas.getSpriteFrame("target_"+this.runeType),cc.Mgr.UserData.RefreshRewardTimeData()):o=!1,t.RewardType=1,t.getAll=0,t.num=e,1==o&&(this.playAnimationTypeA(t),1==this.startUiNode.active&&cc.director.emit("RewardCallBack",t)),this.DiamondRewardNode.node.active=!1,this.DiamondTimePanel.node.active=!1,0==this.startUiNode.active&&cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes")},AddDoubleDiamondFunc:function(){var e=400,t={Tp:"runeC"},o=!0;"Score"==this.diamondForm?(e=2*Math.floor((cc.Mgr.Global.DiamondGetNum+10*this.gameLv)*cc.Mgr.Global.DiamondBonus),cc.Mgr.UserData.addRuneFunc(e,this.runeType),2==this.runeType&&(t.Tp="runeB"),this.runeType=this.runeType+1>3?2:3,this.StartUiRuneSp.spriteFrame=this.Atlas.getSpriteFrame("target_"+this.runeType)):1==cc.Mgr.Global.canGetReward?(e=400,cc.Mgr.UserData.addRuneFunc(e,this.runeType),2==this.runeType&&(t.Tp="runeB"),this.runeType=this.runeType+1>3?2:3,this.StartUiRuneSp.spriteFrame=this.Atlas.getSpriteFrame("target_"+this.runeType),cc.Mgr.UserData.RefreshRewardTimeData()):o=!1,t.RewardType=1,t.getAll=0,t.num=e,1==o&&(this.playAnimationTypeA(t),1==this.startUiNode.active&&cc.director.emit("RewardCallBack",t)),this.DiamondRewardNode.node.active=!1,this.DiamondTimePanel.node.active=!1,0==this.startUiNode.active&&cc.Mgr.PlatformController.SendMessageToSubView("ShowFrontNodes")},ResetScore:function(){this.score=0,this.gameLv=1,this.ScoreLbl.string="0",this.gameLvLbl.string="1",cc.Mgr.UserData.ResetScore(),this.coinLbl.string=cc.Mgr.UserData.getCoinNum(),this.runeCNumLbl.string=cc.Mgr.UserData.getRuneNum(3),this.runeBNumLbl.string=cc.Mgr.UserData.getRuneNum(2),cc.Mgr.PlatformController.SendMessageToSubView("RefreshBeyondNormalNode",this.score)},ResetScoreUseProgress:function(e){this.ScoreLbl.string=e,this.score=e},OpenTimeReward:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;cc.Mgr.AdsMgr.RecoverShowBanner(),this.runeType=e,this.diamondForm="Time",this.DiamondTimePanel.node.active=!0,this.DiamondTimePanel.ShowPanel(this.runeType),this.getDiamondDesLbl.node.active=!0,this.StartUiRuneSp.spriteFrame=this.Atlas.getSpriteFrame("target_"+this.runeType),cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes")},OpenTimeRewardS:function(){this.diamondForm="Time",this.DiamondTimePanel.node.active=!0,this.DiamondTimePanel.ShowPanel(this.runeType),this.getDiamondDesLbl.node.active=!0,cc.Mgr.PlatformController.SendMessageToSubView("CloseFrontNodes")}});cc._RF.pop()},{AdsParam:"AdsParam",DiamondPanel:"DiamondPanel",Global:"Global",LvUpPanel:"LvUpPanel"}],UserData:[function(e,t,o){"use strict";cc._RF.push(t,"36acdoQvwJHyaYwk2zo7hgr","UserData");var i=e("Global"),n=e("ReBox"),s=e("DataType"),r=e("SkinStruct"),a=cc.Class({extends:cc.Component,properties:{HighScore:0,coin:0,diamond:0,runeB:0,runeC:0,curUseSkinId:5,skillBoomNum:2,skillBackNum:2,skillSpwanNum:2,skinList:{default:[],type:[r]},hasLastProgress:0,remScore:0,rewardLastTime:0,rewardGetTimes:0,CurUseDataType:0,tutorialOver:0,tutorialSeed:0,tutorialStone:0,tutorialFlower:0,score:0,gameLv:1,colsNum:5,rowsNum:5,nextGetRewardTime:900,leftRebornTimes:3},initData:function(){var e=cc.sys.localStorage.getItem("jz_userdata");if(null!=e&&""!=e){console.log("\u5e72\uff0c\u6709\u6570\u636e");var t=JSON.parse(e);this.HighScore=t.highscore,this.diamond=t.diamond,this.runeB=t.runeB,this.runeC=t.runeC,this.coin=t.coin,this.skillBoomNum=t.skillBoomNum,this.skillBackNum=t.skillBackNum,null!=t.leftRebornTimes&&""!=t.leftRebornTimes?this.leftRebornTimes=t.leftRebornTimes:this.leftRebornTimes=3,null!=t.skillSpwanNum&&""!=t.skillSpwanNum?this.skillSpwanNum=t.skillSpwanNum:this.skillSpwanNum=2,this.curUseSkinId=t.curUseSkinId,this.skinList=t.skinList,this.tutorialOver=t.tutorialOver,this.tutorialSeed=t.tutorialSeed,this.tutorialStone=t.tutorialStone,this.tutorialFlower=t.tutorialFlower,this.rewardLastTime=t.rewardLastTime,this.rewardGetTimes=t.rewardGetTimes,cc.log("\u6570\u636e = "+JSON.stringify(e))}else{console.log("\u5e72\uff0c\u4e4b\u524d\u6ca1\u6709\u6570\u636e");var o={skinList:null,highscore:0,coin:0,diamond:0,tutorialOver:0,tutorialSeed:0,tutorialStone:0,tutorialFlower:0,rewardGetTimes:0,rewardLastTime:0,curUseSkinId:5,runeB:0,runeC:0,skillBoomNum:2,skillBackNum:2,skillSpwanNum:2,leftRebornTimes:3};this.HighScore=o.highscore,this.coin=o.coin,this.diamond=o.diamond,this.runeB=o.runeB,this.runeC=o.runeC,this.leftRebornTimes=o.leftRebornTimes,this.skillBoomNum=o.skillBoomNum,this.skillBackNum=o.skillBackNum,this.skillSpwanNum=o.skillSpwanNum,this.curUseSkinId=o.curUseSkinId,this.tutorialOver=o.tutorialOver,this.tutorialSeed=o.tutorialSeed,this.tutorialFlower=o.tutorialFlower,this.tutorialStone=o.tutorialStone,this.rewardLastTime=o.rewardLastTime,this.rewardGetTimes=o.rewardGetTimes;for(var i=cc.Mgr.DataMapMgr.getDataListByDataType(s.Skin),n=0;n<i.length;n++){var a=i[n],c=new r;c.skinId=a.skinId,c.price=a.price,5==a.skinId?c.unLock=1:c.unLock=0,this.skinList[n]=c}o.skinList=this.skinList,cc.sys.localStorage.setItem("jz_userdata",JSON.stringify(o))}this.GetInitProgess(),this.AdjustTimeRewardData(),this.score=0,this.gameLv=1,cc.log("=============================== "+this.coin)},AdjustTimeRewardData:function(){Math.floor(cc.Mgr.Utils.GetSysTime()/86400)-Math.floor(this.rewardLastTime/86400)>=1&&(this.rewardGetTimes=0)},GetInitProgess:function(){var e=cc.sys.localStorage.getItem("jz_progressdata");if(null==e||""==e){var t={};this.ReBoxMap=new Array(this.rowsNum);for(var o=0;o<this.rowsNum;o++){for(var i=new Array(this.colsNum),s=0;s<this.colsNum;s++)i[s]=new n;this.ReBoxMap[o]=i}for(o=0;o<this.rowsNum;o++)for(s=0;s<this.colsNum;s++)this.ReBoxMap[o][s].InitBox(o,s);this.hasLastProgress=0,this.remScore=0,t.remScore=this.remScore,t.ReBoxMap=this.ReBoxMap,t.hasLastProgress=this.hasLastProgress,cc.sys.localStorage.setItem("jz_progressdata",JSON.stringify(t))}else{var r=JSON.parse(e);this.remScore=r.remScore,this.ReBoxMap=r.ReBoxMap,this.hasLastProgress=r.hasLastProgress}},SaveBoxMapData:function(e,t){this.remScore=e,this.hasLastProgress=t;var o={};o.remScore=e,o.ReBoxMap=this.ReBoxMap,o.hasLastProgress=this.hasLastProgress,cc.sys.localStorage.setItem("jz_progressdata",JSON.stringify(o))},GetReBoxMapUnNullLength:function(){for(var e=[],t=0;t<this.rowsNum;t++)for(var o=0;o<this.colsNum;o++)0==this.ReBoxMap[t][o].flagNum&&1!=this.ReBoxMap[t][o].showCoin&&1!=this.ReBoxMap[t][o].showSeed||e.push(this.ReBoxMap[t][o]);return e},GetReBoxParam:function(e,t){var o={};return o.flagNum=this.ReBoxMap[e][t].flagNum,o.showCoin=this.ReBoxMap[e][t].showCoin,o.showSeed=this.ReBoxMap[e][t].showSeed,o},RefreshBoxMapRem:function(e,t,o){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.ReBoxMap[e][t].showCoin=i,this.ReBoxMap[e][t].showSeed=n,this.ReBoxMap[e][t].flagNum=o},ClearReBoxMap:function(){for(var e=0;e<this.rowsNum;e++)for(var t=0;t<this.colsNum;t++)this.ReBoxMap[e][t].posX=e,this.ReBoxMap[e][t].posY=t,this.ReBoxMap[e][t].flagNum=0,this.ReBoxMap[e][t].showCoin=!1,this.ReBoxMap[e][t].showSeed=!1;this.SaveBoxMapData(0,0)},getHighScore:function(){return this.HighScore},getCoinNum:function(){return this.coin},addCoinFunc:function(e){this.coin+=e},addDiamondFunc:function(e){this.diamond+=e},addRuneFunc:function(e,t){2==t?this.runeB+=e:3==t&&(this.runeC+=e)},getRuneNum:function(e){return 2==e?this.runeB:3==e?this.runeC:void 0},getSkillBoomNum:function(){return this.skillBoomNum},addSkillBoomNum:function(e){this.skillBoomNum+=e},getSkillSpwanNum:function(){return this.skillSpwanNum},addSkillSpwanNum:function(e){this.skillSpwanNum+=e},getSkillBackNum:function(){return this.skillBackNum},addSkillBackNum:function(e){this.skillBackNum+=e},getDiamondNum:function(){return this.diamond},addScore:function(e){this.score+=e},ResetScore:function(){this.score=0},getCurScore:function(){return this.score},refreshHighScore:function(e){e>this.HighScore&&(this.HighScore=e)},getGameLv:function(){return this.gameLv},refreshGameLv:function(e){this.gameLv=Math.floor(e/i.LvScore)+1},getCurSkinId:function(){return this.curUseSkinId},refreshUseSkinId:function(e){this.curUseSkinId=e,cc.Mgr.Global.RefreshBonusData(),this.SaveData()},UnlockSkinById:function(e){for(var t=this.skinList.length-1;t>=0;t--)if(this.skinList[t].skinId==e)return this.skinList[t].unLock=1,this.SaveData(),!0;return!1},IsSkinUnLock:function(e){for(var t=this.skinList.length-1;t>=0;t--)if(this.skinList[t].skinId==e)return 1==this.skinList[t].unLock;return!1},IsTutorialOver:function(){return 1==this.tutorialOver},FinishTutorial:function(){this.tutorialOver=1,this.SaveData()},IsFinishSeedTutor:function(){return 1==this.tutorialSeed},FinishTutorialSeed:function(){this.tutorialSeed=1,this.SaveData()},IsFinishStoneTutor:function(){return 1==this.tutorialStone},FinishTutorialStone:function(){this.tutorialStone=1,this.SaveData()},IsFinishFlowerTutor:function(){return 1==this.tutorialFlower},FinishTutorialFlower:function(){this.tutorialFlower=1,this.SaveData()},getRewardLastTime:function(){return this.rewardLastTime},gerRewardHasTimes:function(){return this.rewardGetTimes},RefreshRewardTimeData:function(){this.rewardLastTime=cc.Mgr.Utils.GetSysTime(),this.rewardGetTimes+=1,this.rewardGetTimes>=3&&(this.rewardGetTimes=3),this.SaveData()},SaveData:function(){var e={};e.highscore=this.HighScore,e.coin=this.coin,e.diamond=this.diamond,e.runeB=this.runeB,e.runeC=this.runeC,e.skillBoomNum=this.skillBoomNum,e.skillSpwanNum=this.skillSpwanNum,e.skillBackNum=this.skillBackNum,e.curUseSkinId=this.curUseSkinId,e.skinList=this.skinList,e.tutorialOver=this.tutorialOver,e.tutorialSeed=this.tutorialSeed,e.tutorialFlower=this.tutorialFlower,e.tutorialStone=this.tutorialStone,e.rewardLastTime=this.rewardLastTime,e.rewardGetTimes=this.rewardGetTimes,e.leftRebornTimes=this.leftRebornTimes,cc.sys.localStorage.setItem("jz_userdata",JSON.stringify(e))}});t.exports=a,cc._RF.pop()},{DataType:"DataType",Global:"Global",ReBox:"ReBox",SkinStruct:"SkinStruct"}],Utils:[function(e,t,o){"use strict";cc._RF.push(t,"a60aanWjolALZiocmyzHge3","Utils");var i=cc.Class({extends:cc.Component,statics:{FormatNumToTime:function(e){var t=Math.floor(e/3600),o=Math.floor((e-3600*t)/60),i=Math.floor(e-3600*t-60*o),n=t,s=o,r=i;return t<10&&(n="0"+t),o<10&&(s="0"+o),i<10&&(r="0"+i),n+":"+s+":"+r},GetSysTime:function(){return Math.round(new Date/1e3)-1545264e3}}});t.exports=i,cc._RF.pop()},{}]},{},["AudioMgr","BonusType","Box","BoxType","CurUseData","DIR","DataMapMgr","SkinBonus","SkinData","SkinMap","DataType","GameController","GameState","Global","PlatformController","ReBox","ShareInfos","SkinStruct","UserData","Utils","AdsMgr","AdsParam","AppStart","BirdVoiceCtrl","BuyBoomPanel","CoinEffect","CommonTipPanel","DiamondPanel","LvUpPanel","MenuPanel","OverPanel","RankPanel","RewardGetTipPanel","SettingPanel","ShopPanel","SkillBackTipPanel","SkillUsePanel","SkinItem","StartPanel","TipPlayPanel","TutorialPanel","UIMgr","UIScore"]);